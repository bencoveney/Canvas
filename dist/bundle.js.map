{"version":3,"sources":["webpack:///webpack/bootstrap 6d3277b5f0f3a12dbce6","webpack:///./src/main.ts","webpack:///./src/entitySystem/renderSystem.ts","webpack:///./src/entitySystem/system.ts","webpack:///./src/entitySystem/locationComponent.ts","webpack:///./src/entitySystem/renderComponent.ts","webpack:///./src/renderer.ts","webpack:///./src/player.ts","webpack:///./src/physicsBlock.ts","webpack:///./src/block.ts","webpack:///./src/entitySystem/collisionComponent.ts","webpack:///./src/entitySystem/callbackArray.ts","webpack:///./src/entitySystem/inputComponent.ts","webpack:///./src/entitySystem/emitterComponent.ts","webpack:///./src/entitySystem/scoreComponent.ts","webpack:///./src/viewport.ts","webpack:///./src/menu.ts","webpack:///./src/sprite.ts","webpack:///./src/volume.ts","webpack:///./src/sound.ts","webpack:///./src/platform.ts","webpack:///./src/controller.ts","webpack:///./src/entitySystem/orchestrator.ts","webpack:///./src/entitySystem/locationSystem.ts","webpack:///./src/entitySystem/collisionSystem.ts","webpack:///./src/entitySystem/inputSystem.ts","webpack:///./src/entitySystem/scoreSystem.ts","webpack:///./src/entitySystem/gameStateSystem.ts","webpack:///./src/entitySystem/emitterSystem.ts"],"names":["RenderSystem","RenderSystem.constructor","RenderSystem.offsetX","RenderSystem.offsetY","RenderSystem.Run","RenderSystem.Draw","RenderSystem.RotateAroundCenter","RenderSystem.MoveToPosition","RenderSystem.OffsetLayer","RenderSystem.OffsetViewport","RenderSystem.DrawRect","RenderSystem.DrawSprite","RenderSystem.DrawText","System","System.constructor","System.ApplyToIndividuals","System.ApplyToPairs","LocationType","LocationComponent","LocationComponent.constructor","LocationComponent.xPosition","LocationComponent.yPosition","LocationComponent.xPositionValue","LocationComponent.yPositionValue","LocationComponent.width","LocationComponent.height","LocationComponent.xSpeed","LocationComponent.ySpeed","LocationComponent.rotation","LocationComponent.left","LocationComponent.right","LocationComponent.top","LocationComponent.bottom","LocationComponent.centerXPosition","LocationComponent.centerYPosition","LocationComponent.rotationInDegrees","LocationComponent.type","LocationComponent.Duplicate","RenderComponent","RenderComponent.constructor","RenderComponent.position","RenderComponent.skewedPosition","RenderComponent.opacity","RenderComponent.opacityValue","RenderComponent.zIndex","RenderComponent.skew","RenderComponent.layers","RenderLayer","RenderLayer.constructor","RenderLayer.offsetX","RenderLayer.offsetY","RectangleLayer","RectangleLayer.constructor","RectangleLayer.fillColor","RectangleLayer.fillColorValue","SpriteLayer","SpriteLayer.constructor","SpriteLayer.image","SpriteLayer.FromPath","TextLayer","TextLayer.constructor","TextLayer.text","TextLayer.textValue","TextLayer.fillColor","TextLayer.fillColorValue","TextLayer.font","TextLayer.sizeInPixels","TextLayer.isCentered","Renderer","Renderer.constructor","Renderer.Start","Renderer.Tick","Renderer.Draw","Player","Player.constructor","Player.Tick","Player.Reset","PhysicsBlock","PhysicsBlock.constructor","PhysicsBlock.gravity","PhysicsBlock.Tick","PhysicsBlock.Reset","Block","Block.constructor","Block.fillColor","Block.onMove","Block.skewedPosition","Block.direction","Block.Tick","Block.Reset","CollisionComponent","CollisionComponent.constructor","CollisionComponent.position","CollisionComponent.onCollide","CallbackArray","CallbackArray.constructor","CallbackArray.trigger","InputComponent","InputComponent.constructor","InputComponent.definedKeyHandlers","InputComponent.getKeyHandler","EmitterComponent","EmitterComponent.constructor","EmitterComponent.emitter","ScoreComponent","ScoreComponent.constructor","ScoreComponent.points","ScoreComponent.pointsValue","ScoreComponent.multiplier","ScoreComponent.multiplierValue","Viewport","Viewport.constructor","Viewport.renderDimensions","Viewport.offset","Viewport.SlideUpTo","Viewport.Render","Viewport.Reset","Menu","Menu.constructor","Menu.Render","Menu.showMenu","Menu.isPointOnButton","Sprite","Sprite.constructor","Sprite.dimensions","Sprite.Render","Volume","Volume.constructor","Volume.Render","Volume.createSound","Volume.isPointOnButton","Volume.changeVolume","Sound","Sound.constructor","Sound.play","Sound.volume","Platform","Platform.constructor","Platform.bottomOfScreen","Platform.offscreenAmount","Platform.Tick","Platform.Render","Controller","Controller.constructor","Controller.isKeyPressed","Controller.getMousePosition","Controller.getClickPosition","Controller.clearClick","Controller.handleKeyUp","Controller.handleKeyDown","Controller.handleMouseMove","Controller.handleMouseDown","Orchestrator","Orchestrator.constructor","Orchestrator.entities","Orchestrator.Tick","Orchestrator.Add","Orchestrator.Remove","Orchestrator.GetSystem","Orchestrator.RunSystems","LocationSystem","LocationSystem.constructor","LocationSystem.Run","CollisionSystem","CollisionSystem.constructor","CollisionSystem.Run","CollisionSystem.Collide","InputSystem","InputSystem.constructor","InputSystem.Run","InputSystem.TriggerKeyHandlers","ScoreSystem","ScoreSystem.constructor","ScoreSystem.points","ScoreSystem.multiplier","ScoreSystem.totalScore","ScoreSystem.round","ScoreSystem.Run","ScoreSystem.ResetScore","GameState","GameStateSystem","GameStateSystem.constructor","GameStateSystem.OnMenuState","GameStateSystem.OnGameState","GameStateSystem.Run","GameStateSystem.StartGame","GameStateSystem.EndGame","EmitterSystem","EmitterSystem.constructor","EmitterSystem.Run","EmitterSystem.Emit"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;KC3BA,IAAI,MAAM,GAAsB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAsB,CAAC;KAEzF,IAAI,UAAU,GAAe,IAAI,uBAAU,CAAC,MAAM,CAAC,CAAC;KAEpD,IAAI,YAAY,GAAiB,IAAI,2BAAY,CAChD,EAAE,EACF;SACC,UAAU,EAAE,IAAI,+BAAc,EAAE;MAChC,EACD;SACC,OAAO,EAAE,IAAI,yBAAW,CAAC,UAAU,CAAC;SACpC,WAAW,EAAE,IAAI,iCAAe,EAAE;SAClC,OAAO,EAAE,IAAI,yBAAW,EAAE;SAC1B,WAAW,EAAE,IAAI,iCAAe,EAAE;SAClC,SAAS,EAAE,IAAI,6BAAa,EAAE;MAC9B,EACD;SACC,QAAQ,EAAE,IAAI,2BAAY,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;MACnD,CAAC,CAAC;KAEJ,IAAI,mBAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC;KAGvD,MAAM,CAAC,MAAM,GAAG;SACf,MAAM,CAAC,KAAK,EAAE,CAAC;KAChB,CAAC,CAAC;KACF,MAAM,CAAC,OAAO,GAAG;SAChB,MAAM,CAAC,KAAK,EAAE,CAAC;KAChB,CAAC,CAAC;;;;;;;;;;;;;;KCjCF;SAAkCA,gCAAMA;SAkBvCA,sBAAYA,aAAuCA;aAClDC,iBAAOA,CAACA;aAjBDA,aAAQA,GAAWA,CAACA,CAACA;aACrBA,aAAQA,GAAWA,CAACA,CAACA;aAkB5BA,IAAIA,CAACA,cAAcA,GAAGA,aAAaA,CAACA;SACrCA,CAACA;SAjBDD,sBAAWA,iCAAOA;kBAAlBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;aACtBA,CAACA;kBACDF,UAAmBA,QAAgBA;iBAClCE,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;aAC1BA,CAACA;;;YAHAF;SAIDA,sBAAWA,iCAAOA;kBAAlBA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;aACtBA,CAACA;kBACDH,UAAmBA,QAAgBA;iBAClCG,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;aAC1BA,CAACA;;;YAHAH;SAWMA,0BAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAA5EI,iBAaCA;aAZAA,eAAMA,CAACA,kBAAkBA,CACxBA,QAAQA,EACRA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,eAAeA,CAACA;aACjCA,CAACA,EACDA,UAACA,MAAcA;iBACdA,KAAIA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aAC5CA,CAACA,EACDA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,MAAMA,CAACA,eAAeA,CAACA,MAAMA,CAACA;aACtCA,CAACA,CACDA,CAACA;SACHA,CAACA;SAEOJ,2BAAIA,GAAZA,UAAaA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAEzEK,EAAEA,CAACA,CAACA,CAACA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA;iBAC7BA,MAAMA,CAACA;aACRA,CAACA;aAEDA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,EAAEA,CAACA;aAE3BA,IAAIA,eAAeA,GAAoBA,MAAMA,CAACA,eAAeA,CAACA;aAE9DA,IAAIA,CAACA,cAAcA,CAACA,WAAWA,GAAGA,eAAeA,CAACA,YAAYA,CAACA;aAE/DA,EAAEA,CAACA,CAACA,eAAeA,CAACA,QAAQA,CAACA,IAAIA,KAAKA,gCAAYA,CAACA,KAAKA,CAACA,CAACA,CAACA;iBAC1DA,IAAIA,CAACA,cAAcA,EAAEA,CAACA;aACvBA,CAACA;aAEDA,IAAIA,CAACA,kBAAkBA,CAACA,eAAeA,CAACA,QAAQA,CAACA,CAACA;aAClDA,IAAIA,CAACA,cAAcA,CAACA,eAAeA,CAACA,QAAQA,CAACA,CAACA;aAG9CA,IAAIA,MAAMA,GAAkBA,eAAeA,CAACA,MAAMA,CAACA;aAEnDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,UAAUA,GAAWA,CAACA,EAAEA,UAAUA,GAAGA,MAAMA,CAACA,MAAMA,EAAEA,UAAUA,EAAEA,EAAEA,CAACA;iBAC3EA,IAAIA,KAAKA,GAAgBA,MAAMA,CAACA,UAAUA,CAACA,CAACA;iBAE5CA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,EAAEA,CAACA;iBAC3BA,IAAIA,CAACA,WAAWA,CAACA,KAAKA,CAACA,CAACA;iBAExBA,EAAEA,CAACA,CAACA,KAAKA,YAAYA,gCAAcA,CAACA,CAACA,CAACA;qBACrCA,IAAIA,CAACA,QAAQA,CAACA,eAAeA,EAAEA,KAAuBA,CAACA,CAACA;iBACzDA,CAACA;iBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,KAAKA,YAAYA,6BAAWA,CAACA,CAACA,CAACA;qBACzCA,IAAIA,CAACA,UAAUA,CAACA,eAAeA,EAAEA,KAAoBA,CAACA,CAACA;iBACxDA,CAACA;iBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,KAAKA,YAAYA,2BAASA,CAACA,CAACA,CAACA;qBACvCA,IAAIA,CAACA,QAAQA,CAACA,eAAeA,EAAEA,KAAkBA,CAACA,CAACA;iBACpDA,CAACA;iBAEDA,IAAIA,CAACA,cAAcA,CAACA,OAAOA,EAAEA,CAACA;aAC/BA,CAACA;aAEDA,IAAIA,CAACA,cAAcA,CAACA,OAAOA,EAAEA,CAACA;SAC/BA,CAACA;SAEOL,yCAAkBA,GAA1BA,UAA2BA,QAA2BA;aAErDM,IAAIA,CAACA,cAAcA,CAACA,SAASA,CAC5BA,QAAQA,CAACA,eAAeA,EACxBA,QAAQA,CAACA,eAAeA,CAACA,CAACA;aAG3BA,IAAIA,CAACA,cAAcA,CAACA,MAAMA,CAACA,QAAQA,CAACA,iBAAiBA,CAACA,CAACA;aAGvDA,IAAIA,CAACA,cAAcA,CAACA,SAASA,CAC5BA,CAACA,QAAQA,CAACA,eAAeA,EACzBA,CAACA,QAAQA,CAACA,eAAeA,CAACA,CAACA;SAC7BA,CAACA;SAEON,qCAAcA,GAAtBA,UAAuBA,QAA2BA;aACjDO,IAAIA,CAACA,cAAcA,CAACA,SAASA,CAC5BA,QAAQA,CAACA,cAAcA,EACvBA,QAAQA,CAACA,cAAcA,CAACA,CAACA;SAC3BA,CAACA;SAEOP,kCAAWA,GAAnBA,UAAoBA,KAAkBA;aACrCQ,IAAIA,CAACA,cAAcA,CAACA,SAASA,CAC5BA,KAAKA,CAACA,OAAOA,EACbA,KAAKA,CAACA,OAAOA,CAACA,CAACA;SACjBA,CAACA;SAEOR,qCAAcA,GAAtBA;aACCS,IAAIA,CAACA,cAAcA,CAACA,SAASA,CAC5BA,IAAIA,CAACA,QAAQA,EACbA,IAAIA,CAACA,QAAQA,CAACA,CAACA;SACjBA,CAACA;SAEOT,+BAAQA,GAAhBA,UAAiBA,eAAgCA,EAAEA,cAA8BA;aAEhFU,IAAIA,cAAcA,GAAsBA,eAAeA,CAACA,cAAcA,CAACA;aAGvEA,IAAIA,CAACA,cAAcA,CAACA,SAASA,EAAEA,CAACA;aAGhCA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CACvBA,CAACA,EACDA,CAACA,EACDA,cAAcA,CAACA,KAAKA,EACpBA,cAAcA,CAACA,MAAMA,CAACA,CAACA;aAGxBA,IAAIA,CAACA,cAAcA,CAACA,SAASA,GAAGA,cAAcA,CAACA,cAAcA,CAACA;aAC9DA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,EAAEA,CAACA;aAG3BA,IAAIA,CAACA,cAAcA,CAACA,SAASA,EAAEA,CAACA;SACjCA,CAACA;SAEOV,iCAAUA,GAAlBA,UAAmBA,eAAgCA,EAAEA,WAAwBA;aAE5EW,IAAIA,cAAcA,GAAsBA,eAAeA,CAACA,cAAcA,CAACA;aAEvEA,IAAIA,CAACA,cAAcA,CAACA,SAASA,CAC5BA,WAAWA,CAACA,KAAKA,EAEjBA,CAACA,EACDA,CAACA,EACDA,WAAWA,CAACA,KAAKA,CAACA,KAAKA,EACvBA,WAAWA,CAACA,KAAKA,CAACA,MAAMA,EAExBA,CAACA,EACDA,CAACA,EACDA,cAAcA,CAACA,KAAKA,EACpBA,cAAcA,CAACA,MAAMA,CAACA,CAACA;SACzBA,CAACA;SAEOX,+BAAQA,GAAhBA,UAAiBA,eAAgCA,EAAEA,SAAoBA;aAEtEY,IAAIA,CAACA,cAAcA,CAACA,IAAIA,GAAGA,SAASA,CAACA,YAAYA,CAACA,QAAQA,EAAEA,GAAGA,KAAKA,GAAGA,SAASA,CAACA,IAAIA,CAACA;aAEtFA,IAAIA,CAACA,cAAcA,CAACA,SAASA,GAAGA,SAASA,CAACA,cAAcA,CAACA;aAEzDA,EAAEA,CAACA,CAACA,SAASA,CAACA,UAAUA,CAACA,CAACA,CAACA;iBAC1BA,IAAIA,CAACA,cAAcA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aAC1CA,CAACA;aAEDA,IAAIA,CAACA,cAAcA,CAACA,QAAQA,CAACA,SAASA,CAACA,SAASA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;SACzDA,CAACA;SACFZ,mBAACA;KAADA,CAACA,EAtKiC,eAAM,EAsKvC;KAtKY,oBAAY,eAsKxB;;;;;;;;;KCzKD;SAAAa;SA+CAC,CAACA;SA7CiBD,yBAAkBA,GAAnCA,UACCA,QAAkBA,EAClBA,SAAsCA,EACtCA,KAA+BA,EAC/BA,IAAiCA;aAEjCE,IAAIA,gBAAgBA,GAAaA,QAAQA,CAACA,MAAMA,CAACA,UAACA,MAAcA;iBAC/DA,MAAMA,CAACA,SAASA,CAACA,MAAMA,CAACA,CAACA;aAC1BA,CAACA,CAACA,CAACA;aAEHA,EAAEA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA;iBACVA,gBAAgBA,GAAGA,gBAAgBA,CAACA,IAAIA,CAACA,UAACA,OAAeA,EAAEA,OAAeA;qBACzEA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,GAAGA,CAACA,GAAGA,CAACA,CAACA,CAACA;iBAC/CA,CAACA,CAACA,CAACA;aACJA,CAACA;aAEDA,gBAAgBA,CAACA,OAAOA,CAACA,UAACA,MAAcA;iBACvCA,KAAKA,CAACA,MAAMA,CAACA,CAACA;aACfA,CAACA,CAACA,CAACA;SACJA,CAACA;SAEgBF,mBAAYA,GAA7BA,UACCA,QAAkBA,EAClBA,SAAsCA,EACtCA,KAAiDA;aAEjDG,IAAIA,gBAAgBA,GAAaA,QAAQA,CAACA,MAAMA,CAACA,UAACA,MAAcA;iBAC/DA,MAAMA,CAACA,SAASA,CAACA,MAAMA,CAACA,CAACA;aAC1BA,CAACA,CAACA,CAACA;aAEHA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,gBAAgBA,CAACA,MAAMA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;iBAE9DA,IAAIA,OAAOA,GAAWA,gBAAgBA,CAACA,CAACA,CAACA,CAACA;iBAE1CA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,gBAAgBA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;qBAC9DA,KAAKA,CAACA,OAAOA,EAAEA,gBAAgBA,CAACA,CAACA,CAACA,CAACA,CAACA;iBACrCA,CAACA;aACFA,CAACA;SACFA,CAACA;SAOFH,aAACA;KAADA,CAACA,IAAA;KA/CqB,cAAM,SA+C3B;;;;;;;;;KClDD,WAAY,YAAY;SACvBI,qDAAWA;SACXA,iDAASA;SACTA,2CAAMA;KACPA,CAACA,EAJW,oBAAY,KAAZ,oBAAY,QAIvB;KAJD,IAAY,YAAY,GAAZ,oBAIX;KAED;SAkGCC,2BACCA,CAAoBA,EACpBA,CAAoBA,EACpBA,KAAaA,EACbA,MAAcA,EACdA,MAAcA,EACdA,MAAcA,EACdA,QAAgBA,EAChBA,IAAuCA;aAAvCC,oBAAuCA,GAAvCA,OAAqBA,YAAYA,CAACA,KAAKA;aAEvCA,IAAIA,CAACA,EAAEA,GAAGA,CAACA,CAACA;aACZA,IAAIA,CAACA,EAAEA,GAAGA,CAACA,CAACA;aACZA,IAAIA,CAACA,MAAMA,GAAGA,KAAKA,CAACA;aACpBA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;aACrBA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA;aACtBA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA;aACtBA,IAAIA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aAC1BA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;SACnBA,CAACA;SAtGDD,sBAAIA,wCAASA;kBAAbA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,EAAEA,CAACA;aAChBA,CAACA;kBACDF,UAAcA,QAA2BA;iBACxCE,IAAIA,CAACA,EAAEA,GAAGA,QAAQA,CAACA;aACpBA,CAACA;;;YAHAF;SAIDA,sBAAIA,wCAASA;kBAAbA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,EAAEA,CAACA;aAChBA,CAACA;kBACDH,UAAcA,QAA2BA;iBACxCG,IAAIA,CAACA,EAAEA,GAAGA,QAAQA,CAACA;aACpBA,CAACA;;;YAHAH;SAIDA,sBAAIA,6CAAcA;kBAAlBA;iBACCI,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,EAAEA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBACnCA,MAAMA,CAAEA,IAAIA,CAACA,EAAeA,EAAYA,CAACA;iBAC1CA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,EAAYA,CAACA;iBAC1BA,CAACA;aACFA,CAACA;;;YAAAJ;SACDA,sBAAIA,6CAAcA;kBAAlBA;iBACCK,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,EAAEA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBACnCA,MAAMA,CAAEA,IAAIA,CAACA,EAAeA,EAAYA,CAACA;iBAC1CA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,EAAYA,CAACA;iBAC1BA,CAACA;aACFA,CAACA;;;YAAAL;SAGDA,sBAAIA,oCAAKA;kBAATA;iBACCM,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA;aACpBA,CAACA;;;YAAAN;SACDA,sBAAIA,qCAAMA;kBAAVA;iBACCO,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA;aACpBA,CAACA;;;YAAAP;SAGDA,sBAAIA,qCAAMA;kBAAVA;iBACCQ,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aACrBA,CAACA;kBACDR,UAAWA,QAAgBA;iBAC1BQ,IAAIA,CAACA,OAAOA,GAAGA,QAAQA,CAACA;aACzBA,CAACA;;;YAHAR;SAIDA,sBAAIA,qCAAMA;kBAAVA;iBACCS,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aACrBA,CAACA;kBACDT,UAAWA,QAAgBA;iBAC1BS,IAAIA,CAACA,OAAOA,GAAGA,QAAQA,CAACA;aACzBA,CAACA;;;YAHAT;SAMDA,sBAAIA,uCAAQA;kBAAZA;iBACCU,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA;aACvBA,CAACA;kBACDV,UAAaA,QAAgBA;iBAC5BU,IAAIA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aAC3BA,CAACA;;;YAHAV;SAMDA,sBAAIA,mCAAIA;kBAARA;iBACCW,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA;aAC5BA,CAACA;;;YAAAX;SACDA,sBAAIA,oCAAKA;kBAATA;iBACCY,MAAMA,CAACA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,KAAKA,CAACA;aACzCA,CAACA;;;YAAAZ;SACDA,sBAAIA,kCAAGA;kBAAPA;iBACCa,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA;aAC5BA,CAACA;;;YAAAb;SACDA,sBAAIA,qCAAMA;kBAAVA;iBACCc,MAAMA,CAACA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,MAAMA,CAACA;aAC1CA,CAACA;;;YAAAd;SACDA,sBAAIA,8CAAeA;kBAAnBA;iBACCe,MAAMA,CAACA,IAAIA,CAACA,cAAcA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,CAACA,CAACA;aAC/CA,CAACA;;;YAAAf;SACDA,sBAAIA,8CAAeA;kBAAnBA;iBACCgB,MAAMA,CAACA,IAAIA,CAACA,cAAcA,GAAGA,CAACA,IAAIA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;aAChDA,CAACA;;;YAAAhB;SACDA,sBAAIA,gDAAiBA;kBAArBA;iBACCiB,MAAMA,CAACA,IAAIA,CAACA,QAAQA,GAAGA,iBAAiBA,CAACA,OAAOA,CAACA;aAClDA,CAACA;;;YAAAjB;SAEDA,sBAAIA,mCAAIA;kBAARA;iBACCkB,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA;aACnBA,CAACA;;;YAAAlB;SAsBMA,qCAASA,GAAhBA;aACCmB,MAAMA,CAACA,IAAIA,iBAAiBA,CAC3BA,IAAIA,CAACA,EAAEA,EACPA,IAAIA,CAACA,EAAEA,EACPA,IAAIA,CAACA,MAAMA,EACXA,IAAIA,CAACA,MAAMA,EACXA,IAAIA,CAACA,OAAOA,EACZA,IAAIA,CAACA,OAAOA,EACZA,IAAIA,CAACA,SAASA,EACdA,IAAIA,CAACA,KAAKA,CACVA,CAACA;SACHA,CAACA;SAhIcnB,yBAAOA,GAAWA,IAAIA,CAACA,EAAEA,GAAGA,GAAGA,CAACA;SAiIhDA,wBAACA;KAADA,CAACA,IAAA;KAlIY,yBAAiB,oBAkI7B;;;;;;;;;;;;;;KCtID;SAsECoB,yBAAYA,QAA2BA,EAAEA,MAA8CA,EAAEA,OAA0BA,EAAEA,MAAcA;aAClIC,IAAIA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aAC1BA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA;aACtBA,IAAIA,CAACA,QAAQA,GAAGA,OAAOA,CAACA;aACxBA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA;aACtBA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,CAACA;SAChBA,CAACA;SAnEDD,sBAAIA,qCAAQA;kBAAZA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA;aACvBA,CAACA;kBACDF,UAAaA,QAA2BA;iBACvCE,IAAIA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aAC3BA,CAACA;;;YAHAF;SAIDA,sBAAIA,2CAAcA;kBAAlBA;iBAECG,IAAIA,cAAcA,GAAWA,IAAIA,CAACA,IAAIA,KAAKA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;iBACvEA,cAAcA,GAAGA,cAAcA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;iBAE5CA,IAAIA,eAAeA,GAAWA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,SAASA,CAACA,KAAKA,GAAGA,eAAeA,CAACA,SAASA,CAACA,CAACA;iBAClGA,IAAIA,gBAAgBA,GAAWA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,SAASA,CAACA,MAAMA,GAAGA,eAAeA,CAACA,SAASA,CAACA,CAACA;iBAEpGA,MAAMA,CAACA,IAAIA,qCAAiBA,CAC3BA,IAAIA,CAACA,SAASA,CAACA,cAAcA,GAAGA,CAACA,eAAeA,GAAGA,CAACA,CAACA,EACrDA,IAAIA,CAACA,SAASA,CAACA,cAAcA,GAAGA,CAACA,gBAAgBA,GAAGA,CAACA,CAACA,EACtDA,IAAIA,CAACA,SAASA,CAACA,KAAKA,GAAGA,eAAeA,EACtCA,IAAIA,CAACA,SAASA,CAACA,MAAMA,GAAGA,gBAAgBA,EACxCA,IAAIA,CAACA,SAASA,CAACA,MAAMA,EACrBA,IAAIA,CAACA,SAASA,CAACA,MAAMA,EACrBA,IAAIA,CAACA,SAASA,CAACA,QAAQA,CAACA,CAACA;aAC3BA,CAACA;;;YAAAH;SAEDA,sBAAIA,oCAAOA;kBAAXA;iBACCI,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;aACtBA,CAACA;kBACDJ,UAAYA,QAA2BA;iBACtCI,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;aAC1BA,CAACA;;;YAHAJ;SAKDA,sBAAIA,yCAAYA;kBAAhBA;iBACCK,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,QAAQA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBACzCA,MAAMA,CAAEA,IAAIA,CAACA,QAAqBA,EAAYA,CAACA;iBAChDA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,QAAkBA,CAACA;iBAChCA,CAACA;aACFA,CAACA;;;YAAAL;SAEDA,sBAAIA,mCAAMA;kBAAVA;iBACCM,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aACrBA,CAACA;kBACDN,UAAWA,QAAgBA;iBAC1BM,IAAIA,CAACA,OAAOA,GAAGA,QAAQA,CAACA;aACzBA,CAACA;;;YAHAN;SAKDA,sBAAIA,iCAAIA;kBAARA;iBACCO,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA;aACnBA,CAACA;kBACDP,UAASA,QAAgBA;iBACxBO,IAAIA,CAACA,KAAKA,GAAGA,QAAQA,CAACA;aACvBA,CAACA;;;YAHAP;SAKDA,sBAAIA,mCAAMA;kBAAVA;iBACCQ,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,OAAOA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBACxCA,MAAMA,CAAEA,IAAIA,CAACA,OAAoBA,EAAmBA,CAACA;iBACtDA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,EAAEA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAAkBA,CAACA;iBACjDA,CAACA;aACFA,CAACA;;;YAAAR;SAnEcA,yBAASA,GAAWA,IAAIA,CAACA;SA4EzCA,sBAACA;KAADA,CAACA,IAAA;KA7EY,uBAAe,kBA6E3B;KAED;SAiBCS;aACCC,IAAIA,CAACA,QAAQA,GAAGA,CAACA,CAACA;aAClBA,IAAIA,CAACA,QAAQA,GAAGA,CAACA,CAACA;SACnBA,CAACA;SAhBDD,sBAAWA,gCAAOA;kBAAlBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;aACtBA,CAACA;kBACDF,UAAmBA,QAAgBA;iBAClCE,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;aAC1BA,CAACA;;;YAHAF;SAIDA,sBAAWA,gCAAOA;kBAAlBA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;aACtBA,CAACA;kBACDH,UAAmBA,QAAgBA;iBAClCG,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;aAC1BA,CAACA;;;YAHAH;SASFA,kBAACA;KAADA,CAACA,IAAA;KArBqB,mBAAW,cAqBhC;KAED;SAAoCI,kCAAWA;SAkB9CA,wBAAYA,SAA4BA;aACvCC,iBAAOA,CAACA;aAERA,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA;SAC7BA,CAACA;SAnBDD,sBAAIA,qCAASA;kBAAbA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA;aACxBA,CAACA;kBACDF,UAAcA,QAA2BA;iBACxCE,IAAIA,CAACA,UAAUA,GAAGA,QAAQA,CAACA;aAC5BA,CAACA;;;YAHAF;SAKDA,sBAAIA,0CAAcA;kBAAlBA;iBACCG,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,UAAUA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBAC3CA,MAAMA,CAAEA,IAAIA,CAACA,UAAuBA,EAAYA,CAACA;iBAClDA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,UAAoBA,CAACA;iBAClCA,CAACA;aACFA,CAACA;;;YAAAH;SAOFA,qBAACA;KAADA,CAACA,EAvBmC,WAAW,EAuB9C;KAvBY,sBAAc,iBAuB1B;KAED;SAAiCI,+BAAWA;SAO3CA,qBAAYA,KAAuBA;aAClCC,iBAAOA,CAACA;aAERA,IAAIA,CAACA,MAAMA,GAAGA,KAAKA,CAACA;SACrBA,CAACA;SARDD,sBAAIA,8BAAKA;kBAATA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA;aACpBA,CAACA;;;YAAAF;SAQaA,oBAAQA,GAAtBA,UAAuBA,SAAiBA;aACvCG,IAAIA,KAAKA,GAAqBA,IAAIA,KAAKA,EAAEA,CAACA;aAC1CA,KAAKA,CAACA,GAAGA,GAAGA,SAASA,CAACA;aAEtBA,MAAMA,CAACA,IAAIA,WAAWA,CAACA,KAAKA,CAACA,CAACA;SAC/BA,CAACA;SACFH,kBAACA;KAADA,CAACA,EAnBgC,WAAW,EAmB3C;KAnBY,mBAAW,cAmBvB;KAED;SAA+BI,6BAAWA;SA8CzCA,mBACCA,IAAuBA,EACvBA,SAA4BA,EAC5BA,IAAYA,EACZA,YAAoBA,EACpBA,UAA2BA;aAA3BC,0BAA2BA,GAA3BA,kBAA2BA;aAE3BA,iBAAOA,CAACA;aAERA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;aAClBA,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA;aAC5BA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;aAClBA,IAAIA,CAACA,aAAaA,GAAGA,YAAYA,CAACA;aAClCA,IAAIA,CAACA,WAAWA,GAAGA,UAAUA,CAACA;SAC/BA,CAACA;SArDDD,sBAAIA,2BAAIA;kBAARA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA;aACnBA,CAACA;;;YAAAF;SAEDA,sBAAIA,gCAASA;kBAAbA;iBACCG,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,KAAKA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBACtCA,MAAMA,CAAEA,IAAIA,CAACA,KAAkBA,EAAYA,CAACA;iBAC7CA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,KAAeA,CAACA;iBAC7BA,CAACA;aACFA,CAACA;;;YAAAH;SAEDA,sBAAIA,gCAASA;kBAAbA;iBACCI,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA;aACxBA,CAACA;kBACDJ,UAAcA,QAA2BA;iBACxCI,IAAIA,CAACA,UAAUA,GAAGA,QAAQA,CAACA;aAC5BA,CAACA;;;YAHAJ;SAKDA,sBAAIA,qCAAcA;kBAAlBA;iBACCK,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,UAAUA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBAC3CA,MAAMA,CAAEA,IAAIA,CAACA,UAAuBA,EAAYA,CAACA;iBAClDA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,UAAoBA,CAACA;iBAClCA,CAACA;aACFA,CAACA;;;YAAAL;SAEDA,sBAAIA,2BAAIA;kBAARA;iBACCM,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA;aACnBA,CAACA;;;YAAAN;SAEDA,sBAAIA,mCAAYA;kBAAhBA;iBACCO,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA;aAC3BA,CAACA;;;YAAAP;SAEDA,sBAAIA,iCAAUA;kBAAdA;iBACCQ,MAAMA,CAACA,IAAIA,CAACA,WAAWA,CAACA;aACzBA,CAACA;;;YAAAR;SAiBFA,gBAACA;KAADA,CAACA,EA7D8B,WAAW,EA6DzC;KA7DY,iBAAS,YA6DrB;;;;;;;;;KCpMD;SA0BCS,kBAAYA,MAAyBA,EAAEA,UAAsBA,EAAEA,YAA0BA;aA1B1FC,iBAyTCA;aA9SQA,cAASA,GAAYA,KAAKA,CAACA;aAgBlCA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;aACrBA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA,UAAUA,CAACA,IAAIA,CAACA,CAACA;aACvCA,IAAIA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;aAC7BA,IAAIA,CAACA,YAAYA,GAAGA,YAAYA,CAACA;aACjCA,IAAIA,CAACA,eAAeA,GAAGA,YAAYA,CAACA,SAASA,CAACA,WAAWA,CAAoBA,CAACA;aAE9EA,IAAIA,CAACA,MAAMA,GAAGA,IAAIA,eAAMA,CACvBA;iBACCA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,KAAKA;iBACpBA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,MAAMA;cACrBA,EACDA,UAAUA,CAACA,CAACA;aAEbA,IAAIA,CAACA,eAAeA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,WAAWA,CAACA,eAAeA,EAAEA,EAAEA,SAASA,EAAEA,IAAIA,EAAEA,CAACA,CAACA;aACrFA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,EAAEA,CAACA;aAE5BA,IAAIA,CAACA,UAAUA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,WAAWA,CAACA,eAAeA,EAAEA,EAAEA,CAACA,CAACA;aAE/DA,IAAIA,WAAWA,GAAgBA,YAAYA,CAACA,SAASA,CAACA,OAAOA,CAAgBA,CAACA;aAE9EA,IAAIA,sBAAsBA,GACzBA,UAACA,UAAkBA,EAAEA,MAAcA,EAAEA,SAAiBA;iBAEtDA,IAAIA,WAAWA,GAAWA,MAAMA,CAACA,MAAMA,GAAGA,CAACA,CAACA;iBAE5CA,IAAIA,uBAAuBA,GAAsBA,IAAIA,qCAAiBA,CACrEA,CAACA,EACDA,CAACA,EACDA,MAAMA,CAACA,KAAKA,EACZA,WAAWA,EACXA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,gCAAYA,CAACA,EAAEA,CACfA,CAACA;iBAEFA,IAAIA,YAAYA,GAAkBA;qBACjCA,6BAAWA,CAACA,QAAQA,CAACA,SAASA,CAACA;qBAC/BA,6BAAWA,CAACA,QAAQA,CAACA,SAASA,CAACA;kBAC/BA,CAACA;iBAEFA,IAAIA,uBAAuBA,GAAoBA,IAAIA,iCAAeA,CACjEA,uBAAuBA,EACvBA;qBACCA,IAAIA,WAAWA,GAAWA,CAACA,KAAIA,CAACA,QAAQA,CAACA,MAAMA,GAAGA,WAAWA,CAACA,GAAGA,UAAUA,CAACA;qBAE5EA,YAAYA,CAACA,CAACA,CAACA,CAACA,OAAOA,GAAGA,WAAWA,CAACA;qBACtCA,YAAYA,CAACA,CAACA,CAACA,CAACA,OAAOA,GAAGA,WAAWA,GAAGA,CAACA,WAAWA,CAACA,CAACA;qBAEtDA,MAAMA,CAACA,YAAYA,CAACA;iBACrBA,CAACA,EACDA,CAACA,EACDA,MAAMA,CACNA,CAACA;iBAEFA,IAAIA,MAAMA,GAAWA;qBACpBA,iBAAiBA,EAAEA,uBAAuBA;qBAC1CA,eAAeA,EAAEA,uBAAuBA;kBACxCA,CAACA;iBACFA,YAAYA,CAACA,GAAGA,CAACA,MAAMA,CAACA,CAACA;aAC1BA,CAACA,CAACA;aAEFA,sBAAsBA,CAACA,CAACA,EAAEA,CAACA,EAAEA,0BAA0BA,CAACA,CAACA;aACzDA,sBAAsBA,CAACA,GAAGA,EAAEA,GAAGA,EAAEA,gBAAgBA,CAACA,CAACA;aACnDA,sBAAsBA,CAACA,CAACA,EAAEA,GAAGA,EAAEA,gBAAgBA,CAACA,CAACA;aAEjDA,IAAIA,CAACA,eAAeA,CAACA,WAAWA,GAAGA,UAACA,UAAoBA;iBACvDA,IAAIA,cAAcA,GAAgBA;qBACjCA,EAAEA,EAAEA,CAACA;qBACLA,EAAEA,EAAEA,CAACA,CAACA;qBACNA,CAACA,EAAEA,EAAEA;qBACLA,CAACA,EAAEA,GAAGA;kBACNA,CAACA;iBACFA,IAAIA,gBAAgBA,GAAUA;qBAC7BA,CAACA,EAAEA,EAAEA;qBACLA,CAACA,EAAEA,EAAEA;kBACLA,CAACA;iBACFA,KAAIA,CAACA,MAAMA,GAAGA,IAAIA,eAAMA,CACvBA,cAAcA,EACdA,gBAAgBA,EAChBA,SAASA,EACTA,UAAUA,EACVA,QAAQA,CAACA,cAAcA,EACvBA,QAAQA,CAACA,SAASA,EAClBA,KAAIA,CAACA,MAAMA,CAACA,CAACA;iBACdA,UAAUA,CAACA,IAAIA,CAACA,KAAIA,CAACA,MAAMA,CAACA,CAACA;iBAC7BA,YAAYA,CAACA,GAAGA,CAACA,KAAIA,CAACA,MAAMA,CAACA,CAACA;iBAE9BA,IAAIA,mBAAmBA,GACYA,UAACA,IAAkBA,EACrDA,IAAYA,EAAEA,cAAsBA;qBAEpCA,IAAIA,oBAAoBA,GAAsBA,IAAIA,qCAAiBA,CAClEA,EAAEA,EACFA,MAAMA,CAACA,MAAMA,GAAGA,cAAcA,GAAGA,EAAEA,EACnCA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,gCAAYA,CAACA,EAAEA,CAACA,CAACA;qBAElBA,IAAIA,MAAMA,GAAWA;yBACpBA,iBAAiBA,EAAEA,oBAAoBA;yBACvCA,eAAeA,EAAEA,IAAIA,iCAAeA,CACnCA,oBAAoBA,EACpBA;6BACCA,IAAIA,2BAASA,CAACA,IAAIA,EAAEA,QAAQA,EAAEA,QAAQA,EAAEA,IAAIA,CAACA;0BAC7CA,EACDA,GAAGA,EACHA,GAAGA,CAACA;sBACLA,CAACA;qBACFA,UAAUA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;qBACxBA,YAAYA,CAACA,GAAGA,CAACA,MAAMA,CAACA,CAACA;iBAC1BA,CAACA,CAACA;iBAEFA,mBAAmBA,CAClBA;qBACCA,MAAMA,CAACA,WAAWA,CAACA,UAAUA,CAACA,QAAQA,EAAEA,CAACA;iBAC1CA,CAACA,EACDA,GAAGA,EACHA,GAAGA,CAACA,CAACA;iBACNA,mBAAmBA,CAClBA;qBACCA,MAAMA,CAACA,IAAIA,GAAGA,WAAWA,CAACA,MAAMA,CAACA,QAAQA,EAAEA,CAACA;iBAC7CA,CAACA,EACDA,GAAGA,EACHA,GAAGA,CAACA,CAACA;iBACNA,mBAAmBA,CAClBA;qBACCA,MAAMA,CAACA,IAAIA,GAAGA,WAAWA,CAACA,UAAUA,CAACA,QAAQA,EAAEA,CAACA;iBACjDA,CAACA,EACDA,GAAGA,EACHA,CAACA,CAACA,CAACA;iBAEJA,IAAIA,eAAeA,GAAsBA,IAAIA,qCAAiBA,CAC7DA,GAAGA,EACHA,EAAEA,EACFA,GAAGA,EACHA,EAAEA,EACFA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,gCAAYA,CAACA,KAAKA,CAACA,CAACA;iBAErBA,IAAIA,aAAaA,GAAoBA,IAAIA,iCAAeA,CACvDA,eAAeA,EACfA,6BAAWA,CAACA,QAAQA,CAACA,iBAAiBA,CAACA,EACvCA,GAAGA,EACHA,GAAGA,CAACA,CAACA;iBAENA,IAAIA,aAAaA,GAAWA;qBAC3BA,iBAAiBA,EAAEA,eAAeA;qBAClCA,eAAeA,EAAEA,aAAaA;kBAC9BA,CAACA;iBACFA,UAAUA,CAACA,IAAIA,CAACA,aAAaA,CAACA,CAACA;iBAC/BA,YAAYA,CAACA,GAAGA,CAACA,aAAaA,CAACA,CAACA;iBAEhCA,IAAIA,gBAAgBA,GAAgBA;qBACnCA,EAAEA,EAAEA,CAACA;qBACLA,EAAEA,EAAEA,CAACA;qBACLA,CAACA,EAAEA,EAAEA;qBACLA,CAACA,EAAEA,GAAGA;kBACNA,CAACA;iBACFA,IAAIA,kBAAkBA,GAAUA;qBAC/BA,CAACA,EAAEA,EAAEA;qBACLA,CAACA,EAAEA,EAAEA;kBACLA,CAACA;iBACFA,KAAIA,CAACA,QAAQA,GAAGA,IAAIA,mBAAQA,CAC3BA,gBAAgBA,EAChBA,kBAAkBA,EAClBA,SAASA,EACTA,CAACA,QAAQA,CAACA,cAAcA,EACxBA,KAAIA,CAACA,MAAMA,EACXA,QAAQA,CAACA,SAASA,CAACA,CAACA;iBACrBA,UAAUA,CAACA,IAAIA,CAACA,KAAIA,CAACA,QAAQA,CAACA,CAACA;iBAC/BA,YAAYA,CAACA,GAAGA,CAACA,KAAIA,CAACA,QAAQA,CAACA,CAACA;iBAChCA,KAAIA,CAACA,QAAQA,CAACA,QAAQA,GAAGA,KAAIA,CAACA,QAAQA,CAACA;iBAEvCA,IAAIA,cAAcA,GAAiCA,KAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA;iBACtEA,KAAIA,CAACA,MAAMA,CAACA,MAAMA,GAAGA,UAACA,WAAkBA;qBACvCA,KAAIA,CAACA,QAAQA,CAACA,SAASA,CAACA,CAACA,KAAIA,CAACA,MAAMA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,EAAEA,CAACA,CAACA;qBAEvEA,EAAEA,CAACA,CAACA,KAAIA,CAACA,MAAMA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,CAACA,CAACA,KAAIA,CAACA,QAAQA,CAACA,MAAMA,GAAGA,KAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA;yBAC5FA,KAAIA,CAACA,SAASA,GAAGA,KAAKA,CAACA;yBACvBA,KAAIA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,CAACA;yBACvBA,KAAIA,CAACA,eAAeA,CAACA,OAAOA,EAAEA,CAACA;yBAC/BA,KAAIA,CAACA,IAAIA,CAACA,QAAQA,CAACA,WAAWA,CAACA,UAAUA,EAAEA,KAAIA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA;qBACnEA,CAACA;qBAEDA,EAAEA,CAACA,CAACA,cAAcA,CAACA,CAACA,CAACA;yBACpBA,cAAcA,CAACA,WAAWA,CAACA,CAACA;qBAC7BA,CAACA;iBACFA,CAACA,CAACA;aACHA,CAACA,CAACA;aAEFA,IAAIA,CAACA,eAAeA,CAACA,WAAWA,GAAGA,UAACA,UAAoBA;iBAEvDA,IAAIA,WAAWA,GAAWA,CAACA,CAACA;iBAE5BA,IAAIA,aAAaA,GAAsBA,IAAIA,qCAAiBA,CAC3DA,CAACA,QAAQA,CAACA,SAASA,GAAGA,CAACA,CAACA,EACxBA,GAAGA,EACHA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,CAACA,EACDA,gCAAYA,CAACA,EAAEA,CACfA,CAACA;iBAEFA,IAAIA,WAAWA,GAAoBA,IAAIA,iCAAeA,CACrDA,aAAaA,EACbA,IAAIA,2BAASA,CACZA,cAAcA,EACdA,SAASA,EACTA,QAAQA,EACRA,EAAEA,EACFA,IAAIA,CAACA,EACNA,cAAMA,kBAAWA,EAAXA,CAAWA,EACjBA,CAACA,CAACA,CAACA;iBAEJA,IAAIA,SAASA,GAAWA;qBACvBA,iBAAiBA,EAAEA,aAAaA;qBAChCA,eAAeA,EAAEA,WAAWA;kBAC5BA,CAACA;iBAEFA,UAAUA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;iBAC3BA,YAAYA,CAACA,GAAGA,CAACA,SAASA,CAACA,CAACA;aAC7BA,CAACA,CAACA;aAEFA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,WAAIA,CACnBA;iBACCA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,KAAKA;iBACpBA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,MAAMA;cACrBA,EACDA,UAAUA,EACVA;iBACCA,KAAIA,CAACA,QAAQA,CAACA,KAAKA,EAAEA,CAACA;iBACtBA,KAAIA,CAACA,SAASA,GAAGA,IAAIA,CAACA;iBAEtBA,KAAIA,CAACA,eAAeA,CAACA,SAASA,EAAEA,CAACA;iBACjCA,WAAWA,CAACA,UAAUA,EAAEA,CAACA;aAC1BA,CAACA,EACDA,IAAIA,CAACA,MAAMA,CACXA,CAACA;aAEFA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,mBAAQA,CAC3BA,IAAIA,CAACA,OAAOA,EACZA,IAAIA,CAACA,YAAYA,CACjBA,CAACA;SACHA,CAACA;SAEMD,wBAAKA,GAAZA;aAAAE,iBAECA;aADAA,qBAAqBA,CAACA,UAACA,IAAYA,IAAOA,KAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;SAC/DA,CAACA;SAEOF,uBAAIA,GAAZA,UAAaA,SAAiBA;aAA9BG,iBAkBCA;aAjBAA,IAAIA,SAASA,GAAWA,IAAIA,CAACA,aAAaA,GAAGA,CAACA,SAASA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA;aAClFA,IAAIA,UAAUA,GAAWA,SAASA,GAAGA,QAAQA,CAACA,SAASA,CAACA;aACxDA,IAAIA,CAACA,aAAaA,GAAGA,SAASA,CAACA;aAC/BA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,GAAGA,SAASA,CAACA,CAACA;aAE5CA,IAAIA,CAACA,IAAIA,EAAEA,CAACA;aAEZA,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;aAE1BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,KAAKA,IAAIA,CAACA,CAACA,CAACA;iBAC7BA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;iBAC7BA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;aAChCA,CAACA;aAEDA,IAAIA,CAACA,UAAUA,CAACA,UAAUA,EAAEA,CAACA;aAE7BA,qBAAqBA,CAACA,UAACA,IAAYA,IAAOA,KAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;SAC/DA,CAACA;SAEOH,uBAAIA,GAAZA;aACCI,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;iBACpBA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;aACpCA,CAACA;aAACA,IAAIA,CAACA,CAACA;iBACPA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,YAAYA,CAACA,CAACA;aACnDA,CAACA;aAEDA,IAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,YAAYA,CAACA,CAACA;SACrDA,CAACA;SAtTcJ,uBAAcA,GAAWA,GAAGA,CAACA;SAC7BA,kBAASA,GAAWA,GAAGA,CAACA;SACxBA,kBAASA,GAAWA,EAAEA,CAACA;SAqTvCA,eAACA;KAADA,CAACA,IAAA;KAzTY,gBAAQ,WAyTpB;;;;;;;;;;;;;;KC9TD;SAA4BK,0BAAYA;SAevCA,gBACCA,aAA0BA,EAC1BA,UAAiBA,EACjBA,KAAaA,EACbA,UAAsBA,EACtBA,OAAeA,EACfA,UAAkBA,EAClBA,MAAcA;aAtBhBC,iBA+HCA;aAvGCA,kBAAMA,aAAaA,EAAEA,UAAUA,EAAEA,KAAKA,EAAEA,OAAOA,EAAEA,MAAMA,EAAEA,CAACA,EAAEA,UAAUA,CAACA,CAACA;aAExEA,IAAIA,CAACA,WAAWA,GAAGA,CAACA,CAACA;aAErBA,IAAIA,CAACA,kBAAkBA,CAACA,SAASA,CAACA,IAAIA,CAACA;iBAEtCA,KAAIA,CAACA,SAASA,GAAGA,KAAKA,CAACA;iBACvBA,KAAIA,CAACA,iBAAiBA,CAACA,QAAQA,GAAGA,CAACA,CAACA;iBACpCA,KAAIA,CAACA,iBAAiBA,GAAGA,CAACA,CAACA;iBAC3BA,KAAIA,CAACA,MAAMA,CAACA,IAAIA,EAAEA,CAACA;iBACnBA,KAAIA,CAACA,WAAWA,EAAEA,CAACA;aACpBA,CAACA,CAACA,CAACA;aAEHA,IAAIA,eAAeA,GAAmBA,IAAIA,gCAAcA,CAACA;iBACxDA,IAAIA,YAAYA,GAAWA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,CAACA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;iBAC9GA,IAAIA,YAAYA,GAAWA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,CAACA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;iBAE9GA,MAAMA,CAACA,GAAGA,GAAGA,YAAYA,GAAGA,YAAYA,GAAGA,IAAIA,GAAGA,YAAYA,GAAGA,YAAYA,CAACA;aAC/EA,CAACA,CAACA,CAACA;aACHA,IAAIA,QAAQA,GAAgBA,6BAAWA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;aACtEA,IAAIA,UAAUA,GAAgBA,6BAAWA,CAACA,QAAQA,CAACA,qBAAqBA,CAACA,CAACA;aAC1EA,IAAIA,WAAWA,GAAgBA,6BAAWA,CAACA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA;aAEzEA,IAAIA,aAAaA,GAAwBA;iBACxCA,IAAIA,MAAMA,GAAkBA,CAACA,eAAeA,CAACA,CAACA;iBAE9CA,EAAEA,CAACA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,iBAAiBA,CAACA,CAACA,CAACA;qBAC9DA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;iBACzBA,CAACA;iBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAACA,MAAMA,CAACA,iBAAiBA,CAACA,CAACA,CAACA;qBACtEA,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;iBACvBA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;iBAC1BA,CAACA;iBAEDA,MAAMA,CAACA,MAAMA,CAACA;aACfA,CAACA,CAACA;aAEFA,IAAIA,CAACA,eAAeA,GAAGA,IAAIA,iCAAeA,CAACA,IAAIA,CAACA,iBAAiBA,EAAEA,aAAaA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA;aAExFA,IAAIA,IAAIA,GAAaA,UAACA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;iBAClFA,EAAEA,CAACA,CAACA,KAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;qBACpBA,MAAMA,CAACA;iBACRA,CAACA;iBAEDA,KAAIA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,CAACA;iBACjBA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,iBAAiBA,GAAGA,SAASA,CAACA;iBACrEA,KAAIA,CAACA,SAASA,GAAGA,IAAIA,CAACA;iBACtBA,KAAIA,CAACA,iBAAiBA,GAAGA,KAAIA,CAACA,SAASA,KAAKA,OAAOA,GAAGA,MAAMA,CAACA,wBAAwBA,GAAGA,CAACA,MAAMA,CAACA,wBAAwBA,CAACA;aAC1HA,CAACA,CAACA;aACFA,IAAIA,QAAQA,GAAaA,UAACA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;iBACtFA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,IAAIA,CAACA,MAAMA,CAACA,uBAAuBA,GAAGA,SAASA,CAACA,CAACA;aAC/EA,CAACA,CAACA;aACFA,IAAIA,SAASA,GAAaA,UAACA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;iBACvFA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,IAAIA,CAACA,MAAMA,CAACA,uBAAuBA,GAAGA,SAASA,CAACA,CAACA;aAC/EA,CAACA,CAACA;aAEFA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,IAAIA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;aACnDA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;aACtDA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;aAElDA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;aACzDA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;aAEtDA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;aAC3DA,IAAIA,CAACA,cAAcA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;aAEvDA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,+BAAcA,CACvCA;iBACCA,MAAMA,CAACA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,GAAGA,GAAGA,IAAIA,CAACA;aAC3CA,CAACA,EACDA;iBACCA,MAAMA,CAACA,KAAIA,CAACA,WAAWA,CAACA;aACzBA,CAACA,CACDA,CAACA;aAEFA,IAAIA,CAACA,SAASA,GAAGA,KAAKA,CAACA;aAEvBA,IAAIA,CAACA,IAAIA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,cAAcA,EAAEA,EAAEA,CAACA,CAACA;aACnDA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,eAAeA,EAAEA,EAAEA,CAACA,CAACA;SACvDA,CAACA;SAEMD,qBAAIA,GAAXA,UAAYA,SAAiBA;aAC5BE,gBAAKA,CAACA,IAAIA,YAACA,SAASA,CAACA,CAACA;aAGtBA,IAAIA,CAACA,iBAAiBA,CAACA,QAAQA,IAAIA,CAACA,IAAIA,CAACA,iBAAiBA,GAAGA,SAASA,CAACA,CAACA;aACxEA,EAAEA,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,GAAGA,CAACA,CAACA,CAACA,CAACA;iBAChCA,IAAIA,CAACA,iBAAiBA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,IAAIA,CAACA,iBAAiBA,GAAGA,MAAMA,CAACA,oBAAoBA,CAACA,CAACA;aAC5FA,CAACA;aAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,GAAGA,CAACA,CAACA,CAACA,CAACA;iBACvCA,IAAIA,CAACA,iBAAiBA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,IAAIA,CAACA,iBAAiBA,GAAGA,MAAMA,CAACA,oBAAoBA,CAACA,CAACA;aAC5FA,CAACA;aAEDA,IAAIA,CAACA,iBAAiBA,CAACA,QAAQA,IAAIA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAACA,CAACA;SACtEA,CAACA;SAEMF,sBAAKA,GAAZA;aACCG,gBAAKA,CAACA,KAAKA,WAAEA,CAACA;aAEdA,IAAIA,CAACA,SAASA,GAAGA,KAAKA,CAACA;aACvBA,IAAIA,CAACA,iBAAiBA,CAACA,QAAQA,GAAGA,CAACA,CAACA;aACpCA,IAAIA,CAACA,iBAAiBA,GAAGA,CAACA,CAACA;aAC3BA,IAAIA,CAACA,WAAWA,GAAGA,CAACA,CAACA;SACtBA,CAACA;SA7HcH,wBAAiBA,GAAWA,CAACA,CAACA,CAACA;SAC/BA,2BAAoBA,GAAWA,GAAGA,CAACA;SACnCA,+BAAwBA,GAAWA,EAAEA,CAACA;SACtCA,8BAAuBA,GAAWA,GAAGA,CAACA;SACtCA,wBAAiBA,GAAWA,GAAGA,CAACA;SA0HhDA,aAACA;KAADA,CAACA,EA/H2B,2BAAY,EA+HvC;KA/HY,cAAM,SA+HlB;;;;;;;;;;;;;;KCpID;SAAkCI,gCAAKA;SActCA,sBACCA,aAA0BA,EAC1BA,UAAiBA,EACjBA,KAAaA,EACbA,OAAeA,EACfA,MAAcA,EACdA,WAAmBA,EACnBA,UAAmBA;aArBrBC,iBAiECA;aA1CCA,kBAAMA,aAAaA,EAAEA,UAAUA,EAAEA,KAAKA,EAAEA,WAAWA,CAACA,CAACA;aAErDA,IAAIA,CAACA,eAAeA,GAAGA,OAAOA,CAACA;aAC/BA,IAAIA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;aAE7BA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,cAAcA,EAAEA,EAAEA,CAACA,CAACA;aAEtDA,IAAIA,CAACA,kBAAkBA,CAACA,SAASA,CAACA,IAAIA,CAACA;iBACtCA,KAAIA,CAACA,IAAIA,IAAIA,EAAEA,CAACA;aACjBA,CAACA,CAACA,CAACA;SACJA,CAACA;SA1BDD,sBAAWA,iCAAOA;kBAAlBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,eAAeA,CAACA;aAC7BA,CAACA;kBACDF,UAAmBA,QAAgBA;iBAClCE,IAAIA,CAACA,eAAeA,GAAGA,QAAQA,CAACA;aACjCA,CAACA;;;YAHAF;SA0BMA,2BAAIA,GAAXA,UAAYA,SAAiBA;aAC5BG,gBAAKA,CAACA,IAAIA,YAACA,SAASA,CAACA,CAACA;aAGtBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA;iBACpDA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,CAACA;iBAGpBA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,CAACA;iBACfA,IAAIA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,IAAIA,CAACA,UAAUA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA;iBAClFA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAACA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA,CAACA;aAC1EA,CAACA;aAGDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,GAAGA,CAACA,CAACA,CAACA,CAACA;iBACrCA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,CAACA;iBAGpBA,IAAIA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,CAACA,CAACA;iBACrCA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,CAACA;iBACfA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA,CAACA;aACzEA,CAACA;aAGDA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,IAAIA,CAACA,IAAIA,CAACA,eAAeA,GAAGA,SAASA,CAACA,CAACA;SACrEA,CAACA;SAEMH,4BAAKA,GAAZA;aACCI,gBAAKA,CAACA,KAAKA,WAAEA,CAACA;SACfA,CAACA;SACFJ,mBAACA;KAADA,CAACA,EAjEiC,aAAK,EAiEtC;KAjEY,oBAAY,eAiExB;;;;;;;;;KC5DD;SA0DCK,eAAmBA,aAA0BA,EAAEA,UAAiBA,EAAEA,KAAaA,EAAEA,WAAmBA;aA1DrGC,iBA2JCA;aA/FCA,IAAIA,CAACA,iBAAiBA,GAAGA,IAAIA,qCAAiBA,CAC7CA,aAAaA,CAACA,CAACA,EACfA,aAAaA,CAACA,CAACA,EACfA,UAAUA,CAACA,CAACA,EACZA,UAAUA,CAACA,CAACA,EACZA,aAAaA,CAACA,EAAEA,EAChBA,aAAaA,CAACA,EAAEA,EAChBA,CAACA,CAACA,CAACA;aAEJA,IAAIA,CAACA,kBAAkBA,GAAGA,IAAIA,uCAAkBA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA;aAEzEA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,+BAAcA,EAAEA,CAACA;aAE3CA,IAAIA,CAACA,gBAAgBA,GAAGA,IAAIA,mCAAgBA,CAACA,UAACA,YAA0BA;iBAEvEA,IAAIA,gBAAgBA,GAAsBA,KAAIA,CAACA,iBAAiBA,CAACA,SAASA,EAAEA,CAACA;iBAC7EA,gBAAgBA,CAACA,MAAMA,GAAGA,CAACA,CAACA;iBAC5BA,gBAAgBA,CAACA,MAAMA,GAAGA,CAACA,CAACA;iBAE5BA,IAAIA,QAAQA,GAAWA,KAAKA,CAACA;iBAC7BA,KAAIA,CAACA,eAAeA,CAACA,MAAMA,CAACA,OAAOA,CAACA,UAACA,KAAkBA;qBACtDA,IAAIA,sBAAsBA,GAAmBA,KAAuBA,CAACA;qBAErEA,EAAEA,CAACA,CAACA,sBAAsBA,CAACA,cAAcA,CAACA,CAACA,CAACA;yBAC3CA,QAAQA,GAAGA,sBAAsBA,CAACA,cAAcA,CAACA;qBAClDA,CAACA;iBACFA,CAACA,CAACA,CAACA;iBAEHA,IAAIA,eAAeA,GAAWA,GAAGA,CAACA;iBAClCA,IAAIA,QAAQA,GAAWA;qBACtBA,iBAAiBA,EAAEA,gBAAgBA;qBACnCA,eAAeA,EAAEA,IAAIA,iCAAeA,CACnCA,gBAAgBA,EAChBA,IAAIA,gCAAcA,CAACA,QAAQA,CAACA,EAC5BA;yBAECA,eAAeA,IAAIA,IAAIA,CAACA;yBAGxBA,EAAEA,CAACA,CAACA,eAAeA,IAAIA,CAACA,CAACA,CAACA,CAACA;6BAC1BA,YAAYA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA;6BAC9BA,MAAMA,CAACA,CAACA,CAACA;yBACVA,CAACA;yBACDA,MAAMA,CAACA,eAAeA,CAACA;qBACxBA,CAACA,EACDA,KAAIA,CAACA,eAAeA,CAACA,MAAMA,GAAGA,GAAGA,CAACA;kBACnCA,CAACA;iBAEFA,YAAYA,CAACA,GAAGA,CAACA,QAAQA,CAACA,CAACA;aAC5BA,CAACA,CAACA,CAACA;aAEHA,IAAIA,CAACA,aAAaA,GAAGA,KAAKA,CAACA;aAC3BA,IAAIA,CAACA,oBAAoBA,GAAGA,WAAWA,CAACA;aAExCA,IAAIA,CAACA,kBAAkBA,GAAGA,KAAKA,CAACA,kBAAkBA,CAACA;aAEnDA,IAAIA,CAACA,oBAAoBA,GAAGA;iBAC3BA,EAAEA,EAAEA,aAAaA,CAACA,EAAEA;iBACpBA,EAAEA,EAAEA,aAAaA,CAACA,EAAEA;iBACpBA,CAACA,EAAEA,aAAaA,CAACA,CAACA;iBAClBA,CAACA,EAAEA,aAAaA,CAACA,CAACA;cAClBA,CAACA;aAEFA,IAAIA,CAACA,IAAIA,GAAGA,CAACA,CAACA;SACfA,CAACA;SArGDD,sBAAIA,4BAASA;kBAAbA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA;aAC3BA,CAACA;kBACDF,UAAcA,QAAgBA;iBAC7BE,IAAIA,CAACA,aAAaA,GAAGA,QAAQA,CAACA;aAC/BA,CAACA;;;YAHAF;SAKDA,sBAAIA,yBAAMA;kBAAVA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA;aAC5BA,CAACA;kBACDH,UAAWA,QAAsCA;iBAChDG,IAAIA,CAACA,cAAcA,GAAGA,QAAQA,CAACA;aAChCA,CAACA;;;YAHAH;SAKDA,sBAAIA,iCAAcA;kBAAlBA;iBAECI,IAAIA,cAAcA,GAAWA,IAAIA,CAACA,IAAIA,KAAKA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;iBACvEA,cAAcA,GAAGA,cAAcA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;iBAE5CA,IAAIA,eAAeA,GAAWA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,GAAGA,KAAKA,CAACA,SAASA,CAACA,CAACA;iBAChGA,IAAIA,gBAAgBA,GAAWA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,KAAKA,CAACA,SAASA,CAACA,CAACA;iBAElGA,MAAMA,CAACA;qBACNA,MAAMA,EAAEA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,gBAAgBA;qBACxDA,KAAKA,EAAEA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,GAAGA,eAAeA;qBACrDA,CAACA,EAAEA,IAAIA,CAACA,iBAAiBA,CAACA,cAAcA,GAAGA,CAACA,eAAeA,GAAGA,CAACA,CAACA;qBAChEA,CAACA,EAAEA,IAAIA,CAACA,iBAAiBA,CAACA,cAAcA,GAAGA,CAACA,gBAAgBA,GAAGA,CAACA,CAACA;kBACjEA,CAACA;aACHA,CAACA;;;YAAAJ;SAGDA,sBAAIA,4BAASA;kBAAbA;iBACCK,MAAMA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,IAAIA,CAACA,GAAGA,OAAOA,GAAGA,MAAMA,CAACA;aAC9DA,CAACA;;;YAAAL;SAsEMA,oBAAIA,GAAXA,UAAYA,SAAiBA;aAE5BM,IAAIA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,cAAcA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,SAASA,CAACA,CAACA;aACvHA,IAAIA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,cAAcA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,SAASA,CAACA,CAACA;aAEvHA,EAAEA,CAACA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA,CAACA;iBAEzBA,IAAIA,CAACA,cAAcA,CAACA,EAAEA,CAACA,EAAEA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EAAEA,CAACA,CAACA;aAC7FA,CAACA;aAEDA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,IAAIA,CAACA,IAAIA,GAAGA,CAACA,KAAKA,CAACA,aAAaA,GAAGA,SAASA,CAACA,CAACA,CAACA;aAEvEA,IAAIA,CAACA,kBAAkBA,IAAIA,KAAKA,CAACA,uBAAuBA,GAAGA,SAASA,CAACA;aAGrEA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EAAEA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA;aACjGA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EAAEA,CAACA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA;aAClGA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EAAEA,IAAIA,CAACA,oBAAoBA,CAAEA,CAACA;aACpGA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EAAEA,CAACA,IAAIA,CAACA,oBAAoBA,CAAEA,CAACA;SACtGA,CAACA;SAEMN,qBAAKA,GAAZA;aACCO,IAAIA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,IAAIA,CAACA,oBAAoBA,CAACA,CAACA,CAACA;aAC/DA,IAAIA,CAACA,iBAAiBA,CAACA,SAASA,GAAGA,IAAIA,CAACA,oBAAoBA,CAACA,CAACA,CAACA;aAC/DA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,oBAAoBA,CAACA,EAAEA,CAACA;aAC7DA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,oBAAoBA,CAACA,EAAEA,CAACA;aAE7DA,IAAIA,CAACA,kBAAkBA,GAAGA,KAAKA,CAACA,kBAAkBA,CAACA;SACpDA,CAACA;SAxJcP,wBAAkBA,GAAWA,EAAEA,CAACA;SAChCA,6BAAuBA,GAAWA,IAAIA,CAACA;SACvCA,eAASA,GAAWA,IAAIA,CAACA;SACzBA,mBAAaA,GAAUA,GAAGA,CAACA;SAsJ3CA,YAACA;KAADA,CAACA,IAAA;KA3JY,aAAK,QA2JjB;;;;;;;;;KClKD;SAgBCQ,4BAAYA,QAA2BA;aAb/BC,eAAUA,GAAkBA,IAAIA,6BAAaA,EAAEA,CAACA;aAcvDA,IAAIA,CAACA,SAASA,GAAGA,QAAQA,CAACA;SAC3BA,CAACA;SAbDD,sBAAIA,wCAAQA;kBAAZA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA;aACvBA,CAACA;kBACDF,UAAaA,QAA2BA;iBACvCE,IAAIA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aAC3BA,CAACA;;;YAHAF;SAKDA,sBAAIA,yCAASA;kBAAbA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA;aACxBA,CAACA;;;YAAAH;SAKFA,yBAACA;KAADA,CAACA,IAAA;KAnBY,0BAAkB,qBAmB9B;;;;;;;;;;;;;;KCfD;SAAmCI,iCAAKA;SAAxCA;aAAmCC,8BAAKA;SAMxCA,CAACA;SALOD,+BAAOA,GAAdA,UAAeA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAC3EE,IAAIA,CAACA,OAAOA,CAACA,UAACA,kBAA4BA;iBACzCA,kBAAkBA,CAACA,MAAMA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aACrDA,CAACA,CAACA,CAACA;SACJA,CAACA;SACFF,oBAACA;KAADA,CAACA,EANkC,KAAK,EAMvC;KANY,qBAAa,gBAMzB;;;;;;;;;KCPD;SAAAG;aACSC,iBAAYA,GAAgBA,EAAEA,CAACA;SAiBxCA,CAACA;SAfAD,sBAAWA,8CAAkBA;kBAA7BA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAACA;aAC1BA,CAACA;;;YAAAF;SAEMA,sCAAaA,GAApBA,UAAqBA,GAAWA;aAC/BG,IAAIA,YAAYA,GAAkBA,IAAIA,CAACA,YAAYA,CAACA,GAAGA,CAACA,CAACA;aAGzDA,EAAEA,CAACA,CAACA,CAACA,YAAYA,CAACA,CAACA,CAACA;iBACnBA,YAAYA,GAAGA,IAAIA,6BAAaA,EAAEA,CAACA;iBACnCA,IAAIA,CAACA,YAAYA,CAACA,GAAGA,CAACA,GAAGA,YAAYA,CAACA;aACvCA,CAACA;aAEDA,MAAMA,CAACA,YAAYA,CAACA;SACrBA,CAACA;SACFH,qBAACA;KAADA,CAACA,IAAA;KAlBY,sBAAc,iBAkB1B;;;;;;;;;KClBD;SAUCI,0BAAmBA,OAAgBA;aAClCC,IAAIA,CAACA,QAAQA,GAAGA,OAAOA,CAACA;SACzBA,CAACA;SATDD,sBAAWA,qCAAOA;kBAAlBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;aACtBA,CAACA;kBACDF,UAAmBA,UAAmBA;iBACrCE,IAAIA,CAACA,QAAQA,GAAGA,UAAUA,CAACA;aAC5BA,CAACA;;;YAHAF;SAQFA,uBAACA;KAADA,CAACA,IAAA;KAbY,wBAAgB,mBAa5B;;;;;;;;;KCnBD;SAkCCG,wBAAYA,MAAyBA,EAAEA,UAA6BA;aACnEC,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA;aACtBA,IAAIA,CAACA,WAAWA,GAAGA,UAAUA,CAACA;SAC/BA,CAACA;SAjCDD,sBAAWA,kCAAMA;kBAAjBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aACrBA,CAACA;kBACDF,UAAkBA,SAA4BA;iBAC7CE,IAAIA,CAACA,OAAOA,GAAGA,SAASA,CAACA;aAC1BA,CAACA;;;YAHAF;SAKDA,sBAAWA,uCAAWA;kBAAtBA;iBACCG,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,OAAOA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBACxCA,MAAMA,CAAEA,IAAIA,CAACA,OAAoBA,EAAYA,CAACA;iBAC/CA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,OAAiBA,CAACA;iBAC/BA,CAACA;aACFA,CAACA;;;YAAAH;SAEDA,sBAAWA,sCAAUA;kBAArBA;iBACCI,MAAMA,CAACA,IAAIA,CAACA,WAAWA,CAACA;aACzBA,CAACA;kBACDJ,UAAsBA,aAAgCA;iBACrDI,IAAIA,CAACA,WAAWA,GAAGA,aAAaA,CAACA;aAClCA,CAACA;;;YAHAJ;SAKDA,sBAAWA,2CAAeA;kBAA1BA;iBACCK,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,WAAWA,KAAKA,UAAUA,CAACA,CAACA,CAACA;qBAC5CA,MAAMA,CAAEA,IAAIA,CAACA,WAAwBA,EAAYA,CAACA;iBACnDA,CAACA;iBAACA,IAAIA,CAACA,CAACA;qBACPA,MAAMA,CAACA,IAAIA,CAACA,WAAqBA,CAACA;iBACnCA,CAACA;aACFA,CAACA;;;YAAAL;SAMFA,qBAACA;KAADA,CAACA,IAAA;KAtCY,sBAAc,iBAsC1B;;;;;;;;;KClCD;SAgBCM,kBACCA,aAAuCA,EACvCA,YAA0BA;aAE1BC,IAAIA,CAACA,aAAaA,GAAGA,aAAaA,CAACA;aACnCA,IAAIA,CAACA,YAAYA,GAAGA,CAACA,CAACA;aACtBA,IAAIA,CAACA,YAAYA,GAAGA,YAAYA,CAACA;SAClCA,CAACA;SAlBDD,sBAAWA,sCAAgBA;kBAA3BA;iBACCE,MAAMA,CAACA;qBACNA,CAACA,EAAEA,IAAIA,CAACA,aAAaA,CAACA,MAAMA,CAACA,KAAKA;qBAClCA,CAACA,EAAEA,IAAIA,CAACA,aAAaA,CAACA,MAAMA,CAACA,MAAMA;kBACnCA,CAACA;aACHA,CAACA;;;YAAAF;SAEDA,sBAAWA,4BAAMA;kBAAjBA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAACA;aAC1BA,CAACA;;;YAAAH;SAWMA,4BAASA,GAAhBA,UAAiBA,CAASA;aACzBI,EAAEA,CAACA,CAACA,CAACA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,CAACA,CAACA;iBAC3BA,IAAIA,CAACA,YAAYA,GAAGA,CAACA,CAACA;iBACrBA,IAAIA,CAACA,YAAYA,CAACA,SAASA,CAACA,QAAQA,CAAkBA,CAACA,OAAOA,GAAGA,CAACA,CAACA;aACrEA,CAACA;SACFA,CAACA;SAEMJ,yBAAMA,GAAbA,UAAcA,GAAYA;aACzBK,EAAEA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;iBACTA,IAAIA,CAACA,aAAaA,CAACA,SAASA,GAAGA,SAASA,CAACA;iBACzCA,IAAIA,CAACA,aAAaA,CAACA,QAAQA,CAACA,OAAOA,GAAGA,GAAGA,CAACA,QAAQA,EAAEA,EAAEA,CAACA,EAAEA,EAAEA,CAACA,CAACA;aAC9DA,CAACA;SACFA,CAACA;SAEML,wBAAKA,GAAZA;aACCM,IAAIA,CAACA,YAAYA,GAAGA,CAACA,CAACA;aACrBA,IAAIA,CAACA,YAAYA,CAACA,SAASA,CAACA,QAAQA,CAAkBA,CAACA,OAAOA,GAAGA,CAACA,CAACA;SACrEA,CAACA;SACFN,eAACA;KAADA,CAACA,IAAA;KA3CY,gBAAQ,WA2CpB;;;;;;;;;KCxCD;SAuBCO,cACCA,gBAAuBA,EACvBA,UAAsBA,EACtBA,WAAuBA,EACvBA,MAAcA;aAEdC,IAAIA,CAACA,gBAAgBA,GAAGA,gBAAgBA,CAACA;aACzCA,IAAIA,CAACA,UAAUA,GAAGA,IAAIA,CAACA;aACvBA,IAAIA,CAACA,eAAeA,GAAGA,KAAKA,CAACA;aAC7BA,IAAIA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;aAC7BA,IAAIA,CAACA,WAAWA,GAAGA,WAAWA,CAACA;aAE/BA,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA;aAEjBA,IAAIA,CAACA,kBAAkBA,GAAGA;iBACzBA,CAACA,EAAEA,CAACA,gBAAgBA,CAACA,CAACA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,GAAGA,CAACA;iBAC9CA,CAACA,EAAEA,CAACA,gBAAgBA,CAACA,CAACA,GAAGA,CAACA,IAAIA,CAACA,YAAYA,GAAGA,CAACA,CAACA,CAACA,GAAGA,GAAGA;cACvDA,CAACA;aAEFA,IAAIA,CAACA,WAAWA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,mBAAmBA,EAAEA,EAAEA,CAACA,CAACA;aAC/DA,IAAIA,CAACA,aAAaA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,oBAAoBA,EAAEA,EAAEA,CAACA,CAACA;aAClEA,IAAIA,CAACA,WAAWA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,sBAAsBA,EAAEA,EAAEA,CAACA,CAACA;aAElEA,IAAIA,CAACA,eAAeA,GAAGA,EAAEA,CAACA,EAAEA,EAAEA,EAAEA,CAACA,EAAEA,GAAGA,EAACA,CAACA;aACxCA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,eAAMA,CAACA,kBAAkBA,EAAEA,EAAEA,CAACA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,GAAGA,EAAEA,CAACA,CAACA;SAC1EA,CAACA;SAEMD,qBAAMA,GAAbA,UAAcA,aAAuCA,EAAEA,YAA0BA;aAChFE,IAAIA,UAAUA,GAAUA,IAAIA,CAACA,UAAUA,CAACA,gBAAgBA,EAAEA,CAACA;aAC3DA,EAAEA,CAACA,CAACA,CAACA,UAAUA,IAAIA,IAAIA,CAACA,eAAeA,CAACA,UAAUA,CAACA,CAACA;oBAChDA,IAAIA,CAACA,UAAUA,CAACA,YAAYA,CAACA,OAAOA,CAACA;oBACrCA,IAAIA,CAACA,UAAUA,CAACA,YAAYA,CAACA,GAAGA,CACpCA,CAACA,CAACA,CAACA;iBACFA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,EAAEA,CAACA;iBACxBA,IAAIA,CAACA,WAAWA,EAAEA,CAACA;aACpBA,CAACA;aAEDA,IAAIA,kBAAkBA,GAAYA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,CAACA,UAAUA,CAACA,gBAAgBA,EAAEA,CAACA,CAACA;aAE3FA,EAAEA,CAACA,CAACA,kBAAkBA,IAAIA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA;iBACjDA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,EAAEA,CAACA;aACzBA,CAACA;aAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA,kBAAkBA,IAAIA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA;iBACxDA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,EAAEA,CAACA;aAC3BA,CAACA;aAEDA,IAAIA,CAACA,eAAeA,GAAGA,kBAAkBA,CAACA;aAE1CA,IAAIA,gBAAgBA,GAAWA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;aAE7DA,aAAaA,CAACA,IAAIA,EAAEA,CAACA;aAErBA,aAAaA,CAACA,IAAIA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,iBAAiBA,GAAGA,WAAWA,CAACA;aAC/DA,aAAaA,CAACA,SAASA,GAAGA,mBAAmBA,GAAGA,IAAIA,CAACA,OAAOA,GAAGA,GAAGA,CAACA;aACnEA,aAAaA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aACnCA,aAAaA,CAACA,QAAQA,CAACA,cAAcA,EAAEA,gBAAgBA,EAAEA,IAAIA,CAACA,iBAAiBA,GAAGA,EAAEA,CAACA,CAACA;aAEtFA,EAAEA,CAACA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA;iBACrBA,aAAaA,CAACA,IAAIA,EAAEA,CAACA;iBAErBA,aAAaA,CAACA,IAAIA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,iBAAiBA,GAAGA,WAAWA,CAACA;iBAC/DA,aAAaA,CAACA,SAASA,GAAGA,IAAIA,CAACA,UAAUA,CAACA;iBAC1CA,aAAaA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,OAAOA,CAACA;iBACzCA,aAAaA,CAACA,SAASA,GAAGA,QAAQA,CAACA;iBACnCA,aAAaA,CAACA,QAAQA,CAACA,SAASA,GAAGA,IAAIA,CAACA,UAAUA,EAAEA,gBAAgBA,EAAEA,IAAIA,CAACA,iBAAiBA,GAAGA,IAAIA,CAACA,iBAAiBA,GAAGA,EAAEA,CAACA,CAACA;iBAE5HA,aAAaA,CAACA,OAAOA,EAAEA,CAACA;aACzBA,CAACA;aAEDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA;iBAC1BA,aAAaA,CAACA,QAAQA,CACrBA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,EACzBA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,EACzBA,IAAIA,CAACA,WAAWA,EAChBA,IAAIA,CAACA,YAAYA,CAACA,CAACA;aACrBA,CAACA;aACDA,aAAaA,CAACA,WAAWA,GAAGA,mBAAmBA,GAAGA,IAAIA,CAACA,OAAOA,GAAGA,GAAGA,CAACA;aACrEA,aAAaA,CAACA,SAASA,GAAGA,CAACA,CAACA;aAC5BA,aAAaA,CAACA,UAAUA,CACvBA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,EACzBA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,EACzBA,IAAIA,CAACA,WAAWA,EAChBA,IAAIA,CAACA,YAAYA,CAACA,CAACA;aAEpBA,aAAaA,CAACA,IAAIA,GAAGA,EAAEA,GAAGA,IAAIA,CAACA,gBAAgBA,GAAGA,WAAWA,CAACA;aAC9DA,aAAaA,CAACA,SAASA,GAAGA,CAACA,IAAIA,CAACA,eAAeA,GAAGA,aAAaA,GAAGA,mBAAmBA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,GAAGA,GAAGA,CAACA;aAC5GA,aAAaA,CAACA,SAASA,GAAGA,QAAQA,CAACA;aACnCA,aAAaA,CAACA,QAAQA,CAACA,MAAMA,EAAEA,gBAAgBA,EAAEA,CAACA,IAAIA,CAACA,gBAAgBA,GAAGA,IAAIA,CAACA,GAAGA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,CAACA,CAACA;aAG7GA,aAAaA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,OAAOA,CAACA;aACzCA,aAAaA,CAACA,SAASA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,EAAEA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA;aACxEA,IAAIA,CAACA,cAAcA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;aAExDA,aAAaA,CAACA,OAAOA,EAAEA,CAACA;aAExBA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,CAACA;SAC5DA,CAACA;SAEMF,uBAAQA,GAAfA,UAAgBA,WAAmBA,EAAEA,UAAkBA;aACtDG,IAAIA,CAACA,UAAUA,GAAGA,IAAIA,CAACA;aACvBA,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA;aACjBA,IAAIA,CAACA,UAAUA,GAAGA,WAAWA,CAACA;aAC9BA,IAAIA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;SAC9BA,CAACA;SAEOH,8BAAeA,GAAvBA,UAAwBA,KAAYA;aACnCI,MAAMA,CAACA,KAAKA;oBACRA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA;oBACnCA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,GAAGA,IAAIA,CAACA,WAAWA;oBACtDA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA;oBACnCA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,GAAGA,IAAIA,CAACA,YAAYA,CAACA;SAC7DA,CAACA;SArIcJ,sBAAiBA,GAAWA,EAAEA,CAACA;SAC/BA,sBAAiBA,GAAWA,EAAEA,CAACA;SAC/BA,qBAAgBA,GAAWA,EAAEA,CAACA;SAC9BA,gBAAWA,GAAWA,GAAGA,CAACA;SAC1BA,iBAAYA,GAAWA,GAAGA,CAACA;SAC3BA,eAAUA,GAAWA,IAAIA,CAACA;SAiI1CA,WAACA;KAADA,CAACA,IAAA;KAvIY,YAAI,OAuIhB;;;;;;;;;KC3ID;SAKCK,gBAAYA,SAAiBA,EAAEA,UAAiBA;aAJzCC,YAAOA,GAAYA,IAAIA,CAACA;aAK9BA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,KAAKA,EAAEA,CAACA;aACzBA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,GAAGA,SAASA,CAACA;aAE3BA,IAAIA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;SAC9BA,CAACA;SAEDD,sBAAWA,8BAAUA;kBAArBA,UAAsBA,UAAiBA;iBACtCE,IAAIA,CAACA,kBAAkBA,GAAGA,UAAUA,CAACA;aACtCA,CAACA;;;YAAAF;SAEMA,uBAAMA,GAAbA,UAAcA,aAAuCA,EAAEA,YAA0BA;aAChFG,aAAaA,CAACA,SAASA,CACtBA,IAAIA,CAACA,KAAKA,EAEVA,CAACA,EACDA,CAACA,EACDA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,EAChBA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,EAEjBA,CAACA,EACDA,CAACA,EACDA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,EACzBA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,CAACA,CAACA;SAC7BA,CAACA;SACFH,aAACA;KAADA,CAACA,IAAA;KA9BY,cAAM,SA8BlB;;;;;;;;;KC3BD;SAkBCI,gBAAmBA,gBAAuBA,EAAEA,UAAsBA;aAf3DC,YAAOA,GAAYA,IAAIA,CAACA;aAgB9BA,IAAIA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;aAE7BA,IAAIA,CAACA,mBAAmBA,GAAGA;iBAC1BA,CAACA,EAAEA,gBAAgBA,CAACA,CAACA,GAAGA,EAAEA;iBAC1BA,CAACA,EAAEA,EAAEA;cACLA,CAACA;aAEFA,IAAIA,CAACA,qBAAqBA,GAAGA;iBAC5BA,CAACA,EAAEA,EAAEA;iBACLA,CAACA,EAAEA,EAAEA;cACLA,CAACA;aAEFA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA,YAAYA,CAACA;aACnCA,IAAIA,CAACA,KAAKA,GAAGA,QAAQA,CAACA,YAAYA,CAACA,OAAOA,CAACA,gBAAgBA,CAACA,IAAIA,CAACA,EAAEA,EAAEA,CAACA,CAACA;aAEvEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,eAAMA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;aACzEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,eAAMA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;aACzEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,eAAMA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;aACzEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,eAAMA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;aACzEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,eAAMA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;aAEzEA,IAAIA,CAACA,kBAAkBA,GAAGA,KAAKA,CAACA;aAEhCA,IAAIA,CAACA,MAAMA,GAAGA,EAAEA,CAACA;aAEjBA,IAAIA,CAACA,aAAaA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,gBAAgBA,EAAEA,EAAEA,CAACA,CAACA;SAC7DA,CAACA;SAEMD,uBAAMA,GAAbA,UAAcA,aAAuCA,EAAEA,YAA0BA;aAChFE,IAAIA,UAAUA,GAAUA,IAAIA,CAACA,UAAUA,CAACA,gBAAgBA,EAAEA,CAACA;aAC3DA,EAAEA,CAACA,CAACA,UAAUA,IAAIA,IAAIA,CAACA,eAAeA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;iBACpDA,IAAIA,CAACA,YAAYA,EAAEA,CAACA;aACrBA,CAACA;aAEDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,CAACA,UAAUA,CAACA,gBAAgBA,EAAEA,CAACA,CAACA,CAACA,CAACA;iBAC9DA,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA;aAClBA,CAACA;aAEDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,UAAUA,CAACA,YAAYA,CAACA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;iBAC9CA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,kBAAkBA,CAACA,CAACA,CAACA;qBAC9BA,IAAIA,CAACA,YAAYA,EAAEA,CAACA;qBACpBA,IAAIA,CAACA,kBAAkBA,GAAGA,IAAIA,CAACA;iBAChCA,CAACA;aACFA,CAACA;aAACA,IAAIA,CAACA,CAACA;iBACPA,IAAIA,CAACA,kBAAkBA,GAAGA,KAAKA,CAACA;aACjCA,CAACA;aAEDA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA,YAAYA,EAAEA,MAAMA,CAACA,YAAYA,CAACA,CAACA;aAEjFA,aAAaA,CAACA,IAAIA,EAAEA,CAACA;aAErBA,aAAaA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,OAAOA,CAACA;aAEzCA,aAAaA,CAACA,SAASA,CAACA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA,EAAEA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA,CAACA,CAACA;aAEhFA,MAAMA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA;iBACpBA,KAAKA,CAACA;qBACLA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;qBACjDA,KAAKA,CAACA;iBACPA,KAAKA,CAACA;qBACLA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;qBACjDA,KAAKA,CAACA;iBACPA,KAAKA,CAACA;qBACLA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;qBACjDA,KAAKA,CAACA;iBACPA,KAAKA,CAACA;qBACLA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;qBACjDA,KAAKA,CAACA;iBACPA,KAAKA,CAACA;qBACLA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;qBACjDA,KAAKA,CAACA;iBACPA;qBACCA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,aAAaA,EAAEA,YAAYA,CAACA,CAACA;qBACjDA,KAAKA,CAACA;aACRA,CAACA;aAEDA,aAAaA,CAACA,OAAOA,EAAEA,CAACA;SACzBA,CAACA;SAEMF,4BAAWA,GAAlBA,UAAmBA,IAAYA,EAAEA,OAAqBA;aACrDG,IAAIA,QAAQA,GAAUA,IAAIA,aAAKA,CAACA,IAAIA,EAAEA,OAAOA,CAACA,CAACA;aAE/CA,QAAQA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,CAACA;aAEjCA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;aAE3BA,MAAMA,CAACA,QAAQA,CAACA;SACjBA,CAACA;SAEOH,gCAAeA,GAAvBA,UAAwBA,KAAYA;aACnCI,MAAMA,CAACA,KAAKA;oBACRA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA;oBACpCA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA,GAAGA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;oBACnEA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA;oBACpCA,KAAKA,CAACA,CAACA,GAAGA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA,GAAGA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA,CAACA;SACzEA,CAACA;SAEOJ,6BAAYA,GAApBA;aAAAK,iBAYCA;aAXAA,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA;aAEjBA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,CAACA,CAACA;aAE9DA,YAAYA,CAACA,OAAOA,CAACA,gBAAgBA,EAAEA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,EAAEA,CAACA,CAACA;aAE9DA,IAAIA,CAACA,MAAMA,CAACA,OAAOA,CAACA,UAACA,KAAYA;iBAChCA,KAAKA,CAACA,MAAMA,GAAGA,KAAIA,CAACA,KAAKA,GAAGA,CAACA,CAACA;aAC/BA,CAACA,CAACA,CAACA;aAEHA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,EAAEA,CAACA;SAC3BA,CAACA;SA/HcL,mBAAYA,GAAYA,IAAIA,CAACA;SAC7BA,mBAAYA,GAAWA,GAAGA,CAACA;SA+H3CA,aAACA;KAADA,CAACA,IAAA;KAjIY,cAAM,SAiIlB;;;;;;;;;KClID;SAKCM,eAAYA,IAAYA,EAAEA,OAAqBA;aAC9CC,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,KAAKA,CAACA,IAAIA,CAACA,CAACA;aAC7BA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,OAAOA,CAACA,MAAMA,IAAIA,KAAKA,CAACA,aAAaA,CAACA;aAC1DA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,GAAGA,OAAOA,CAACA,SAASA,KAAKA,IAAIA,CAACA;SAC9CA,CAACA;SAEMD,oBAAIA,GAAXA;aACCE,IAAIA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA;SACnBA,CAACA;SAEDF,sBAAWA,yBAAMA;kBAAjBA,UAAkBA,SAAiBA;iBAClCG,IAAIA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,SAASA,CAACA;aAC/BA,CAACA;;;YAAAH;SAhBcA,mBAAaA,GAAWA,GAAGA,CAACA;SAiB5CA,YAACA;KAADA,CAACA,IAAA;KAlBY,aAAK,QAkBjB;;;;;;;;;;;;;;KChBD;SAA8BI,4BAAYA;SAczCA,kBACCA,aAA0BA,EAC1BA,UAAiBA,EACjBA,KAAaA,EACbA,OAAeA,EACfA,MAAcA,EACdA,UAAkBA;aApBpBC,iBAuECA;aAjDCA,kBAAMA,aAAaA,EAAEA,UAAUA,EAAEA,KAAKA,EAAEA,OAAOA,EAAEA,MAAMA,EAAEA,EAAEA,EAAEA,UAAUA,CAACA,CAACA;aAEzEA,IAAIA,CAACA,kBAAkBA,CAACA,SAASA,CAACA,IAAIA,CAACA;iBACtCA,EAAEA,CAACA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,QAAQA,CAACA,mBAAmBA,CAACA,CAACA,CAACA;qBAClEA,KAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,QAAQA,CAACA,mBAAmBA,CAACA;iBAC9DA,CAACA;aACFA,CAACA,CAACA,CAACA;aAEHA,IAAIA,CAACA,eAAeA,GAAGA,IAAIA,iCAAeA,CACzCA,IAAIA,CAACA,iBAAiBA,EACtBA,IAAIA,gCAAcA,CAACA,KAAKA,CAACA,EACzBA,CAACA,EACDA,CAACA,CACDA,CAACA;SACHA,CAACA;SA9BDD,sBAAYA,oCAAcA;kBAA1BA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,gBAAgBA,CAACA,CAACA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,CAACA;aAChEA,CAACA;;;YAAAF;SAEDA,sBAAYA,qCAAeA;kBAA3BA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,cAAcA,EAAEA,CAACA,CAACA,CAACA;aACtEA,CAACA;;;YAAAH;SA0BMA,uBAAIA,GAAXA,UAAYA,SAAiBA;aAC5BI,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA;iBAC5BA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAC/BA,CAACA,QAAQA,CAACA,qBAAqBA,GAAGA,SAASA,CAACA,GAAGA,QAAQA,CAACA,qBAAqBA,CAACA,CAACA;aAEjFA,gBAAKA,CAACA,IAAIA,YAACA,SAASA,CAACA,CAACA;SACvBA,CAACA;SAEMJ,yBAAMA,GAAbA,UAAcA,aAAuCA,EAAEA,YAA0BA;aAChFK,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,GAAGA,CAACA,CAACA,CAACA,CAACA;iBAC9BA,aAAaA,CAACA,IAAIA,EAAEA,CAACA;iBAErBA,aAAaA,CAACA,SAASA,GAAGA,IAAIA,CAACA,SAASA,CAACA;iBAEzCA,aAAaA,CAACA,WAAWA,GAAGA,GAAGA,CAACA;iBAChCA,aAAaA,CAACA,QAAQA,CACrBA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,EAC3BA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EACnDA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,EAC5BA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAC7BA,CAACA;iBAEFA,aAAaA,CAACA,WAAWA,GAAGA,CAACA,CAACA;iBAC9BA,aAAaA,CAACA,QAAQA,CACrBA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,EAC3BA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,EACnDA,CAACA,CAACA,IAAIA,CAACA,eAAeA,GAAGA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA,EAC5DA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAC7BA,CAACA;iBAEFA,aAAaA,CAACA,OAAOA,EAAEA,CAACA;aACzBA,CAACA;SACFA,CAACA;SArEcL,8BAAqBA,GAAWA,IAAIA,CAACA;SACrCA,4BAAmBA,GAAWA,EAAEA,CAACA;SAqEjDA,eAACA;KAADA,CAACA,EAvE6B,2BAAY,EAuEzC;KAvEY,gBAAQ,WAuEpB;;;;;;;;;KC5ED;SAmCCM,oBAAYA,MAAyBA;aAnCtCC,iBA0GCA;aA3FQA,sBAAiBA,GAAmCA;iBAC3DA,OAAOA,EAAEA,KAAKA;iBACdA,OAAOA,EAAEA,KAAKA;iBACdA,MAAMA,EAAEA,KAAKA;iBACbA,IAAIA,EAAEA,KAAKA;iBACXA,OAAOA,EAAEA,KAAKA;iBACdA,GAAGA,EAAEA,KAAKA;iBACVA,GAAGA,EAAEA,KAAKA;iBACVA,GAAGA,EAAEA,KAAKA;iBACVA,GAAGA,EAAEA,KAAKA;iBACVA,GAAGA,EAAEA,KAAKA;iBACVA,GAAGA,EAAEA,KAAKA;cACVA,CAACA;aASDA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;aAErBA,MAAMA,CAACA,gBAAgBA,CAACA,OAAOA,EAAEA,UAACA,KAAoBA;iBACrDA,KAAIA,CAACA,WAAWA,CAACA,KAAKA,CAACA,CAACA;aACzBA,CAACA,CAACA,CAACA;aAEHA,MAAMA,CAACA,gBAAgBA,CAACA,SAASA,EAAEA,UAACA,KAAoBA;iBACvDA,KAAIA,CAACA,aAAaA,CAACA,KAAKA,CAACA,CAACA;iBAG1BA,EAAEA,CAACA,CAACA,UAAUA,CAACA,QAAQA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA;qBACxCA,KAAKA,CAACA,cAAcA,EAAEA,CAACA;iBACxBA,CAACA;aACFA,CAACA,CAACA,CAACA;aAEHA,MAAMA,CAACA,gBAAgBA,CAACA,WAAWA,EAAEA,UAACA,KAAiBA;iBACtDA,KAAIA,CAACA,eAAeA,CAACA,KAAKA,CAACA,CAACA;aAC7BA,CAACA,CAACA,CAACA;aAEHA,MAAMA,CAACA,gBAAgBA,CAACA,WAAWA,EAAEA,UAACA,KAAiBA;iBACtDA,KAAIA,CAACA,eAAeA,CAACA,KAAKA,CAACA,CAACA;aAC7BA,CAACA,CAACA,CAACA;SACJA,CAACA;SAEMD,iCAAYA,GAAnBA,UAAoBA,GAAsBA;aAA1CE,iBAKCA;aAJAA,IAAIA,IAAIA,GAAaA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;aACpCA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,UAACA,KAAaA;iBAC9BA,MAAMA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA,CAACA;aACtCA,CAACA,CAACA,CAACA;SACJA,CAACA;SAEMF,qCAAgBA,GAAvBA;aACCG,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA;SAC3BA,CAACA;SAEMH,qCAAgBA,GAAvBA;aACCI,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA;SAC3BA,CAACA;SAEMJ,+BAAUA,GAAjBA;aACCK,IAAIA,CAACA,aAAaA,GAAGA,SAASA,CAACA;SAChCA,CAACA;SAEOL,gCAAWA,GAAnBA,UAAoBA,KAAoBA;aACvCM,IAAIA,GAAGA,GAAWA,UAAUA,CAACA,QAAQA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA;aACrDA,IAAIA,CAACA,iBAAiBA,CAACA,GAAGA,CAACA,GAAGA,KAAKA,CAACA;SACrCA,CAACA;SAEON,kCAAaA,GAArBA,UAAsBA,KAAoBA;aACzCO,IAAIA,GAAGA,GAAWA,UAAUA,CAACA,QAAQA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA;aACrDA,IAAIA,CAACA,iBAAiBA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,CAACA;SACpCA,CAACA;SAEOP,oCAAeA,GAAvBA,UAAwBA,KAAiBA;aACxCQ,IAAIA,qBAAqBA,GAAeA,IAAIA,CAACA,MAAMA,CAACA,qBAAqBA,EAAEA,CAACA;aAC5EA,IAAIA,CAACA,aAAaA,GAAIA;iBACrBA,CAACA,EAAEA,KAAKA,CAACA,OAAOA,GAAGA,qBAAqBA,CAACA,IAAIA;iBAC7CA,CAACA,EAAEA,KAAKA,CAACA,OAAOA,GAAGA,qBAAqBA,CAACA,GAAGA;cAC5CA,CAACA;SACHA,CAACA;SAEOR,oCAAeA,GAAvBA,UAAwBA,KAAiBA;aACxCS,IAAIA,qBAAqBA,GAAeA,IAAIA,CAACA,MAAMA,CAACA,qBAAqBA,EAAEA,CAACA;aAC5EA,IAAIA,CAACA,aAAaA,GAAGA;iBACpBA,CAACA,EAAEA,KAAKA,CAACA,OAAOA,GAAGA,qBAAqBA,CAACA,IAAIA;iBAC7CA,CAACA,EAAEA,KAAKA,CAACA,OAAOA,GAAGA,qBAAqBA,CAACA,GAAGA;cAC5CA,CAACA;aAEFA,KAAKA,CAACA,cAAcA,EAAEA,CAACA;SACxBA,CAACA;SAxGcT,mBAAQA,GAAkCA;aACxDA,EAAEA,EAAEA,OAAOA;aACXA,EAAEA,EAAEA,OAAOA;aACXA,EAAEA,EAAEA,MAAMA;aACVA,EAAEA,EAAEA,IAAIA;aACRA,EAAEA,EAAEA,OAAOA;aACXA,EAAEA,EAAEA,GAAGA;aACPA,EAAEA,EAAEA,GAAGA;aACPA,EAAEA,EAAEA,GAAGA;aACPA,EAAEA,EAAEA,GAAGA;aACPA,EAAEA,EAAEA,GAAGA;aACPA,EAAEA,EAAEA,GAAGA;UACPA,CAACA;SA6FHA,iBAACA;KAADA,CAACA,IAAA;KA1GY,kBAAU,aA0GtB;;;;;;;;;KCrGD;SAgBCU,sBACCA,eAAyBA,EACzBA,UAAwBA,EACxBA,WAAyBA,EACzBA,WAAyBA;aAFzBC,0BAAwBA,GAAxBA,eAAwBA;aACxBA,2BAAyBA,GAAzBA,gBAAyBA;aACzBA,2BAAyBA,GAAzBA,gBAAyBA;aAEzBA,IAAIA,CAACA,SAASA,GAAGA,eAAeA,CAACA;aAEjCA,IAAIA,CAACA,WAAWA,GAAGA,UAAUA,CAACA;aAC9BA,IAAIA,CAACA,YAAYA,GAAGA,WAAWA,CAACA;aAChCA,IAAIA,CAACA,YAAYA,GAAGA,WAAWA,CAACA;aAEhCA,IAAIA,CAACA,cAAcA,GAAGA,EAAEA,CAACA;aACzBA,IAAIA,CAACA,iBAAiBA,GAAGA,EAAEA,CAACA;SAC7BA,CAACA;SAlBDD,sBAAWA,kCAAQA;kBAAnBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA;aACvBA,CAACA;;;YAAAF;SAkBMA,2BAAIA,GAAXA,UAAYA,SAAiBA;aAA7BG,iBAsBCA;aArBAA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,MAAMA,GAAGA,GAAGA,CAACA,CAACA,CAACA;iBACjCA,MAAMA,IAAIA,UAAUA,CAACA,+CAA+CA,CAACA,CAACA;aACvEA,CAACA;aAEDA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,WAAWA,EAAEA,SAASA,CAACA,CAACA;aAC7CA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aAC9CA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aAG9CA,IAAIA,CAACA,SAASA,GAAGA,IAAIA,CAACA,SAASA,CAACA,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA;aAG5DA,IAAIA,CAACA,SAASA,GAAGA,IAAIA,CAACA,SAASA,CAACA,MAAMA,CACrCA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,KAAIA,CAACA,iBAAiBA,CAACA,OAAOA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;aACnDA,CAACA,EACDA,IAAIA,CAACA,CAACA;aAGPA,IAAIA,CAACA,cAAcA,GAAGA,EAAEA,CAACA;aACzBA,IAAIA,CAACA,iBAAiBA,GAAGA,EAAEA,CAACA;SAC7BA,CAACA;SAEMH,0BAAGA,GAAVA,UAAWA,MAAcA;aACxBI,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;SAClCA,CAACA;SAEMJ,6BAAMA,GAAbA,UAAcA,MAAcA;aAC3BK,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;SACrCA,CAACA;SAEML,gCAASA,GAAhBA,UAAiBA,IAAYA;aAC5BM,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,CAACA;SACrFA,CAACA;SAEON,iCAAUA,GAAlBA,UAAmBA,OAAgBA,EAAEA,SAAiBA;aACrDO,GAAGA,CAACA,CAACA,GAAGA,CAACA,UAAUA,IAAIA,OAAOA,CAACA,CAACA,CAACA;iBAChCA,EAAEA,CAACA,CAACA,OAAOA,CAACA,cAAcA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;qBACxCA,OAAOA,CAACA,UAAUA,CAACA,CAACA,GAAGA,CAACA,IAAIA,CAACA,SAASA,EAAEA,IAAIA,EAAEA,SAASA,CAACA,CAACA;iBAC1DA,CAACA;aACFA,CAACA;SACFA,CAACA;SACFP,mBAACA;KAADA,CAACA,IAAA;KA3EY,oBAAY,eA2ExB;;;;;;;;;;;;;;KC9ED;SAAoCQ,kCAAMA;SAA1CA;aAAoCC,8BAAMA;SAI1CA,CAACA;SAHOD,4BAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAC3EE,MAAMA,CAACA,QAAQA,EAAEA,CAACA;SACnBA,CAACA;SACFF,qBAACA;KAADA,CAACA,EAJmC,eAAM,EAIzC;KAJY,sBAAc,iBAI1B;;;;;;;;;;;;;;KCJD;SAAqCG,mCAAMA;SAA3CA;aAAqCC,8BAAMA;SAqD3CA,CAACA;SApDOD,6BAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAA5EE,iBAUCA;aATAA,eAAMA,CAACA,YAAYA,CAClBA,QAAQA,EACRA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,kBAAkBA,CAACA;aACpCA,CAACA,EACDA,UAACA,OAAeA,EAAEA,OAAeA;iBAChCA,KAAIA,CAACA,OAAOA,CAACA,OAAOA,EAAEA,OAAOA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aACzDA,CAACA,CACDA,CAACA;SACHA,CAACA;SAEOF,iCAAOA,GAAfA,UAAgBA,OAAeA,EAAEA,OAAeA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAE9FG,IAAIA,iBAAiBA,GACpBA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,GAAGA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;iBAClEA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,GAAGA,CAACA,CAACA;aAEpEA,IAAIA,mBAAmBA,GACtBA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,IAAIA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA;iBAClEA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,KAAKA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA,CAACA;aAGpEA,EAAEA,CAACA,CAACA,CAACA,mBAAmBA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,CAACA;iBAChDA,MAAMA,CAACA;aACRA,CAACA;aAIDA,IAAIA,aAAaA,GAAWA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;aAC7DA,IAAIA,aAAaA,GAAWA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;aAC7DA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,aAAaA,CAACA;aACjDA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,aAAaA,CAACA;aAGjDA,IAAIA,mBAAmBA,GAAWA,OAAOA,CAACA,iBAAiBA,CAACA,cAAcA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;aAC9GA,IAAIA,oBAAoBA,GAAWA,mBAAmBA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA;aACzFA,IAAIA,mBAAmBA,GAAWA,OAAOA,CAACA,iBAAiBA,CAACA,cAAcA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;aAC9GA,IAAIA,oBAAoBA,GAAWA,mBAAmBA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA;aAEzFA,IAAIA,oBAAoBA,GACvBA,CAACA,mBAAmBA,GAAGA,oBAAoBA,CAACA;oBACzCA,CAACA,oBAAoBA,GAAGA,mBAAmBA,CAACA,CAACA;aAEjDA,EAAEA,CAACA,CAACA,CAACA,oBAAoBA,CAACA,CAACA,CAACA;iBAC3BA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;iBACrEA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,GAAGA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;aACtEA,CAACA;aAEDA,OAAOA,CAACA,kBAAkBA,CAACA,SAASA,CAACA,OAAOA,CAACA,OAAOA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aAC/EA,OAAOA,CAACA,kBAAkBA,CAACA,SAASA,CAACA,OAAOA,CAACA,OAAOA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;SAChFA,CAACA;SACFH,sBAACA;KAADA,CAACA,EArDoC,eAAM,EAqD1C;KArDY,uBAAe,kBAqD3B;;;;;;;;;;;;;;KCpDD;SAAiCI,+BAAMA;SAGtCA,qBAAYA,UAAsBA;aACjCC,iBAAOA,CAACA;aAERA,IAAIA,CAACA,WAAWA,GAAGA,UAAUA,CAACA;SAC/BA,CAACA;SAEMD,yBAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAA5EE,iBAUCA;aATAA,eAAMA,CAACA,kBAAkBA,CACxBA,QAAQA,EACRA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,cAAcA,CAACA;aAChCA,CAACA,EACDA,UAACA,MAAcA;iBACdA,KAAIA,CAACA,kBAAkBA,CAACA,MAAMA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aAC1DA,CAACA,CACDA,CAACA;SACHA,CAACA;SAEOF,wCAAkBA,GAA1BA,UAA2BA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;aACvFG,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,MAAMA,CAACA,cAAcA,CAACA,kBAAkBA,CAACA,CAACA,CAACA;iBAC1DA,EAAEA,CAACA,CAACA,IAAIA,CAACA,WAAWA,CAACA,YAAYA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;qBACxCA,MAAMA,CAACA,cAAcA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,MAAMA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;iBACnFA,CAACA;aACFA,CAACA;SACFA,CAACA;SACFH,kBAACA;KAADA,CAACA,EA5BgC,eAAM,EA4BtC;KA5BY,mBAAW,cA4BvB;;;;;;;;;;;;;;KC7BD;SAAiCI,+BAAMA;SAgBtCA;aACCC,iBAAOA,CAACA;aAERA,IAAIA,CAACA,UAAUA,EAAEA,CAACA;SACnBA,CAACA;SAhBDD,sBAAWA,+BAAMA;kBAAjBA;iBACCE,MAAMA,CAACA,WAAWA,CAACA,KAAKA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;aACxCA,CAACA;;;YAAAF;SAEDA,sBAAWA,mCAAUA;kBAArBA;iBACCG,MAAMA,CAACA,WAAWA,CAACA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;aAC5CA,CAACA;;;YAAAH;SAEDA,sBAAWA,mCAAUA;kBAArBA;iBACCI,MAAMA,CAACA,WAAWA,CAACA,KAAKA,CAACA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,CAACA;aAC3DA,CAACA;;;YAAAJ;SAQcA,iBAAKA,GAApBA,UAAqBA,MAAcA;aAClCK,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,GAAGA,CAACA,GAAGA,GAAGA,CAACA;SACvCA,CAACA;SAEML,yBAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAC3EM,IAAIA,aAAaA,GAAWA,CAACA,CAACA;aAC9BA,IAAIA,iBAAiBA,GAAWA,CAACA,CAACA;aAElCA,eAAMA,CAACA,kBAAkBA,CACxBA,QAAQA,EACRA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,cAAcA,CAACA;aAChCA,CAACA,EACDA,UAACA,MAAcA;iBACdA,aAAaA,IAAIA,MAAMA,CAACA,cAAcA,CAACA,WAAWA,CAACA;iBACnDA,iBAAiBA,IAAIA,MAAMA,CAACA,cAAcA,CAACA,eAAeA,CAACA;aAC5DA,CAACA,CACDA,CAACA;aAGFA,EAAEA,CAACA,CAACA,aAAaA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;iBAClCA,IAAIA,CAACA,OAAOA,GAAGA,aAAaA,CAACA;aAC9BA,CAACA;aACDA,EAAEA,CAACA,CAACA,iBAAiBA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,CAACA,CAACA;iBAC1CA,IAAIA,CAACA,WAAWA,GAAGA,iBAAiBA,CAACA;aACtCA,CAACA;SACFA,CAACA;SAEMN,gCAAUA,GAAjBA;aACCO,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA;aACjBA,IAAIA,CAACA,WAAWA,GAAGA,CAACA,CAACA;SACtBA,CAACA;SACFP,kBAACA;KAADA,CAACA,EAtDgC,eAAM,EAsDtC;KAtDY,mBAAW,cAsDvB;;;;;;;;;;;;;;KCtDD,WAAY,SAAS;SACpBQ,yCAAQA;SACRA,yCAAQA;SACRA,yCAAQA;KACTA,CAACA,EAJW,iBAAS,KAAT,iBAAS,QAIpB;KAJD,IAAY,SAAS,GAAT,iBAIX;KAMD;SAAqCC,mCAAMA;SAsB1CA;aACCC,iBAAOA,CAACA;aApBDA,gBAAWA,GAAaA,EAAEA,CAACA;aAsBlCA,IAAIA,CAACA,MAAMA,GAAOA,SAASA,CAACA,IAAIA,CAACA;aACjCA,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA,IAAIA,CAACA;SAClCA,CAACA;SAnBDD,sBAAWA,wCAAWA;kBAAtBA;iBACCE,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAACA;aAC1BA,CAACA;kBACDF,UAAuBA,UAA8BA;iBACpDE,IAAIA,CAACA,YAAYA,GAAGA,UAAUA,CAACA;aAChCA,CAACA;;;YAHAF;SAKDA,sBAAWA,wCAAWA;kBAAtBA;iBACCG,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAACA;aAC1BA,CAACA;kBACDH,UAAuBA,UAA8BA;iBACpDG,IAAIA,CAACA,YAAYA,GAAGA,UAAUA,CAACA;aAChCA,CAACA;;;YAHAH;SAYMA,6BAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAG3EI,IAAIA,SAASA,GAAcA,IAAIA,CAACA,UAAUA,CAACA;aAC3CA,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA;aAG5BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,MAAMA,KAAKA,SAASA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;iBAC7CA,MAAMA,CAACA;aACRA,CAACA;aAEDA,IAAIA,CAACA,MAAMA,GAAGA,SAASA,CAACA;aAGxBA,IAAIA,CAACA,WAAWA,CAACA,OAAOA,CAACA,UAACA,MAAcA;iBACvCA,YAAYA,CAACA,MAAMA,CAACA,MAAMA,CAACA,CAACA;aAC7BA,CAACA,CAACA,CAACA;aACHA,IAAIA,CAACA,WAAWA,GAAGA,EAAEA,CAACA;aAEtBA,MAAMA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA;iBACnBA,KAAKA,SAASA,CAACA,IAAIA;qBAClBA,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;qBACpCA,KAAKA,CAACA;iBAEPA,KAAKA,SAASA,CAACA,IAAIA;qBAClBA,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;qBACpCA,KAAKA,CAACA;iBAEPA;qBACCA,KAAKA,CAACA;aACRA,CAACA;SACFA,CAACA;SAEMJ,mCAASA,GAAhBA;aACCK,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA,IAAIA,CAACA;SAClCA,CAACA;SAEML,iCAAOA,GAAdA;aACCM,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA,IAAIA,CAACA;SAClCA,CAACA;SACFN,sBAACA;KAADA,CAACA,EArEoC,eAAM,EAqE1C;KArEY,uBAAe,kBAqE3B;;;;;;;;;;;;;;KC/ED;SAAmCO,iCAAMA;SACxCA;aACCC,iBAAOA,CAACA;SACTA,CAACA;SAEMD,2BAAGA,GAAVA,UAAWA,QAAkBA,EAAEA,YAA0BA,EAAEA,SAAiBA;aAA5EE,iBAUCA;aATAA,eAAMA,CAACA,kBAAkBA,CACxBA,QAAQA,EACRA,UAACA,MAAcA;iBACdA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA;aAClCA,CAACA,EACDA,UAACA,MAAcA;iBACdA,KAAIA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,YAAYA,EAAEA,SAASA,CAACA,CAACA;aAC5CA,CAACA,CACDA,CAACA;SACHA,CAACA;SAEOF,4BAAIA,GAAZA,UAAaA,MAAcA,EAAEA,YAA0BA,EAAEA,SAAiBA;aACzEG,MAAMA,CAACA,gBAAgBA,CAACA,OAAOA,CAACA,YAAYA,EAAEA,SAASA,CAACA,CAACA;SAC1DA,CAACA;SACFH,oBAACA;KAADA,CAACA,EApBkC,eAAM,EAoBxC;KApBY,qBAAa,gBAoBzB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6d3277b5f0f3a12dbce6\n **/","import {Renderer} from \"renderer\";\r\nimport {Controller} from \"controller\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {LocationSystem} from \"entitySystem/locationSystem\";\r\nimport {RenderSystem} from \"entitySystem/renderSystem\";\r\nimport {CollisionSystem} from \"entitySystem/collisionSystem\";\r\nimport {InputSystem} from \"entitySystem/inputSystem\";\r\nimport {ScoreSystem} from \"entitySystem/scoreSystem\";\r\nimport {GameStateSystem} from \"entitySystem/gameStateSystem\";\r\nimport {EmitterSystem} from \"entitySystem/emitterSystem\";\r\n\r\nlet canvas: HTMLCanvasElement = document.getElementById(\"viewport\") as HTMLCanvasElement;\r\n\r\nlet controller: Controller = new Controller(canvas);\r\n\r\nlet orchestrator: Orchestrator = new Orchestrator(\r\n\t[],\r\n\t{\r\n\t\t\"location\": new LocationSystem()\r\n\t},\r\n\t{\r\n\t\t\"input\": new InputSystem(controller),\r\n\t\t\"collision\": new CollisionSystem(),\r\n\t\t\"score\": new ScoreSystem(),\r\n\t\t\"gameState\": new GameStateSystem(),\r\n\t\t\"emitter\": new EmitterSystem()\r\n\t},\r\n\t{\r\n\t\t\"render\": new RenderSystem(canvas.getContext(\"2d\"))\r\n\t});\r\n\r\nnew Renderer(canvas, controller, orchestrator).Start();\r\n\r\n// Ensure keyboard events when loaded in an iframe (fix for itch.io)\r\nwindow.onload = function(): void {\r\n\twindow.focus();\r\n};\r\nwindow.onclick = function(): void {\r\n\twindow.focus();\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {LocationComponent, LocationType} from \"entitySystem/locationComponent\";\r\nimport {RenderComponent, RenderLayer, RectangleLayer, SpriteLayer, TextLayer} from \"entitySystem/renderComponent\";\r\n\r\nexport class RenderSystem extends System {\r\n\tprivate _renderContext: CanvasRenderingContext2D;\r\n\tprivate _offsetX: number = 0;\r\n\tprivate _offsetY: number = 0;\r\n\r\n\tpublic get offsetX(): number {\r\n\t\treturn this._offsetX;\r\n\t}\r\n\tpublic set offsetX(newValue: number) {\r\n\t\tthis._offsetX = newValue;\r\n\t}\r\n\tpublic get offsetY(): number {\r\n\t\treturn this._offsetY;\r\n\t}\r\n\tpublic set offsetY(newValue: number) {\r\n\t\tthis._offsetY = newValue;\r\n\t}\r\n\r\n\tconstructor(renderContext: CanvasRenderingContext2D) {\r\n\t\tsuper();\r\n\r\n\t\tthis._renderContext = renderContext;\r\n\t}\r\n\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number ): void {\r\n\t\tSystem.ApplyToIndividuals(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.renderComponent;\r\n\t\t\t},\r\n\t\t\t(entity: Entity): void => {\r\n\t\t\t\tthis.Draw(entity, orchestrator, deltaTime);\r\n\t\t\t},\r\n\t\t\t(entity: Entity): number => {\r\n\t\t\t\treturn entity.renderComponent.zIndex;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate Draw(entity: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\t// TODO: Orchestrator shouldn't invoke if there isn't a relevant component.\r\n\t\tif (!entity.renderComponent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._renderContext.save();\r\n\r\n\t\tlet renderComponent: RenderComponent = entity.renderComponent;\r\n\r\n\t\tthis._renderContext.globalAlpha = renderComponent.opacityValue;\r\n\r\n\t\tif (renderComponent.position.type === LocationType.world) {\r\n\t\t\tthis.OffsetViewport();\r\n\t\t}\r\n\r\n\t\tthis.RotateAroundCenter(renderComponent.position);\r\n\t\tthis.MoveToPosition(renderComponent.position);\r\n\r\n\t\t// Layers can be a function so access it once upfront to ensure a single set of results.\r\n\t\tlet layers: RenderLayer[] = renderComponent.layers;\r\n\r\n\t\tfor (let layerIndex: number = 0; layerIndex < layers.length; layerIndex++) {\r\n\t\t\tlet layer: RenderLayer = layers[layerIndex];\r\n\r\n\t\t\tthis._renderContext.save();\r\n\t\t\tthis.OffsetLayer(layer);\r\n\r\n\t\t\tif (layer instanceof RectangleLayer) {\r\n\t\t\t\tthis.DrawRect(renderComponent, layer as RectangleLayer);\r\n\t\t\t} else if (layer instanceof SpriteLayer) {\r\n\t\t\t\tthis.DrawSprite(renderComponent, layer as SpriteLayer);\r\n\t\t\t} else if (layer instanceof TextLayer) {\r\n\t\t\t\tthis.DrawText(renderComponent, layer as TextLayer);\r\n\t\t\t}\r\n\r\n\t\t\tthis._renderContext.restore();\r\n\t\t}\r\n\r\n\t\tthis._renderContext.restore();\r\n\t}\r\n\r\n\tprivate RotateAroundCenter(position: LocationComponent): void {\r\n\t\t// Move the center of the entity to the origin\r\n\t\tthis._renderContext.translate(\r\n\t\t\tposition.centerXPosition,\r\n\t\t\tposition.centerYPosition);\r\n\r\n\t\t// Rotate around the origin\r\n\t\tthis._renderContext.rotate(position.rotationInDegrees);\r\n\r\n\t\t// Move back to the original position\r\n\t\tthis._renderContext.translate(\r\n\t\t\t-position.centerXPosition,\r\n\t\t\t-position.centerYPosition);\r\n\t}\r\n\r\n\tprivate MoveToPosition(position: LocationComponent): void {\r\n\t\tthis._renderContext.translate(\r\n\t\t\tposition.xPositionValue,\r\n\t\t\tposition.yPositionValue);\r\n\t}\r\n\r\n\tprivate OffsetLayer(layer: RenderLayer): void {\r\n\t\tthis._renderContext.translate(\r\n\t\t\tlayer.offsetX,\r\n\t\t\tlayer.offsetY);\r\n\t}\r\n\r\n\tprivate OffsetViewport(): void {\r\n\t\tthis._renderContext.translate(\r\n\t\t\tthis._offsetX,\r\n\t\t\tthis._offsetY);\r\n\t}\r\n\r\n\tprivate DrawRect(renderComponent: RenderComponent, rectangleLayer: RectangleLayer): void {\r\n\r\n\t\tlet skewedPosition: LocationComponent = renderComponent.skewedPosition;\r\n\r\n\t\t// Begin the shape.\r\n\t\tthis._renderContext.beginPath();\r\n\r\n\t\t// Create the rectangle.\r\n\t\tthis._renderContext.rect(\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tskewedPosition.width,\r\n\t\t\tskewedPosition.height);\r\n\r\n\t\t// Fill it in.\r\n\t\tthis._renderContext.fillStyle = rectangleLayer.fillColorValue;\r\n\t\tthis._renderContext.fill();\r\n\r\n\t\t// End the shape.\r\n\t\tthis._renderContext.closePath();\r\n\t}\r\n\r\n\tprivate DrawSprite(renderComponent: RenderComponent, spriteLayer: SpriteLayer): void {\r\n\r\n\t\tlet skewedPosition: LocationComponent = renderComponent.skewedPosition;\r\n\r\n\t\tthis._renderContext.drawImage(\r\n\t\t\tspriteLayer.image,\r\n\t\t\t// Source dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tspriteLayer.image.width,\r\n\t\t\tspriteLayer.image.height,\r\n\t\t\t// Destination dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tskewedPosition.width,\r\n\t\t\tskewedPosition.height);\r\n\t}\r\n\r\n\tprivate DrawText(renderComponent: RenderComponent, textLayer: TextLayer): void {\r\n\r\n\t\tthis._renderContext.font = textLayer.sizeInPixels.toString() + \"px \" + textLayer.font;\r\n\r\n\t\tthis._renderContext.fillStyle = textLayer.fillColorValue;\r\n\r\n\t\tif (textLayer.isCentered) {\r\n\t\t\tthis._renderContext.textAlign = \"center\";\r\n\t\t}\r\n\r\n\t\tthis._renderContext.fillText(textLayer.textValue, 0, 0);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/renderSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport abstract class System {\r\n\r\n\tprotected static ApplyToIndividuals(\r\n\t\tentities: Entity[],\r\n\t\tpredicate: (entity: Entity) => boolean,\r\n\t\tlogic: (entity: Entity) => void,\r\n\t\tsort?: (entity: Entity) => number\r\n\t): void {\r\n\t\tlet filteredEntities: Entity[] = entities.filter((entity: Entity) => {\r\n\t\t\treturn predicate(entity);\r\n\t\t});\r\n\r\n\t\tif (sort) {\r\n\t\t\tfilteredEntities = filteredEntities.sort((aEntity: Entity, bEntity: Entity) => {\r\n\t\t\t\treturn sort(aEntity) > sort(bEntity) ? 1 : -1;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfilteredEntities.forEach((entity: Entity) => {\r\n\t\t\tlogic(entity);\r\n\t\t});\r\n\t}\r\n\r\n\tprotected static ApplyToPairs(\r\n\t\tentities: Entity[],\r\n\t\tpredicate: (entity: Entity) => boolean,\r\n\t\tlogic: (entityA: Entity, entityB: Entity) => void\r\n\t): void {\r\n\t\tlet filteredEntities: Entity[] = entities.filter((entity: Entity) => {\r\n\t\t\treturn predicate(entity);\r\n\t\t});\r\n\r\n\t\tfor (let i: number = 0; i < filteredEntities.length - 1; i++) {\r\n\t\t\t// Store the inner entity to save on lookups.\r\n\t\t\tlet entityA: Entity = filteredEntities[i];\r\n\r\n\t\t\tfor (let j: number = i + 1; j < filteredEntities.length; j++) {\r\n\t\t\t\tlogic(entityA, filteredEntities[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic abstract Run(\r\n\t\tentities: Entity[],\r\n\t\torchestrator: Orchestrator,\r\n\t\tdeltaTime: number\r\n\t): void;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/system.ts\n **/","export enum LocationType {\r\n\tunknown = 0,\r\n\tworld = 1,\r\n\tui = 2\r\n}\r\n\r\nexport class LocationComponent {\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\r\n\t// Data members.\r\n\tprivate _x: number | Function;\r\n\tprivate _y: number | Function;\r\n\tprivate _xSpeed: number;\r\n\tprivate _ySpeed: number;\r\n\tprivate _xSize: number;\r\n\tprivate _ySize: number;\r\n\tprivate _rotation: number;\r\n\tprivate _type: LocationType;\r\n\r\n\t// Position properties.\r\n\tget xPosition(): number | Function {\r\n\t\treturn this._x;\r\n\t}\r\n\tset xPosition(newValue: number | Function) {\r\n\t\tthis._x = newValue;\r\n\t}\r\n\tget yPosition(): number | Function {\r\n\t\treturn this._y;\r\n\t}\r\n\tset yPosition(newValue: number | Function) {\r\n\t\tthis._y = newValue;\r\n\t}\r\n\tget xPositionValue(): number {\r\n\t\tif (typeof this._x === \"function\") {\r\n\t\t\treturn (this._x as Function)() as number;\r\n\t\t} else {\r\n\t\t\treturn this._x as number;\r\n\t\t}\r\n\t}\r\n\tget yPositionValue(): number {\r\n\t\tif (typeof this._y === \"function\") {\r\n\t\t\treturn (this._y as Function)() as number;\r\n\t\t} else {\r\n\t\t\treturn this._y as number;\r\n\t\t}\r\n\t}\r\n\r\n\t// Size properties.\r\n\tget width(): number {\r\n\t\treturn this._xSize;\r\n\t}\r\n\tget height(): number {\r\n\t\treturn this._ySize;\r\n\t}\r\n\r\n\t// Velocity properties.\r\n\tget xSpeed(): number {\r\n\t\treturn this._xSpeed;\r\n\t}\r\n\tset xSpeed(newValue: number) {\r\n\t\tthis._xSpeed = newValue;\r\n\t}\r\n\tget ySpeed(): number {\r\n\t\treturn this._ySpeed;\r\n\t}\r\n\tset ySpeed(newValue: number) {\r\n\t\tthis._ySpeed = newValue;\r\n\t}\r\n\r\n\t// Rotation properties.\r\n\tget rotation(): number {\r\n\t\treturn this._rotation;\r\n\t}\r\n\tset rotation(newValue: number) {\r\n\t\tthis._rotation = newValue;\r\n\t}\r\n\r\n\t// Helper properties.\r\n\tget left(): number {\r\n\t\treturn this.xPositionValue;\r\n\t}\r\n\tget right(): number {\r\n\t\treturn this.xPositionValue + this.width;\r\n\t}\r\n\tget top(): number {\r\n\t\treturn this.yPositionValue;\r\n\t}\r\n\tget bottom(): number {\r\n\t\treturn this.yPositionValue + this.height;\r\n\t}\r\n\tget centerXPosition(): number {\r\n\t\treturn this.xPositionValue + (this.width / 2);\r\n\t}\r\n\tget centerYPosition(): number {\r\n\t\treturn this.yPositionValue + (this.height / 2);\r\n\t}\r\n\tget rotationInDegrees(): number {\r\n\t\treturn this.rotation * LocationComponent.degrees;\r\n\t}\r\n\r\n\tget type(): LocationType {\r\n\t\treturn this._type;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tx: number | Function,\r\n\t\ty: number | Function,\r\n\t\twidth: number,\r\n\t\theight: number,\r\n\t\txSpeed: number,\r\n\t\tySpeed: number,\r\n\t\trotation: number,\r\n\t\ttype: LocationType = LocationType.world\r\n\t) {\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._xSize = width;\r\n\t\tthis._ySize = height;\r\n\t\tthis._xSpeed = xSpeed;\r\n\t\tthis._ySpeed = ySpeed;\r\n\t\tthis._rotation = rotation;\r\n\t\tthis._type = type;\r\n\t}\r\n\r\n\tpublic Duplicate(): LocationComponent {\r\n\t\treturn new LocationComponent(\r\n\t\t\tthis._x,\r\n\t\t\tthis._y,\r\n\t\t\tthis._xSize,\r\n\t\t\tthis._ySize,\r\n\t\t\tthis._xSpeed,\r\n\t\t\tthis._ySpeed,\r\n\t\t\tthis._rotation,\r\n\t\t\tthis._type\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/locationComponent.ts\n **/","import {LocationComponent} from \"entitySystem/locationComponent\";\r\n\r\nexport class RenderComponent {\r\n\tprivate static skewScale: number = 0.07;\r\n\r\n\tprivate _position: LocationComponent;\r\n\tprivate _layers: RenderLayer | RenderLayer[] | Function;\r\n\tprivate _opacity: number | Function;\r\n\tprivate _zIndex: number;\r\n\tprivate _skew: number;\r\n\r\n\tget position(): LocationComponent {\r\n\t\treturn this._position;\r\n\t}\r\n\tset position(newValue: LocationComponent) {\r\n\t\tthis._position = newValue;\r\n\t}\r\n\tget skewedPosition(): LocationComponent\r\n\t{\r\n\t\tlet skewAdjustment: number = this.skew === 0 ? 0 : Math.sin(this.skew);\r\n\t\tskewAdjustment = skewAdjustment * this.skew;\r\n\r\n\t\tlet widthAdjustment: number = (skewAdjustment * this._position.width * RenderComponent.skewScale);\r\n\t\tlet heightAdjustment: number = (skewAdjustment * this._position.height * RenderComponent.skewScale);\r\n\r\n\t\treturn new LocationComponent(\r\n\t\t\tthis._position.xPositionValue + (widthAdjustment / 2),\r\n\t\t\tthis._position.yPositionValue - (heightAdjustment / 2),\r\n\t\t\tthis._position.width - widthAdjustment,\r\n\t\t\tthis._position.height + heightAdjustment,\r\n\t\t\tthis._position.xSpeed,\r\n\t\t\tthis._position.ySpeed,\r\n\t\t\tthis._position.rotation);\r\n\t}\r\n\r\n\tget opacity(): number | Function {\r\n\t\treturn this._opacity;\r\n\t}\r\n\tset opacity(newValue: number | Function) {\r\n\t\tthis._opacity = newValue;\r\n\t}\r\n\r\n\tget opacityValue(): number {\r\n\t\tif (typeof this._opacity === \"function\") {\r\n\t\t\treturn (this._opacity as Function)() as number;\r\n\t\t} else {\r\n\t\t\treturn this._opacity as number;\r\n\t\t}\r\n\t}\r\n\r\n\tget zIndex(): number {\r\n\t\treturn this._zIndex;\r\n\t}\r\n\tset zIndex(newValue: number) {\r\n\t\tthis._zIndex = newValue;\r\n\t}\r\n\r\n\tget skew(): number {\r\n\t\treturn this._skew;\r\n\t}\r\n\tset skew(newValue: number) {\r\n\t\tthis._skew = newValue;\r\n\t}\r\n\r\n\tget layers(): RenderLayer[] {\r\n\t\tif (typeof this._layers === \"function\") {\r\n\t\t\treturn (this._layers as Function)() as RenderLayer[];\r\n\t\t} else {\r\n\t\t\treturn [].concat(this._layers) as RenderLayer[];\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(position: LocationComponent, layers: RenderLayer | RenderLayer[] | Function, opacity: number | Function, zIndex: number) {\r\n\t\tthis._position = position;\r\n\t\tthis._layers = layers;\r\n\t\tthis._opacity = opacity;\r\n\t\tthis._zIndex = zIndex;\r\n\t\tthis._skew = 0;\r\n\t}\r\n}\r\n\r\nexport abstract class RenderLayer {\r\n\tprivate _offsetX: number;\r\n\tprivate _offsetY: number;\r\n\r\n\tpublic get offsetX(): number {\r\n\t\treturn this._offsetX;\r\n\t}\r\n\tpublic set offsetX(newValue: number) {\r\n\t\tthis._offsetX = newValue;\r\n\t}\r\n\tpublic get offsetY(): number {\r\n\t\treturn this._offsetY;\r\n\t}\r\n\tpublic set offsetY(newValue: number) {\r\n\t\tthis._offsetY = newValue;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tthis._offsetX = 0;\r\n\t\tthis._offsetY = 0;\r\n\t}\r\n}\r\n\r\nexport class RectangleLayer extends RenderLayer {\r\n\tprivate _fillColor: string | Function;\r\n\r\n\tget fillColor(): string | Function {\r\n\t\treturn this._fillColor;\r\n\t}\r\n\tset fillColor(newValue: string | Function) {\r\n\t\tthis._fillColor = newValue;\r\n\t}\r\n\r\n\tget fillColorValue(): string {\r\n\t\tif (typeof this._fillColor === \"function\") {\r\n\t\t\treturn (this._fillColor as Function)() as string;\r\n\t\t} else {\r\n\t\t\treturn this._fillColor as string;\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(fillColor: string | Function) {\r\n\t\tsuper();\r\n\r\n\t\tthis._fillColor = fillColor;\r\n\t}\r\n}\r\n\r\nexport class SpriteLayer extends RenderLayer {\r\n\tprivate _image: HTMLImageElement;\r\n\r\n\tget image(): HTMLImageElement {\r\n\t\treturn this._image;\r\n\t}\r\n\r\n\tconstructor(image: HTMLImageElement) {\r\n\t\tsuper();\r\n\r\n\t\tthis._image = image;\r\n\t}\r\n\r\n\tpublic static FromPath(imagePath: string): SpriteLayer {\r\n\t\tlet image: HTMLImageElement = new Image();\r\n\t\timage.src = imagePath;\r\n\r\n\t\treturn new SpriteLayer(image);\r\n\t}\r\n}\r\n\r\nexport class TextLayer extends RenderLayer {\r\n\tprivate _text: string | Function;\r\n\tprivate _fillColor: string | Function;\r\n\tprivate _font: string;\r\n\tprivate _sizeInPixels: number;\r\n\tprivate _isCentered: boolean;\r\n\r\n\tget text(): string | Function {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tget textValue(): string {\r\n\t\tif (typeof this._text === \"function\") {\r\n\t\t\treturn (this._text as Function)() as string;\r\n\t\t} else {\r\n\t\t\treturn this._text as string;\r\n\t\t}\r\n\t}\r\n\r\n\tget fillColor(): string | Function {\r\n\t\treturn this._fillColor;\r\n\t}\r\n\tset fillColor(newValue: string | Function) {\r\n\t\tthis._fillColor = newValue;\r\n\t}\r\n\r\n\tget fillColorValue(): string {\r\n\t\tif (typeof this._fillColor === \"function\") {\r\n\t\t\treturn (this._fillColor as Function)() as string;\r\n\t\t} else {\r\n\t\t\treturn this._fillColor as string;\r\n\t\t}\r\n\t}\r\n\r\n\tget font(): string {\r\n\t\treturn this._font;\r\n\t}\r\n\r\n\tget sizeInPixels(): number {\r\n\t\treturn this._sizeInPixels;\r\n\t}\r\n\r\n\tget isCentered(): boolean {\r\n\t\treturn this._isCentered;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\ttext: string | Function,\r\n\t\tfillColor: string | Function,\r\n\t\tfont: string,\r\n\t\tsizeInPixels: number,\r\n\t\tisCentered: boolean = false\r\n\t) {\r\n\t\tsuper();\r\n\r\n\t\tthis._text = text;\r\n\t\tthis._fillColor = fillColor;\r\n\t\tthis._font = font;\r\n\t\tthis._sizeInPixels = sizeInPixels;\r\n\t\tthis._isCentered = isCentered;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/renderComponent.ts\n **/","import {Player} from \"player\";\r\nimport {Controller} from \"controller\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Viewport} from \"viewport\";\r\nimport {Sound} from \"sound\";\r\nimport {Menu} from \"menu\";\r\nimport {Volume} from \"volume\";\r\nimport {Platform} from \"platform\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {LocationComponent, LocationType} from \"entitySystem/locationComponent\";\r\nimport {RenderComponent, RenderLayer, SpriteLayer, TextLayer} from \"entitySystem/renderComponent\";\r\nimport {ScoreSystem} from \"entitySystem/scoreSystem\";\r\nimport {GameStateSystem} from \"entitySystem/gameStateSystem\";\r\nimport {Entity} from \"entitySystem/entity\";\r\n\r\nexport class Renderer {\r\n\t// Constants\r\n\tprivate static defaultGravity: number = 0.2;\r\n\tprivate static gameWidth: number = 480;\r\n\tprivate static timescale: number = 16;\r\n\r\n\t// Rendering references\r\n\tprivate canvas: HTMLCanvasElement;\r\n\tprivate context: CanvasRenderingContext2D;\r\n\r\n\t// State\r\n\tprivate isRunning: boolean = false;\r\n\tprivate player: Player;\r\n\tprivate platform: Platform;\r\n\tprivate menu: Menu;\r\n\tprivate viewport: Viewport;\r\n\tprivate lastTimestamp: number;\r\n\tprivate lastFps: number;\r\n\tprivate backgroundMusic: Sound;\r\n\tprivate deathSound: Sound;\r\n\tprivate volume: Volume;\r\n\tprivate controller: Controller;\r\n\r\n\tprivate orchestrator: Orchestrator;\r\n\tprivate gameStateSystem: GameStateSystem;\r\n\r\n\tconstructor(canvas: HTMLCanvasElement, controller: Controller, orchestrator: Orchestrator) {\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.context = canvas.getContext(\"2d\");\r\n\t\tthis.controller = controller;\r\n\t\tthis.orchestrator = orchestrator;\r\n\t\tthis.gameStateSystem = orchestrator.GetSystem(\"gameState\") as GameStateSystem;\r\n\r\n\t\tthis.volume = new Volume(\r\n\t\t\t{\r\n\t\t\t\tx: this.canvas.width,\r\n\t\t\t\ty: this.canvas.height\r\n\t\t\t},\r\n\t\t\tcontroller);\r\n\r\n\t\tthis.backgroundMusic = this.volume.createSound(\"snd/music.wav\", { isLooping: true });\r\n\t\tthis.backgroundMusic.play();\r\n\r\n\t\tthis.deathSound = this.volume.createSound(\"snd/death.wav\", {});\r\n\r\n\t\tlet scoreSystem: ScoreSystem = orchestrator.GetSystem(\"score\") as ScoreSystem;\r\n\r\n\t\tlet backgroundLayerFactory: (scrollRate: number, zIndex: number, spriteUrl: string) => void =\r\n\t\t\t(scrollRate: number, zIndex: number, spriteUrl: string) => {\r\n\r\n\t\t\tlet layerHeight: number = canvas.height * 2;\r\n\r\n\t\t\tlet backgroundLayerPosition: LocationComponent = new LocationComponent(\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcanvas.width,\r\n\t\t\t\tlayerHeight,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tLocationType.ui\r\n\t\t\t);\r\n\r\n\t\t\tlet spriteLayers: RenderLayer[] = [\r\n\t\t\t\tSpriteLayer.FromPath(spriteUrl),\r\n\t\t\t\tSpriteLayer.FromPath(spriteUrl)\r\n\t\t\t];\r\n\r\n\t\t\tlet backgroundSpritePainter: RenderComponent = new RenderComponent(\r\n\t\t\t\tbackgroundLayerPosition,\r\n\t\t\t\t() => {\r\n\t\t\t\t\tlet layerOffset: number = (this.viewport.offset % layerHeight) * scrollRate;\r\n\r\n\t\t\t\t\tspriteLayers[0].offsetY = layerOffset;\r\n\t\t\t\t\tspriteLayers[1].offsetY = layerOffset - (layerHeight);\r\n\r\n\t\t\t\t\treturn spriteLayers;\r\n\t\t\t\t},\r\n\t\t\t\t1,\r\n\t\t\t\tzIndex\r\n\t\t\t);\r\n\r\n\t\t\tlet entity: Entity = {\r\n\t\t\t\tlocationComponent: backgroundLayerPosition,\r\n\t\t\t\trenderComponent: backgroundSpritePainter\r\n\t\t\t};\r\n\t\t\torchestrator.Add(entity);\r\n\t\t};\r\n\r\n\t\tbackgroundLayerFactory(0, 0, \"img/staticBackground.png\");\r\n\t\tbackgroundLayerFactory(0.5, 0.1, \"img/stars1.png\");\r\n\t\tbackgroundLayerFactory(1, 0.2, \"img/stars2.png\");\r\n\r\n\t\tthis.gameStateSystem.OnGameState = (removables: Entity[]) => {\r\n\t\t\tlet playerPosition: MovingPoint = {\r\n\t\t\t\tdX: 2,\r\n\t\t\t\tdY: -2,\r\n\t\t\t\tx: 30,\r\n\t\t\t\ty: 110\r\n\t\t\t};\r\n\t\t\tlet playerDimensions: Point = {\r\n\t\t\t\tx: 30,\r\n\t\t\t\ty: 30\r\n\t\t\t};\r\n\t\t\tthis.player = new Player(\r\n\t\t\t\tplayerPosition,\r\n\t\t\t\tplayerDimensions,\r\n\t\t\t\t\"#FF0000\",\r\n\t\t\t\tcontroller,\r\n\t\t\t\tRenderer.defaultGravity,\r\n\t\t\t\tRenderer.gameWidth,\r\n\t\t\t\tthis.volume);\r\n\t\t\tremovables.push(this.player);\r\n\t\t\torchestrator.Add(this.player);\r\n\r\n\t\t\tlet scoreDisplayFactory: (text: () => string, size: number,\r\n\t\t\t\tverticalOffset: number) => void = (text: () => string,\r\n\t\t\t\tsize: number, verticalOffset: number) => {\r\n\r\n\t\t\t\tlet scoreDisplayPosition: LocationComponent = new LocationComponent(\r\n\t\t\t\t\t20,\r\n\t\t\t\t\tcanvas.height - verticalOffset - 20,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tLocationType.ui);\r\n\r\n\t\t\t\tlet entity: Entity = {\r\n\t\t\t\t\tlocationComponent: scoreDisplayPosition,\r\n\t\t\t\t\trenderComponent: new RenderComponent(\r\n\t\t\t\t\t\tscoreDisplayPosition,\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\tnew TextLayer(text, \"ffffff\", \"Oswald\", size),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t0.8,\r\n\t\t\t\t\t\t0.5)\r\n\t\t\t\t};\r\n\t\t\t\tremovables.push(entity);\r\n\t\t\t\torchestrator.Add(entity);\r\n\t\t\t};\r\n\r\n\t\t\tscoreDisplayFactory(\r\n\t\t\t\t() => {\r\n\t\t\t\t\treturn scoreSystem.multiplier.toString();\r\n\t\t\t\t},\r\n\t\t\t\t200,\r\n\t\t\t\t200);\r\n\t\t\tscoreDisplayFactory(\r\n\t\t\t\t() => {\r\n\t\t\t\t\treturn \"x \" + scoreSystem.points.toString();\r\n\t\t\t\t},\r\n\t\t\t\t100,\r\n\t\t\t\t100);\r\n\t\t\tscoreDisplayFactory(\r\n\t\t\t\t() => {\r\n\t\t\t\t\treturn \"~ \" + scoreSystem.totalScore.toString();\r\n\t\t\t\t},\r\n\t\t\t\t100,\r\n\t\t\t\t0);\r\n\r\n\t\t\tlet upArrowPosition: LocationComponent = new LocationComponent(\r\n\t\t\t\t300,\r\n\t\t\t\t40,\r\n\t\t\t\t120,\r\n\t\t\t\t99,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tLocationType.world);\r\n\r\n\t\t\tlet upArrowRender: RenderComponent = new RenderComponent(\r\n\t\t\t\tupArrowPosition,\r\n\t\t\t\tSpriteLayer.FromPath(\"img/upArrow.png\"),\r\n\t\t\t\t0.5,\r\n\t\t\t\t0.3);\r\n\r\n\t\t\tlet upArrowEntity: Entity = {\r\n\t\t\t\tlocationComponent: upArrowPosition,\r\n\t\t\t\trenderComponent: upArrowRender\r\n\t\t\t};\r\n\t\t\tremovables.push(upArrowEntity);\r\n\t\t\torchestrator.Add(upArrowEntity);\r\n\r\n\t\t\tlet platformPosition: MovingPoint = {\r\n\t\t\t\tdX: 2,\r\n\t\t\t\tdY: 2,\r\n\t\t\t\tx: 30,\r\n\t\t\t\ty: 690\r\n\t\t\t};\r\n\t\t\tlet platformDimensions: Point = {\r\n\t\t\t\tx: 90,\r\n\t\t\t\ty: 20\r\n\t\t\t};\r\n\t\t\tthis.platform = new Platform(\r\n\t\t\t\tplatformPosition,\r\n\t\t\t\tplatformDimensions,\r\n\t\t\t\t\"#FFFFFF\",\r\n\t\t\t\t-Renderer.defaultGravity,\r\n\t\t\t\tthis.volume,\r\n\t\t\t\tRenderer.gameWidth);\r\n\t\t\tremovables.push(this.platform);\r\n\t\t\torchestrator.Add(this.platform);\r\n\t\t\tthis.platform.viewport = this.viewport;\r\n\r\n\t\t\tlet originalOnMove: (amountMoved: Point) => void = this.player.onMove;\r\n\t\t\tthis.player.onMove = (amountMoved: Point) => {\r\n\t\t\t\tthis.viewport.SlideUpTo(-this.player.locationComponent.yPosition + 50);\r\n\r\n\t\t\t\tif (this.player.locationComponent.yPosition > -(this.viewport.offset - this.canvas.height)) {\r\n\t\t\t\t\tthis.isRunning = false;\r\n\t\t\t\t\tthis.deathSound.play();\r\n\t\t\t\t\tthis.gameStateSystem.EndGame();\r\n\t\t\t\t\tthis.menu.showMenu(scoreSystem.totalScore, this.player.fillColor);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (originalOnMove) {\r\n\t\t\t\t\toriginalOnMove(amountMoved);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tthis.gameStateSystem.OnMenuState = (removables: Entity[]) => {\r\n\r\n\t\t\tlet menuOpacity: number = 1;\r\n\r\n\t\t\tlet titlePosition: LocationComponent = new LocationComponent(\r\n\t\t\t\t(Renderer.gameWidth / 2),\r\n\t\t\t\t140,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tLocationType.ui\r\n\t\t\t);\r\n\r\n\t\t\tlet titleRender: RenderComponent = new RenderComponent(\r\n\t\t\t\ttitlePosition,\r\n\t\t\t\tnew TextLayer(\r\n\t\t\t\t\t\"Quadrilactic\",\r\n\t\t\t\t\t\"#FFFFFF\",\r\n\t\t\t\t\t\"Oswald\",\r\n\t\t\t\t\t90,\r\n\t\t\t\t\ttrue),\r\n\t\t\t\t() => menuOpacity,\r\n\t\t\t\t1);\r\n\r\n\t\t\tlet titleText: Entity = {\r\n\t\t\t\tlocationComponent: titlePosition,\r\n\t\t\t\trenderComponent: titleRender\r\n\t\t\t};\r\n\r\n\t\t\tremovables.push(titleText);\r\n\t\t\torchestrator.Add(titleText);\r\n\t\t};\r\n\r\n\t\tthis.menu = new Menu(\r\n\t\t\t{\r\n\t\t\t\tx: this.canvas.width,\r\n\t\t\t\ty: this.canvas.height\r\n\t\t\t},\r\n\t\t\tcontroller,\r\n\t\t\t() => {\r\n\t\t\t\tthis.viewport.Reset();\r\n\t\t\t\tthis.isRunning = true;\r\n\r\n\t\t\t\tthis.gameStateSystem.StartGame();\r\n\t\t\t\tscoreSystem.ResetScore();\r\n\t\t\t},\r\n\t\t\tthis.volume\r\n\t\t);\r\n\r\n\t\tthis.viewport = new Viewport(\r\n\t\t\tthis.context,\r\n\t\t\tthis.orchestrator\r\n\t\t);\r\n\t}\r\n\r\n\tpublic Start(): void {\r\n\t\trequestAnimationFrame((time: number) => { this.Tick(time); });\r\n\t}\r\n\r\n\tprivate Tick(timestamp: number): void {\r\n\t\tlet deltaTime: number = this.lastTimestamp ? (timestamp - this.lastTimestamp) : 0;\r\n\t\tlet scaledTime: number = deltaTime / Renderer.timescale;\r\n\t\tthis.lastTimestamp = timestamp;\r\n\t\tthis.lastFps = Math.round(1000 / deltaTime);\r\n\r\n\t\tthis.Draw();\r\n\r\n\t\tthis.orchestrator.Tick(1);\r\n\r\n\t\tif (this.isRunning === true) {\r\n\t\t\tthis.player.Tick(scaledTime);\r\n\t\t\tthis.platform.Tick(scaledTime);\r\n\t\t}\r\n\r\n\t\tthis.controller.clearClick();\r\n\r\n\t\trequestAnimationFrame((time: number) => { this.Tick(time); });\r\n\t}\r\n\r\n\tprivate Draw(): void {\r\n\t\tif (this.isRunning) {\r\n\t\t\tthis.viewport.Render(this.lastFps);\r\n\t\t} else {\r\n\t\t\tthis.menu.Render(this.context, this.orchestrator);\r\n\t\t}\r\n\r\n\t\tthis.volume.Render(this.context, this.orchestrator);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/renderer.ts\n **/","import {Controller} from \"controller\";\r\nimport {PhysicsBlock} from \"physicsBlock\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {Entity} from \"entitySystem/entity\";\r\nimport {RenderComponent, RenderLayer, RectangleLayer, SpriteLayer} from \"entitySystem/renderComponent\";\r\nimport {ScoreComponent} from \"entitySystem/scoreComponent\";\r\n\r\nexport class Player extends PhysicsBlock {\r\n\tprivate static jumpSpeedIncrease: number = -8;\r\n\tprivate static jumpRotationSlowDown: number = 0.1;\r\n\tprivate static initialJumpRotationSpeed: number = 15;\r\n\tprivate static horizontalSpeedIncrease: number = 0.5;\r\n\tprivate static faceSwapThreshold: number = 3.5;\r\n\r\n\tprivate isJumping: boolean;\r\n\tprivate jumpRotationSpeed: number;\r\n\r\n\tprivate jump: Sound;\r\n\tprivate bounce: Sound;\r\n\r\n\tprivate bounceCount: number;\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tcontroller: Controller,\r\n\t\tgravity: number,\r\n\t\tworldWidth: number,\r\n\t\tvolume: Volume\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, gravity, volume, 7, worldWidth);\r\n\r\n\t\tthis.bounceCount = 0;\r\n\r\n\t\tthis.collisionComponent.onCollide.push(() => {\r\n\t\t\t// If we were jumping, thats over now\r\n\t\t\tthis.isJumping = false;\r\n\t\t\tthis.locationComponent.rotation = 0;\r\n\t\t\tthis.jumpRotationSpeed = 0;\r\n\t\t\tthis.bounce.play();\r\n\t\t\tthis.bounceCount++;\r\n\t\t});\r\n\r\n\t\tlet backgroundLayer: RectangleLayer = new RectangleLayer(() => {\r\n\t\t\tlet xHexidecimal: string = Math.max(Math.round(15 - Math.abs(this.locationComponent.xSpeed)), 0).toString(16);\r\n\t\t\tlet yHexidecimal: string = Math.max(Math.round(15 - Math.abs(this.locationComponent.ySpeed)), 0).toString(16);\r\n\r\n\t\t\treturn \"#\" + yHexidecimal + yHexidecimal + \"ff\" + xHexidecimal + xHexidecimal;\r\n\t\t});\r\n\t\tlet upSprite: SpriteLayer = SpriteLayer.FromPath(\"img/faceHappy.png\");\r\n\t\tlet downSprite: SpriteLayer = SpriteLayer.FromPath(\"img/faceWorried.png\");\r\n\t\tlet hoverSprite: SpriteLayer = SpriteLayer.FromPath(\"img/faceChill.png\");\r\n\r\n\t\tlet layerComposer: () => RenderLayer[] = () => {\r\n\t\t\tlet layers: RenderLayer[] = [backgroundLayer];\r\n\r\n\t\t\tif (this.locationComponent.ySpeed > Player.faceSwapThreshold) {\r\n\t\t\t\tlayers.push(downSprite);\r\n\t\t\t} else if (this.locationComponent.ySpeed < -Player.faceSwapThreshold) {\r\n\t\t\t\tlayers.push(upSprite);\r\n\t\t\t} else {\r\n\t\t\t\tlayers.push(hoverSprite);\r\n\t\t\t}\r\n\r\n\t\t\treturn layers;\r\n\t\t};\r\n\r\n\t\tthis.renderComponent = new RenderComponent(this.locationComponent, layerComposer, 1, 1);\r\n\r\n\t\tlet jump: Function = (entity: Entity, orchestrator: Orchestrator, deltaTime: number) => {\r\n\t\t\tif (this.isJumping) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.jump.play();\r\n\t\t\tthis.locationComponent.ySpeed = Player.jumpSpeedIncrease * deltaTime;\r\n\t\t\tthis.isJumping = true;\r\n\t\t\tthis.jumpRotationSpeed = this.direction === \"right\" ? Player.initialJumpRotationSpeed : -Player.initialJumpRotationSpeed;\r\n\t\t};\r\n\t\tlet moveLeft: Function = (entity: Entity, orchestrator: Orchestrator, deltaTime: number) => {\r\n\t\t\tthis.locationComponent.xSpeed -= (Player.horizontalSpeedIncrease * deltaTime);\r\n\t\t};\r\n\t\tlet moveRight: Function = (entity: Entity, orchestrator: Orchestrator, deltaTime: number) => {\r\n\t\t\tthis.locationComponent.xSpeed += (Player.horizontalSpeedIncrease * deltaTime);\r\n\t\t};\r\n\r\n\t\tthis.inputComponent.getKeyHandler(\"up\").push(jump);\r\n\t\tthis.inputComponent.getKeyHandler(\"space\").push(jump);\r\n\t\tthis.inputComponent.getKeyHandler(\"w\").push(jump);\r\n\r\n\t\tthis.inputComponent.getKeyHandler(\"left\").push(moveLeft);\r\n\t\tthis.inputComponent.getKeyHandler(\"a\").push(moveLeft);\r\n\r\n\t\tthis.inputComponent.getKeyHandler(\"right\").push(moveRight);\r\n\t\tthis.inputComponent.getKeyHandler(\"d\").push(moveRight);\r\n\r\n\t\tthis.scoreComponent = new ScoreComponent(\r\n\t\t\t() => {\r\n\t\t\t\treturn -this.locationComponent.top / 1000;\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\treturn this.bounceCount;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.isJumping = false;\r\n\r\n\t\tthis.jump = volume.createSound(\"snd/jump.wav\", {});\r\n\t\tthis.bounce = volume.createSound(\"snd/blip3.wav\", {});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tsuper.Tick(deltaTime);\r\n\r\n\t\t// Apply jump rotation\r\n\t\tthis.locationComponent.rotation += (this.jumpRotationSpeed * deltaTime);\r\n\t\tif (this.jumpRotationSpeed > 0) {\r\n\t\t\tthis.jumpRotationSpeed = Math.max(0, this.jumpRotationSpeed - Player.jumpRotationSlowDown);\r\n\t\t} else if (this.jumpRotationSpeed < 0) {\r\n\t\t\tthis.jumpRotationSpeed = Math.min(0, this.jumpRotationSpeed + Player.jumpRotationSlowDown);\r\n\t\t}\r\n\r\n\t\tthis.locationComponent.rotation += this.locationComponent.xSpeed / 2;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tsuper.Reset();\r\n\r\n\t\tthis.isJumping = false;\r\n\t\tthis.locationComponent.rotation = 0;\r\n\t\tthis.jumpRotationSpeed = 0;\r\n\t\tthis.bounceCount = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/player.ts\n **/","import {Block} from \"block\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\n\r\nexport class PhysicsBlock extends Block {\r\n\r\n\tprivate internalGravity: number;\r\n\tprivate worldWidth: number;\r\n\r\n\tprivate rebound: Sound;\r\n\r\n\tpublic get gravity(): number {\r\n\t\treturn this.internalGravity;\r\n\t}\r\n\tpublic set gravity(newValue: number) {\r\n\t\tthis.internalGravity = newValue;\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tgravity: number,\r\n\t\tvolume: Volume,\r\n\t\txSpeedLimit: number,\r\n\t\tworldWidth?: number\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, xSpeedLimit);\r\n\r\n\t\tthis.internalGravity = gravity;\r\n\t\tthis.worldWidth = worldWidth;\r\n\r\n\t\tthis.rebound = volume.createSound(\"snd/blip.wav\", {});\r\n\r\n\t\tthis.collisionComponent.onCollide.push(() => {\r\n\t\t\tthis.skew += 10;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tsuper.Tick(deltaTime);\r\n\r\n\t\t// If off the right, bounce left\r\n\t\tif (this.locationComponent.right > this.worldWidth) {\r\n\t\t\tthis.rebound.play();\r\n\r\n\t\t\t// Clamp on screen, invert horizontal speed\r\n\t\t\tthis.skew += 3;\r\n\t\t\tthis.locationComponent.xPosition = this.worldWidth - this.locationComponent.width;\r\n\t\t\tthis.locationComponent.xSpeed = -Math.abs(this.locationComponent.xSpeed);\r\n\t\t}\r\n\r\n\t\t// If off the left, bounce right\r\n\t\tif (this.locationComponent.left < 0) {\r\n\t\t\tthis.rebound.play();\r\n\r\n\t\t\t// Clamp on screen, invert horizontal speed\r\n\t\t\tthis.locationComponent.xPosition = 0;\r\n\t\t\tthis.skew += 3;\r\n\t\t\tthis.locationComponent.xSpeed = Math.abs(this.locationComponent.xSpeed);\r\n\t\t}\r\n\r\n\t\t// Apply acceleration due to gravity\r\n\t\tthis.locationComponent.ySpeed += (this.internalGravity * deltaTime);\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tsuper.Reset();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/physicsBlock.ts\n **/","import {MovingPoint, Point, Rectangle} from \"point\";\r\nimport {Entity} from \"entitySystem/entity\";\r\nimport {LocationComponent} from \"entitySystem/locationComponent\";\r\nimport {RenderComponent, RenderLayer, RectangleLayer} from \"entitySystem/renderComponent\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {CollisionComponent} from \"entitySystem/collisionComponent\";\r\nimport {InputComponent} from \"entitySystem/inputComponent\";\r\nimport {ScoreComponent} from \"entitySystem/scoreComponent\";\r\nimport {EmitterComponent} from \"entitySystem/emitterComponent\";\r\n\r\nexport class Block implements Entity {\r\n\t// Constants\r\n\tprivate static verticalSpeedLimit: number = 10;\r\n\tprivate static verticalSpeedLimitDelta: number = 0.01;\r\n\tprivate static skewScale: number = 0.07;\r\n\tprivate static skewReduction: number= 0.3;\r\n\r\n\tprotected skew: number;\r\n\r\n\tpublic locationComponent: LocationComponent;\r\n\tpublic collisionComponent: CollisionComponent;\r\n\tpublic inputComponent: InputComponent;\r\n\tpublic renderComponent: RenderComponent;\r\n\tpublic scoreComponent: ScoreComponent;\r\n\tpublic emitterComponent: EmitterComponent;\r\n\r\n\t// Private members\r\n\tprivate internalColor: string;\r\n\tprivate onMoveCallback: (amountMoved: Point) => void;\r\n\tprivate initialWorldPosition: MovingPoint;\r\n\tprivate verticalSpeedLimit: number;\r\n\tprivate horizontalSpeedLimit: number;\r\n\r\n\tget fillColor(): string {\r\n\t\treturn this.internalColor;\r\n\t}\r\n\tset fillColor(newValue: string) {\r\n\t\tthis.internalColor = newValue;\r\n\t}\r\n\r\n\tget onMove(): (amountMoved: Point) => void {\r\n\t\treturn this.onMoveCallback;\r\n\t}\r\n\tset onMove(newValue: (amountMoved: Point) => void) {\r\n\t\tthis.onMoveCallback = newValue;\r\n\t}\r\n\r\n\tget skewedPosition(): Rectangle\r\n\t{\r\n\t\tlet skewAdjustment: number = this.skew === 0 ? 0 : Math.sin(this.skew);\r\n\t\tskewAdjustment = skewAdjustment * this.skew;\r\n\r\n\t\tlet widthAdjustment: number = (skewAdjustment * this.locationComponent.width * Block.skewScale);\r\n\t\tlet heightAdjustment: number = (skewAdjustment * this.locationComponent.height * Block.skewScale);\r\n\r\n\t\treturn {\r\n\t\t\theight: this.locationComponent.height + heightAdjustment,\r\n\t\t\twidth: this.locationComponent.width - widthAdjustment,\r\n\t\t\tx: this.locationComponent.xPositionValue + (widthAdjustment / 2),\r\n\t\t\ty: this.locationComponent.yPositionValue - (heightAdjustment / 2)\r\n\t\t};\r\n\t}\r\n\r\n\t// Direction properties\r\n\tget direction(): string {\r\n\t\treturn this.locationComponent.xSpeed >= 0 ? \"right\" : \"left\";\r\n\t}\r\n\r\n\tpublic constructor(worldPosition: MovingPoint, dimensions: Point, color: string, xSpeedLimit: number) {\r\n\r\n\t\tthis.locationComponent = new LocationComponent(\r\n\t\t\tworldPosition.x,\r\n\t\t\tworldPosition.y,\r\n\t\t\tdimensions.x,\r\n\t\t\tdimensions.y,\r\n\t\t\tworldPosition.dX,\r\n\t\t\tworldPosition.dY,\r\n\t\t\t0);\r\n\r\n\t\tthis.collisionComponent = new CollisionComponent(this.locationComponent);\r\n\r\n\t\tthis.inputComponent = new InputComponent();\r\n\r\n\t\tthis.emitterComponent = new EmitterComponent((orchestrator: Orchestrator) => {\r\n\r\n\t\t\tlet particlePosition: LocationComponent = this.locationComponent.Duplicate();\r\n\t\t\tparticlePosition.xSpeed = 0;\r\n\t\t\tparticlePosition.ySpeed = 0;\r\n\r\n\t\t\tlet anyColor: string = \"red\";\r\n\t\t\tthis.renderComponent.layers.forEach((layer: RenderLayer) => {\r\n\t\t\t\tlet possibleRectangleLayer: RectangleLayer = layer as RectangleLayer;\r\n\r\n\t\t\t\tif (possibleRectangleLayer.fillColorValue) {\r\n\t\t\t\t\tanyColor = possibleRectangleLayer.fillColorValue;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet particleOpacity: number = 0.2;\r\n\t\t\tlet particle: Entity = {\r\n\t\t\t\tlocationComponent: particlePosition,\r\n\t\t\t\trenderComponent: new RenderComponent(\r\n\t\t\t\t\tparticlePosition,\r\n\t\t\t\t\tnew RectangleLayer(anyColor),\r\n\t\t\t\t\t(): number => {\r\n\t\t\t\t\t\t// Fade out.\r\n\t\t\t\t\t\tparticleOpacity -= 0.01;\r\n\r\n\t\t\t\t\t\t// Delete if too faded.\r\n\t\t\t\t\t\tif (particleOpacity <= 0) {\r\n\t\t\t\t\t\t\torchestrator.Remove(particle);\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn particleOpacity;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis.renderComponent.zIndex - 0.1)\r\n\t\t\t};\r\n\r\n\t\t\torchestrator.Add(particle);\r\n\t\t});\r\n\r\n\t\tthis.internalColor = color;\r\n\t\tthis.horizontalSpeedLimit = xSpeedLimit;\r\n\r\n\t\tthis.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\r\n\t\tthis.initialWorldPosition = {\r\n\t\t\tdX: worldPosition.dX,\r\n\t\t\tdY: worldPosition.dY,\r\n\t\t\tx: worldPosition.x,\r\n\t\t\ty: worldPosition.y\r\n\t\t};\r\n\r\n\t\tthis.skew = 0;\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\t// Move \"forward\".\r\n\t\tthis.locationComponent.xPosition = this.locationComponent.xPositionValue + (this.locationComponent.xSpeed * deltaTime);\r\n\t\tthis.locationComponent.yPosition = this.locationComponent.yPositionValue + (this.locationComponent.ySpeed * deltaTime);\r\n\r\n\t\tif (this.onMoveCallback) {\r\n\t\t\t// The amount moved this tick is the same as the speed.\r\n\t\t\tthis.onMoveCallback({ x: this.locationComponent.xSpeed, y: this.locationComponent.ySpeed });\r\n\t\t}\r\n\r\n\t\tthis.skew = Math.max(0, this.skew - (Block.skewReduction * deltaTime));\r\n\r\n\t\tthis.verticalSpeedLimit += Block.verticalSpeedLimitDelta * deltaTime;\r\n\r\n\t\t// Clamp the speed to the speed limit.\r\n\t\tthis.locationComponent.ySpeed = Math.min(this.locationComponent.ySpeed, this.verticalSpeedLimit);\r\n\t\tthis.locationComponent.ySpeed = Math.max(this.locationComponent.ySpeed, -this.verticalSpeedLimit);\r\n\t\tthis.locationComponent.xSpeed = Math.min(this.locationComponent.xSpeed, this.horizontalSpeedLimit );\r\n\t\tthis.locationComponent.xSpeed = Math.max(this.locationComponent.xSpeed, -this.horizontalSpeedLimit );\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.locationComponent.xPosition = this.initialWorldPosition.x;\r\n\t\tthis.locationComponent.yPosition = this.initialWorldPosition.y;\r\n\t\tthis.locationComponent.xSpeed = this.initialWorldPosition.dX;\r\n\t\tthis.locationComponent.ySpeed = this.initialWorldPosition.dY;\r\n\r\n\t\tthis.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/block.ts\n **/","import {LocationComponent} from \"entitySystem/locationComponent\";\r\nimport {CallbackArray} from \"entitySystem/callbackArray\";\r\n\r\nexport class CollisionComponent {\r\n\t// Data members.\r\n\tprivate _position: LocationComponent;\r\n\tprivate _onCollide: CallbackArray = new CallbackArray();\r\n\r\n\tget position(): LocationComponent {\r\n\t\treturn this._position;\r\n\t}\r\n\tset position(newValue: LocationComponent) {\r\n\t\tthis._position = newValue;\r\n\t}\r\n\r\n\tget onCollide(): CallbackArray {\r\n\t\treturn this._onCollide;\r\n\t}\r\n\r\n\tconstructor(position: LocationComponent) {\r\n\t\tthis._position = position;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/collisionComponent.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\ninterface Callback {\r\n\t(entity: Entity, orchestrator: Orchestrator, deltaTime: number): void;\r\n}\r\n\r\nexport class CallbackArray extends Array {\r\n\tpublic trigger(entity: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tthis.forEach((individualCallback: Callback) => {\r\n\t\t\tindividualCallback(entity, orchestrator, deltaTime);\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/callbackArray.ts\n **/","import {CallbackArray} from \"entitySystem/callbackArray\";\r\n\r\ninterface KeyHandlers {\r\n\t[key: string]: CallbackArray;\r\n}\r\n\r\nexport class InputComponent {\r\n\tprivate _keyHandlers: KeyHandlers = {};\r\n\r\n\tpublic get definedKeyHandlers(): KeyHandlers{\r\n\t\treturn this._keyHandlers;\r\n\t}\r\n\r\n\tpublic getKeyHandler(key: string): CallbackArray {\r\n\t\tlet foundHandler: CallbackArray = this._keyHandlers[key];\r\n\r\n\t\t// If one wasn't found, create it.\r\n\t\tif (!foundHandler) {\r\n\t\t\tfoundHandler = new CallbackArray();\r\n\t\t\tthis._keyHandlers[key] = foundHandler;\r\n\t\t}\r\n\r\n\t\treturn foundHandler;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/inputComponent.ts\n **/","import {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\ninterface Emitter {\r\n\t(orchestrator: Orchestrator, deltaTime: number): void;\r\n}\r\n\r\nexport class EmitterComponent {\r\n\tprivate _emitter: Emitter;\r\n\r\n\tpublic get emitter(): Emitter {\r\n\t\treturn this._emitter;\r\n\t}\r\n\tpublic set emitter(newEmitter: Emitter) {\r\n\t\tthis._emitter = newEmitter;\r\n\t}\r\n\r\n\tpublic constructor(emitter: Emitter) {\r\n\t\tthis._emitter = emitter;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/emitterComponent.ts\n **/","export class ScoreComponent {\r\n\tprivate _points: number | Function;\r\n\tprivate _multiplier: number | Function;\r\n\r\n\tpublic get points(): number | Function {\r\n\t\treturn this._points;\r\n\t}\r\n\tpublic set points(newPoints: number | Function) {\r\n\t\tthis._points = newPoints;\r\n\t}\r\n\r\n\tpublic get pointsValue(): number {\r\n\t\tif (typeof this._points === \"function\") {\r\n\t\t\treturn (this._points as Function)() as number;\r\n\t\t} else {\r\n\t\t\treturn this._points as number;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic get multiplier(): number | Function {\r\n\t\treturn this._multiplier;\r\n\t}\r\n\tpublic set multiplier(newMultiplier: number | Function) {\r\n\t\tthis._multiplier = newMultiplier;\r\n\t}\r\n\r\n\tpublic get multiplierValue(): number {\r\n\t\tif (typeof this._multiplier === \"function\") {\r\n\t\t\treturn (this._multiplier as Function)() as number;\r\n\t\t} else {\r\n\t\t\treturn this._multiplier as number;\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(points: number | Function, multiplier: number | Function) {\r\n\t\tthis._points = points;\r\n\t\tthis._multiplier = multiplier;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/scoreComponent.ts\n **/","import {Point} from \"point\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {RenderSystem} from \"entitySystem/renderSystem\";\r\n\r\nexport class Viewport {\r\n\tprivate renderContext: CanvasRenderingContext2D;\r\n\tprivate renderOffset: number;\r\n\tprivate orchestrator: Orchestrator;\r\n\r\n\tpublic get renderDimensions(): Point {\r\n\t\treturn {\r\n\t\t\tx: this.renderContext.canvas.width,\r\n\t\t\ty: this.renderContext.canvas.height\r\n\t\t};\r\n\t}\r\n\r\n\tpublic get offset(): number {\r\n\t\treturn this.renderOffset;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\trenderContext: CanvasRenderingContext2D,\r\n\t\torchestrator: Orchestrator\r\n\t) {\r\n\t\tthis.renderContext = renderContext;\r\n\t\tthis.renderOffset = 0;\r\n\t\tthis.orchestrator = orchestrator;\r\n\t}\r\n\r\n\tpublic SlideUpTo(y: number): void {\r\n\t\tif (y > this.renderOffset) {\r\n\t\t\tthis.renderOffset = y;\r\n\t\t\t(this.orchestrator.GetSystem(\"render\") as RenderSystem).offsetY = y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Render(fps?: number): void {\r\n\t\tif (fps) {\r\n\t\t\tthis.renderContext.fillStyle = \"#FFFFFF\";\r\n\t\t\tthis.renderContext.fillText(\"FPS: \" + fps.toString(), 0, 10);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.renderOffset = 0;\r\n\t\t(this.orchestrator.GetSystem(\"render\") as RenderSystem).offsetY = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/viewport.ts\n **/","import {Controller} from \"controller\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Point} from \"point\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Menu {\r\n\tprivate static titleFontSizeInPx: number = 90;\r\n\tprivate static scoreFontSizeInPx: number = 50;\r\n\tprivate static playFontSizeInPx: number = 50;\r\n\tprivate static buttonWidth: number = 225;\r\n\tprivate static buttonHeight: number = 100;\r\n\tprivate static fadeInRate: number = 0.02;\r\n\r\n\tprivate renderDimensions: Point;\r\n\tprivate isMenuOpen: boolean;\r\n\tprivate playButtonPosition: Point;\r\n\tprivate isButtonHovered: boolean;\r\n\tprivate controller: Controller;\r\n\tprivate onStartGame: () => void;\r\n\tprivate opacity: number;\r\n\tprivate lastPoints: number;\r\n\tprivate scoreColor: string;\r\n\tprivate buttonHover: Sound;\r\n\tprivate buttonUnhover: Sound;\r\n\tprivate buttonClick: Sound;\r\n\tprivate controlPosition: Point;\r\n\tprivate controlDiagram: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\trenderDimensions: Point,\r\n\t\tcontroller: Controller,\r\n\t\tonStartGame: () => void,\r\n\t\tvolume: Volume\r\n\t) {\r\n\t\tthis.renderDimensions = renderDimensions;\r\n\t\tthis.isMenuOpen = true;\r\n\t\tthis.isButtonHovered = false;\r\n\t\tthis.controller = controller;\r\n\t\tthis.onStartGame = onStartGame;\r\n\r\n\t\tthis.opacity = 0;\r\n\r\n\t\tthis.playButtonPosition = {\r\n\t\t\tx: (renderDimensions.x - Menu.buttonWidth) / 2,\r\n\t\t\ty: (renderDimensions.y - (Menu.buttonHeight * 2)) + 0.5 // 0.5 for stroke alignment\r\n\t\t};\r\n\r\n\t\tthis.buttonHover = volume.createSound(\"snd/button_on.wav\", {});\r\n\t\tthis.buttonUnhover = volume.createSound(\"snd/button_off.wav\", {});\r\n\t\tthis.buttonClick = volume.createSound(\"snd/button_click.wav\", {});\r\n\r\n\t\tthis.controlPosition = { x: 45, y: 300};\r\n\t\tthis.controlDiagram = new Sprite(\"img/controls.png\", { x: 390, y: 237 });\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): void {\r\n\t\tlet mouseClick: Point = this.controller.getClickPosition();\r\n\t\tif ((mouseClick && this.isPointOnButton(mouseClick))\r\n\t\t\t|| this.controller.isKeyPressed(\"enter\")\r\n\t\t\t|| this.controller.isKeyPressed(\"e\")\r\n\t\t) {\r\n\t\t\tthis.buttonClick.play();\r\n\t\t\tthis.onStartGame();\r\n\t\t}\r\n\r\n\t\tlet buttonIsNowHovered: boolean = this.isPointOnButton(this.controller.getMousePosition());\r\n\r\n\t\tif (buttonIsNowHovered && !this.isButtonHovered) {\r\n\t\t\tthis.buttonHover.play();\r\n\t\t} else if (!buttonIsNowHovered && this.isButtonHovered) {\r\n\t\t\tthis.buttonUnhover.play();\r\n\t\t}\r\n\r\n\t\tthis.isButtonHovered = buttonIsNowHovered;\r\n\r\n\t\tlet horizontalCenter: number = (this.renderDimensions.x / 2);\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.font = \"\" + Menu.titleFontSizeInPx + \"px Oswald\";\r\n\t\trenderContext.fillStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t\trenderContext.textAlign = \"center\";\r\n\t\trenderContext.fillText(\"Quadrilactic\", horizontalCenter, Menu.titleFontSizeInPx + 50);\r\n\r\n\t\tif (this.lastPoints) {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.font = \"\" + Menu.scoreFontSizeInPx + \"px Oswald\";\r\n\t\t\trenderContext.fillStyle = this.scoreColor;\r\n\t\t\trenderContext.globalAlpha = this.opacity;\r\n\t\t\trenderContext.textAlign = \"center\";\r\n\t\t\trenderContext.fillText(\"Score: \" + this.lastPoints, horizontalCenter, Menu.titleFontSizeInPx + Menu.scoreFontSizeInPx + 70);\r\n\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\r\n\t\tif (this.isButtonHovered) {\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.playButtonPosition.x,\r\n\t\t\t\tthis.playButtonPosition.y,\r\n\t\t\t\tMenu.buttonWidth,\r\n\t\t\t\tMenu.buttonHeight);\r\n\t\t}\r\n\t\trenderContext.strokeStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t\trenderContext.lineWidth = 3;\r\n\t\trenderContext.strokeRect(\r\n\t\t\tthis.playButtonPosition.x,\r\n\t\t\tthis.playButtonPosition.y,\r\n\t\t\tMenu.buttonWidth,\r\n\t\t\tMenu.buttonHeight);\r\n\r\n\t\trenderContext.font = \"\" + Menu.playFontSizeInPx + \"px Oswald\";\r\n\t\trenderContext.fillStyle = (this.isButtonHovered ? \"rgba(0,0,0,\" : \"rgba(255,255,255,\") + this.opacity + \")\";\r\n\t\trenderContext.textAlign = \"center\";\r\n\t\trenderContext.fillText(\"Play\", horizontalCenter, (Menu.playFontSizeInPx * 1.45) + this.playButtonPosition.y);\r\n\r\n\t\t// Draw the controls\r\n\t\trenderContext.globalAlpha = this.opacity;\r\n\t\trenderContext.translate(this.controlPosition.x, this.controlPosition.y);\r\n\t\tthis.controlDiagram.Render(renderContext, orchestrator);\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\tthis.opacity = Math.min(1, this.opacity + Menu.fadeInRate);\r\n\t}\r\n\r\n\tpublic showMenu(totalPoints: number, scoreColor: string): void {\r\n\t\tthis.isMenuOpen = true;\r\n\t\tthis.opacity = 0;\r\n\t\tthis.lastPoints = totalPoints;\r\n\t\tthis.scoreColor = scoreColor;\r\n\t}\r\n\r\n\tprivate isPointOnButton(point: Point): boolean {\r\n\t\treturn point\r\n\t\t\t&& point.x > this.playButtonPosition.x\r\n\t\t\t&& point.x < this.playButtonPosition.x + Menu.buttonWidth\r\n\t\t\t&& point.y > this.playButtonPosition.y\r\n\t\t\t&& point.y < this.playButtonPosition.y + Menu.buttonHeight;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu.ts\n **/","import {Point} from \"point\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Sprite {\r\n\tpublic isAlive: boolean = true;\r\n\tprivate image: HTMLImageElement;\r\n\tprivate internalDimensions: Point;\r\n\r\n\tconstructor(imagePath: string, dimensions: Point) {\r\n\t\tthis.image = new Image();\r\n\t\tthis.image.src = imagePath;\r\n\r\n\t\tthis.dimensions = dimensions;\r\n\t}\r\n\r\n\tpublic set dimensions(dimensions: Point) {\r\n\t\tthis.internalDimensions = dimensions;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): void {\r\n\t\trenderContext.drawImage(\r\n\t\t\tthis.image,\r\n\t\t\t// Source dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.image.width,\r\n\t\t\tthis.image.height,\r\n\t\t\t// Destination dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.internalDimensions.x,\r\n\t\t\tthis.internalDimensions.y);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/sprite.ts\n **/","import {Controller} from \"controller\";\r\nimport {Sound, SoundOptions} from \"sound\";\r\nimport {Point} from \"point\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Volume {\r\n\tprivate static opacityDecay: number =  0.02;\r\n\tprivate static fadedOpacity: number = 0.4;\r\n\tpublic isAlive: boolean = true;\r\n\tprivate soundButtonPosition: Point;\r\n\tprivate soundButtonDimensions: Point;\r\n\tprivate controller: Controller;\r\n\tprivate level: number;\r\n\tprivate volume0: Sprite;\r\n\tprivate volume1: Sprite;\r\n\tprivate volume2: Sprite;\r\n\tprivate volume3: Sprite;\r\n\tprivate volume4: Sprite;\r\n\tprivate opacity: number;\r\n\tprivate sounds: Sound[];\r\n\tprivate isVolumeKeyPressed: boolean;\r\n\tprivate volumeChanged: Sound;\r\n\r\n\tpublic constructor(renderDimensions: Point, controller: Controller) {\r\n\t\tthis.controller = controller;\r\n\r\n\t\tthis.soundButtonPosition = {\r\n\t\t\tx: renderDimensions.x - 40,\r\n\t\t\ty: 10\r\n\t\t};\r\n\r\n\t\tthis.soundButtonDimensions = {\r\n\t\t\tx: 30,\r\n\t\t\ty: 30\r\n\t\t};\r\n\r\n\t\tthis.opacity = Volume.fadedOpacity;\r\n\t\tthis.level = parseInt(localStorage.getItem(\"volumePosition\") || 2, 10);\r\n\r\n\t\tthis.volume0 = new Sprite(\"img/volume0.png\", this.soundButtonDimensions);\r\n\t\tthis.volume1 = new Sprite(\"img/volume1.png\", this.soundButtonDimensions);\r\n\t\tthis.volume2 = new Sprite(\"img/volume2.png\", this.soundButtonDimensions);\r\n\t\tthis.volume3 = new Sprite(\"img/volume3.png\", this.soundButtonDimensions);\r\n\t\tthis.volume4 = new Sprite(\"img/volume4.png\", this.soundButtonDimensions);\r\n\r\n\t\tthis.isVolumeKeyPressed = false;\r\n\r\n\t\tthis.sounds = [];\r\n\r\n\t\tthis.volumeChanged = this.createSound(\"snd/volume.wav\", {});\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): void {\r\n\t\tlet mouseClick: Point = this.controller.getClickPosition();\r\n\t\tif (mouseClick && this.isPointOnButton(mouseClick)) {\r\n\t\t\tthis.changeVolume();\r\n\t\t}\r\n\r\n\t\tif (this.isPointOnButton(this.controller.getMousePosition())) {\r\n\t\t\tthis.opacity = 1;\r\n\t\t}\r\n\r\n\t\tif (this.controller.isKeyPressed([\"m\", \"v\"])) {\r\n\t\t\tif (!this.isVolumeKeyPressed) {\r\n\t\t\t\tthis.changeVolume();\r\n\t\t\t\tthis.isVolumeKeyPressed = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.isVolumeKeyPressed = false;\r\n\t\t}\r\n\r\n\t\tthis.opacity = Math.max(this.opacity - Volume.opacityDecay, Volume.fadedOpacity);\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.globalAlpha = this.opacity;\r\n\r\n\t\trenderContext.translate(this.soundButtonPosition.x, this.soundButtonPosition.y);\r\n\r\n\t\tswitch (this.level) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.volume0.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.volume1.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.volume2.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.volume3.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.volume4.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.volume4.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\trenderContext.restore();\r\n\t}\r\n\r\n\tpublic createSound(path: string, options: SoundOptions): Sound\t{\r\n\t\tlet newSound: Sound = new Sound(path, options);\r\n\r\n\t\tnewSound.volume = this.level / 5;\r\n\r\n\t\tthis.sounds.push(newSound);\r\n\r\n\t\treturn newSound;\r\n\t}\r\n\r\n\tprivate isPointOnButton(point: Point): boolean {\r\n\t\treturn point\r\n\t\t\t&& point.x > this.soundButtonPosition.x\r\n\t\t\t&& point.x < this.soundButtonPosition.x + this.soundButtonDimensions.x\r\n\t\t\t&& point.y > this.soundButtonPosition.y\r\n\t\t\t&& point.y < this.soundButtonPosition.y + this.soundButtonDimensions.y;\r\n\t}\r\n\r\n\tprivate changeVolume(): void {\r\n\t\tthis.opacity = 1;\r\n\r\n\t\tthis.level = Math.round(this.level >= 4 ? 0 : this.level + 1);\r\n\r\n\t\tlocalStorage.setItem(\"volumePosition\", this.level.toString());\r\n\r\n\t\tthis.sounds.forEach((sound: Sound) => {\r\n\t\t\tsound.volume = this.level / 5;\r\n\t\t});\r\n\r\n\t\tthis.volumeChanged.play();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/volume.ts\n **/","export interface SoundOptions {\r\n\tvolume?: number;\r\n\tisLooping?: boolean;\r\n}\r\n\r\nexport class Sound {\r\n\tprivate static defaultVolume: number = 0.3;\r\n\r\n\tprivate sound: HTMLAudioElement;\r\n\r\n\tconstructor(path: string, options: SoundOptions) {\r\n\t\tthis.sound = new Audio(path);\r\n\t\tthis.sound.volume = options.volume || Sound.defaultVolume;\r\n\t\tthis.sound.loop = options.isLooping === true;\r\n\t}\r\n\r\n\tpublic play(): void {\r\n\t\tthis.sound.play();\r\n\t}\r\n\r\n\tpublic set volume(newVolume: number) {\r\n\t\tthis.sound.volume = newVolume;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/sound.ts\n **/","import {PhysicsBlock} from \"physicsBlock\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Viewport} from \"viewport\";\r\nimport {Volume} from \"volume\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {RenderComponent, RectangleLayer} from \"entitySystem/renderComponent\";\r\n\r\nexport class Platform extends PhysicsBlock {\r\n\tprivate static platformSpeedIncrease: number = 1000;\r\n\tprivate static minimumReboundSpeed: number = 10;\r\n\r\n\tpublic viewport: Viewport;\r\n\r\n\tprivate get bottomOfScreen(): number {\r\n\t\treturn this.viewport.renderDimensions.y - this.viewport.offset;\r\n\t}\r\n\r\n\tprivate get offscreenAmount(): number {\r\n\t\treturn Math.max(this.locationComponent.top - this.bottomOfScreen, 0);\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tgravity: number,\r\n\t\tvolume: Volume,\r\n\t\tworldWidth: number\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, gravity, volume, 10, worldWidth);\r\n\r\n\t\tthis.collisionComponent.onCollide.push(() => {\r\n\t\t\tif (this.locationComponent.ySpeed < Platform.minimumReboundSpeed) {\r\n\t\t\t\tthis.locationComponent.ySpeed = Platform.minimumReboundSpeed;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.renderComponent = new RenderComponent(\r\n\t\t\tthis.locationComponent,\r\n\t\t\tnew RectangleLayer(color),\r\n\t\t\t1,\r\n\t\t\t1\r\n\t\t);\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tthis.locationComponent.xSpeed =\r\n\t\t\tthis.locationComponent.xSpeed * (\r\n\t\t\t\t(Platform.platformSpeedIncrease + deltaTime) / Platform.platformSpeedIncrease);\r\n\r\n\t\tsuper.Tick(deltaTime);\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): void {\r\n\t\tif (this.offscreenAmount > 0) {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.fillStyle = this.fillColor;\r\n\r\n\t\t\trenderContext.globalAlpha = 0.2;\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.locationComponent.left,\r\n\t\t\t\tthis.bottomOfScreen - this.locationComponent.height,\r\n\t\t\t\tthis.locationComponent.width,\r\n\t\t\t\tthis.locationComponent.height\r\n\t\t\t);\r\n\r\n\t\t\trenderContext.globalAlpha = 1;\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.locationComponent.left,\r\n\t\t\t\tthis.bottomOfScreen - this.locationComponent.height,\r\n\t\t\t\t((this.offscreenAmount / 10) % this.locationComponent.width),\r\n\t\t\t\tthis.locationComponent.height\r\n\t\t\t);\r\n\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform.ts\n **/","import {Point} from \"point\";\r\n\r\nexport class Controller {\r\n\tprivate static keyCodes: { [keyCode: number]: string } = {\r\n\t\t13: \"enter\",\r\n\t\t32: \"space\",\r\n\t\t37: \"left\",\r\n\t\t38: \"up\",\r\n\t\t39: \"right\",\r\n\t\t65: \"a\",\r\n\t\t68: \"d\",\r\n\t\t69: \"e\",\r\n\t\t77: \"m\",\r\n\t\t86: \"v\",\r\n\t\t87: \"w\"\r\n\t};\r\n\r\n\tprivate isKeyPressedState: { [keyName: string]: boolean } = {\r\n\t\t\"enter\": false,\r\n\t\t\"space\": false,\r\n\t\t\"left\": false,\r\n\t\t\"up\": false,\r\n\t\t\"right\": false,\r\n\t\t\"a\": false,\r\n\t\t\"d\": false,\r\n\t\t\"e\": false,\r\n\t\t\"m\": false,\r\n\t\t\"v\": false,\r\n\t\t\"w\": false\r\n\t};\r\n\r\n\tprivate mousePosition: Point;\r\n\r\n\tprivate clickLocation: Point;\r\n\r\n\tprivate canvas: HTMLCanvasElement;\r\n\r\n\tconstructor(canvas: HTMLCanvasElement) {\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\twindow.addEventListener(\"keyup\", (event: KeyboardEvent) => {\r\n\t\t\tthis.handleKeyUp(event);\r\n\t\t});\r\n\r\n\t\twindow.addEventListener(\"keydown\", (event: KeyboardEvent) => {\r\n\t\t\tthis.handleKeyDown(event);\r\n\r\n\t\t\t// Prevent known key codes executing their default action.\r\n\t\t\tif (Controller.keyCodes[event.keyCode]) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener(\"mousemove\", (event: MouseEvent) => {\r\n\t\t\tthis.handleMouseMove(event);\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener(\"mousedown\", (event: MouseEvent) => {\r\n\t\t\tthis.handleMouseDown(event);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic isKeyPressed(key: string | string[]): boolean {\r\n\t\tlet keys: string[] = [].concat(key);\r\n\t\treturn keys.some((value: string) => {\r\n\t\t\treturn this.isKeyPressedState[value];\r\n\t\t});\r\n\t}\r\n\r\n\tpublic getMousePosition(): Point {\r\n\t\treturn this.mousePosition;\r\n\t}\r\n\r\n\tpublic getClickPosition(): Point {\r\n\t\treturn this.clickLocation;\r\n\t}\r\n\r\n\tpublic clearClick(): void {\r\n\t\tthis.clickLocation = undefined;\r\n\t}\r\n\r\n\tprivate handleKeyUp(event: KeyboardEvent): void {\r\n\t\tlet key: string = Controller.keyCodes[event.keyCode];\r\n\t\tthis.isKeyPressedState[key] = false;\r\n\t}\r\n\r\n\tprivate handleKeyDown(event: KeyboardEvent): void {\r\n\t\tlet key: string = Controller.keyCodes[event.keyCode];\r\n\t\tthis.isKeyPressedState[key] = true;\r\n\t}\r\n\r\n\tprivate handleMouseMove(event: MouseEvent): void {\r\n\t\tlet canvasElementPosition: ClientRect = this.canvas.getBoundingClientRect();\r\n\t\tthis.mousePosition  = {\r\n\t\t\tx: event.clientX - canvasElementPosition.left,\r\n\t\t\ty: event.clientY - canvasElementPosition.top,\r\n\t\t};\r\n\t}\r\n\r\n\tprivate handleMouseDown(event: MouseEvent): void {\r\n\t\tlet canvasElementPosition: ClientRect = this.canvas.getBoundingClientRect();\r\n\t\tthis.clickLocation = {\r\n\t\t\tx: event.clientX - canvasElementPosition.left,\r\n\t\t\ty: event.clientY - canvasElementPosition.top,\r\n\t\t};\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controller.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\n\r\ninterface Systems {\r\n\t[name: string]: System;\r\n}\r\n\r\nexport class Orchestrator {\r\n\t// The list of entities currently in the system.\r\n\tprivate _entities: Entity[];\r\n\r\n\t// Storage of entities to add/remove at the end of the tick.\r\n\tprivate _entitiesToAdd: Entity[];\r\n\tprivate _entitiesToRemove: Entity[];\r\n\r\n\tprivate _preSystems: Systems;\r\n\tprivate _mainSystems: Systems;\r\n\tprivate _postSystems: Systems;\r\n\r\n\tpublic get entities(): Entity[] {\r\n\t\treturn this._entities;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tinitialEntities: Entity[],\r\n\t\tpreSystems: Systems = {},\r\n\t\tmainSystems: Systems = {},\r\n\t\tpostSystems: Systems = {}\r\n\t) {\r\n\t\tthis._entities = initialEntities;\r\n\r\n\t\tthis._preSystems = preSystems;\r\n\t\tthis._mainSystems = mainSystems;\r\n\t\tthis._postSystems = postSystems;\r\n\r\n\t\tthis._entitiesToAdd = [];\r\n\t\tthis._entitiesToRemove = [];\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tif (this._entities.length > 500) {\r\n\t\t\tthrow new RangeError(\"Sanity check failed: Large number of entities\");\r\n\t\t}\r\n\r\n\t\tthis.RunSystems(this._preSystems, deltaTime);\r\n\t\tthis.RunSystems(this._mainSystems, deltaTime);\r\n\t\tthis.RunSystems(this._postSystems, deltaTime);\r\n\r\n\t\t// Add any new entities.\r\n\t\tthis._entities = this._entities.concat(this._entitiesToAdd);\r\n\r\n\t\t// Remove any dead entities.\r\n\t\tthis._entities = this._entities.filter(\r\n\t\t\t(entity: Entity) => {\r\n\t\t\t\treturn this._entitiesToRemove.indexOf(entity) < 0;\r\n\t\t\t},\r\n\t\t\tthis);\r\n\r\n\t\t// Reset the add/remove lists\r\n\t\tthis._entitiesToAdd = [];\r\n\t\tthis._entitiesToRemove = [];\r\n\t}\r\n\r\n\tpublic Add(entity: Entity): void {\r\n\t\tthis._entitiesToAdd.push(entity);\r\n\t}\r\n\r\n\tpublic Remove(entity: Entity): void {\r\n\t\tthis._entitiesToRemove.push(entity);\r\n\t}\r\n\r\n\tpublic GetSystem(name: string): System {\r\n\t\treturn this._mainSystems[name] || this._preSystems[name] || this._postSystems[name];\r\n\t}\r\n\r\n\tprivate RunSystems(systems: Systems, deltaTime: number): void {\r\n\t\tfor (let systemName in systems) {\r\n\t\t\tif (systems.hasOwnProperty(systemName)) {\r\n\t\t\t\tsystems[systemName].Run(this._entities, this, deltaTime);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/orchestrator.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class LocationSystem extends System {\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number ): void {\r\n\t\t\"noOp\".toString();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/locationSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class CollisionSystem extends System {\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tSystem.ApplyToPairs(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.collisionComponent;\r\n\t\t\t},\r\n\t\t\t(entityA: Entity, entityB: Entity): void => {\r\n\t\t\t\tthis.Collide(entityA, entityB, orchestrator, deltaTime);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate Collide(entityA: Entity, entityB: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\r\n\t\tlet isVerticalOverlap: boolean =\r\n\t\t\t(entityA.locationComponent.top < entityB.locationComponent.bottom) &&\r\n\t\t\t(entityA.locationComponent.bottom > entityB.locationComponent.top);\r\n\r\n\t\tlet isHorizontalOverlap: boolean =\r\n\t\t\t(entityA.locationComponent.left < entityB.locationComponent.right) &&\r\n\t\t\t(entityA.locationComponent.right > entityB.locationComponent.left);\r\n\r\n\t\t// If theres no overlap then return.\r\n\t\tif (!isHorizontalOverlap || !isVerticalOverlap) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Always simulate a vertical bounce\r\n\t\t// If masses are the same speed can be swapped during an elastic collision\r\n\t\tlet entityAYSpeed: number = entityA.locationComponent.ySpeed;\r\n\t\tlet entityBYSpeed: number = entityB.locationComponent.ySpeed;\r\n\t\tentityA.locationComponent.ySpeed = entityBYSpeed;\r\n\t\tentityB.locationComponent.ySpeed = entityAYSpeed;\r\n\r\n\t\t// Only simulate a horizontal bounce if the x overlap has just started\r\n\t\tlet entityAPreviousLeft: number = entityA.locationComponent.xPositionValue - entityA.locationComponent.xSpeed;\r\n\t\tlet entityAPreviousRight: number = entityAPreviousLeft + entityA.locationComponent.width;\r\n\t\tlet entityBPreviousLeft: number = entityB.locationComponent.xPositionValue - entityA.locationComponent.xSpeed;\r\n\t\tlet entityBPreviousRight: number = entityBPreviousLeft + entityB.locationComponent.width;\r\n\r\n\t\tlet wasHorizontalOverlap: boolean =\r\n\t\t\t(entityAPreviousLeft < entityBPreviousRight)\r\n\t\t\t&& (entityAPreviousRight > entityBPreviousLeft);\r\n\r\n\t\tif (!wasHorizontalOverlap) {\r\n\t\t\tentityA.locationComponent.xSpeed = -entityA.locationComponent.xSpeed;\r\n\t\t\tentityB.locationComponent.xSpeed = -entityB.locationComponent.xSpeed;\r\n\t\t}\r\n\r\n\t\tentityA.collisionComponent.onCollide.trigger(entityA, orchestrator, deltaTime);\r\n\t\tentityB.collisionComponent.onCollide.trigger(entityB, orchestrator, deltaTime);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/collisionSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {Controller} from \"controller\";\r\n\r\nexport class InputSystem extends System {\r\n\tprivate _controller: Controller;\r\n\r\n\tconstructor(controller: Controller) {\r\n\t\tsuper();\r\n\r\n\t\tthis._controller = controller;\r\n\t}\r\n\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tSystem.ApplyToIndividuals(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.inputComponent;\r\n\t\t\t},\r\n\t\t\t(entity: Entity): void => {\r\n\t\t\t\tthis.TriggerKeyHandlers(entity, orchestrator, deltaTime);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate TriggerKeyHandlers(entity: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tfor (let key in entity.inputComponent.definedKeyHandlers) {\r\n\t\t\tif (this._controller.isKeyPressed(key)) {\r\n\t\t\t\tentity.inputComponent.getKeyHandler(key).trigger(entity, orchestrator, deltaTime);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/inputSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class ScoreSystem extends System {\r\n\tprivate _points: number;\r\n\tprivate _multiplier: number;\r\n\r\n\tpublic get points(): number {\r\n\t\treturn ScoreSystem.round(this._points);\r\n\t}\r\n\r\n\tpublic get multiplier(): number {\r\n\t\treturn ScoreSystem.round(this._multiplier);\r\n\t}\r\n\r\n\tpublic get totalScore(): number {\r\n\t\treturn ScoreSystem.round(this._points * this._multiplier);\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.ResetScore();\r\n\t}\r\n\r\n\tprivate static round(target: number): number {\r\n\t\treturn Math.round(target * 100) / 100;\r\n\t}\r\n\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number ): void {\r\n\t\tlet currentPoints: number = 0;\r\n\t\tlet currentMultiplier: number = 0;\r\n\r\n\t\tSystem.ApplyToIndividuals(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.scoreComponent;\r\n\t\t\t},\r\n\t\t\t(entity: Entity): void => {\r\n\t\t\t\tcurrentPoints += entity.scoreComponent.pointsValue;\r\n\t\t\t\tcurrentMultiplier += entity.scoreComponent.multiplierValue;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t// Assign the points if they have increased.\r\n\t\tif (currentPoints > this._points) {\r\n\t\t\tthis._points = currentPoints;\r\n\t\t}\r\n\t\tif (currentMultiplier > this._multiplier) {\r\n\t\t\tthis._multiplier = currentMultiplier;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ResetScore(): void {\r\n\t\tthis._points = 0;\r\n\t\tthis._multiplier = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/scoreSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport enum GameState {\r\n\tNone = 0,\r\n\tMenu = 1,\r\n\tGame = 2\r\n}\r\n\r\ninterface StateChangeHandler {\r\n\t(removables: Entity[]): void;\r\n}\r\n\r\nexport class GameStateSystem extends System {\r\n\tprivate _state: GameState;\r\n\tprivate _nextState: GameState;\r\n\tprivate _removables: Entity[] = [];\r\n\r\n\tprivate _onMenuState: StateChangeHandler;\r\n\tprivate _onGameState: StateChangeHandler;\r\n\r\n\tpublic get OnMenuState(): StateChangeHandler {\r\n\t\treturn this._onMenuState;\r\n\t}\r\n\tpublic set OnMenuState(newHandler: StateChangeHandler) {\r\n\t\tthis._onMenuState = newHandler;\r\n\t}\r\n\r\n\tpublic get OnGameState(): StateChangeHandler {\r\n\t\treturn this._onGameState;\r\n\t}\r\n\tpublic set OnGameState(newHandler: StateChangeHandler) {\r\n\t\tthis._onGameState = newHandler;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis._state     = GameState.None;\r\n\t\tthis._nextState = GameState.Menu;\r\n\t}\r\n\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\t// The next state should always be blanked.\r\n\t\t// There is no scenario where we leave this method without having acted upon it.\r\n\t\tlet nextState: GameState = this._nextState;\r\n\t\tthis._nextState = undefined;\r\n\r\n\t\t// Don't proceed if theres no state change.\r\n\t\tif (this._state === nextState || !nextState) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._state = nextState;\r\n\r\n\t\t// Remove any specified entities.\r\n\t\tthis._removables.forEach((entity: Entity) => {\r\n\t\t\torchestrator.Remove(entity);\r\n\t\t});\r\n\t\tthis._removables = [];\r\n\r\n\t\tswitch (nextState) {\r\n\t\t\tcase GameState.Game:\r\n\t\t\t\tthis._onGameState(this._removables);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GameState.Menu:\r\n\t\t\t\tthis._onMenuState(this._removables);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic StartGame(): void {\r\n\t\tthis._nextState = GameState.Game;\r\n\t}\r\n\r\n\tpublic EndGame(): void {\r\n\t\tthis._nextState = GameState.Menu;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/gameStateSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class EmitterSystem extends System {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tSystem.ApplyToIndividuals(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.emitterComponent;\r\n\t\t\t},\r\n\t\t\t(entity: Entity): void => {\r\n\t\t\t\tthis.Emit(entity, orchestrator, deltaTime);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate Emit(entity: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tentity.emitterComponent.emitter(orchestrator, deltaTime);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/emitterSystem.ts\n **/"],"sourceRoot":""}