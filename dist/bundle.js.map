{"version":3,"sources":["webpack:///webpack/bootstrap 817a67b487f3f9b27483","webpack:///./src/main.ts","webpack:///./src/renderer.ts","webpack:///./src/player.ts","webpack:///./src/physicsBlock.ts","webpack:///./src/block.ts","webpack:///./src/entitySystem/locationComponent.ts","webpack:///./src/entitySystem/renderComponent.ts","webpack:///./src/entitySystem/collisionComponent.ts","webpack:///./src/entitySystem/callbackArray.ts","webpack:///./src/sprite.ts","webpack:///./src/scoreboard.ts","webpack:///./src/background.ts","webpack:///./src/viewport.ts","webpack:///./src/menu.ts","webpack:///./src/volume.ts","webpack:///./src/sound.ts","webpack:///./src/platform.ts","webpack:///./src/controller.ts","webpack:///./src/entitySystem/orchestrator.ts","webpack:///./src/entitySystem/locationSystem.ts","webpack:///./src/entitySystem/system.ts","webpack:///./src/entitySystem/renderSystem.ts","webpack:///./src/entitySystem/collisionSystem.ts"],"names":["Renderer","Renderer.constructor","Renderer.Start","Renderer.Tick","Renderer.Draw","Player","Player.constructor","Player.Tick","Player.Render","Player.Reset","PhysicsBlock","PhysicsBlock.constructor","PhysicsBlock.gravity","PhysicsBlock.Tick","PhysicsBlock.Render","PhysicsBlock.Reset","Block","Block.constructor","Block.fillColor","Block.onMove","Block.skewedPosition","Block.direction","Block.Tick","Block.Render","Block.Reset","LocationComponent","LocationComponent.constructor","LocationComponent.xPosition","LocationComponent.yPosition","LocationComponent.width","LocationComponent.height","LocationComponent.xSpeed","LocationComponent.ySpeed","LocationComponent.rotation","LocationComponent.left","LocationComponent.right","LocationComponent.top","LocationComponent.bottom","LocationComponent.centerXPosition","LocationComponent.centerYPosition","LocationComponent.rotationInDegrees","LocationComponent.Duplicate","RenderComponent","RenderComponent.constructor","RenderComponent.fillColor","RenderComponent.opacity","RenderComponent.position","CollisionComponent","CollisionComponent.constructor","CollisionComponent.position","CollisionComponent.onCollide","CallbackArray","CallbackArray.constructor","CallbackArray.trigger","Sprite","Sprite.constructor","Sprite.dimensions","Sprite.Render","Sprite.loaded","Scoreboard","Scoreboard.constructor","Scoreboard.Render","Scoreboard.totalPoints","Scoreboard.Reset","Background","Background.constructor","Background.SlideUpTo","Background.Render","Background.Reset","Viewport","Viewport.constructor","Viewport.renderDimensions","Viewport.offset","Viewport.SlideUpTo","Viewport.Render","Viewport.Reset","Viewport.RenderSubSet","Menu","Menu.constructor","Menu.Render","Menu.showMenu","Menu.isPointOnButton","Volume","Volume.constructor","Volume.Render","Volume.createSound","Volume.isPointOnButton","Volume.changeVolume","Sound","Sound.constructor","Sound.play","Sound.volume","Platform","Platform.constructor","Platform.bottomOfScreen","Platform.offscreenAmount","Platform.Tick","Platform.Render","Controller","Controller.constructor","Controller.isKeyPressed","Controller.getMousePosition","Controller.getClickPosition","Controller.clearClick","Controller.handleKeyUp","Controller.handleKeyDown","Controller.handleMouseMove","Controller.handleMouseDown","Orchestrator","Orchestrator.constructor","Orchestrator.entities","Orchestrator.Tick","Orchestrator.Add","Orchestrator.Remove","Orchestrator.GetSystem","Orchestrator.RunSystems","LocationSystem","LocationSystem.constructor","LocationSystem.Run","System","System.constructor","System.ApplyToIndividuals","System.ApplyToPairs","RenderSystem","RenderSystem.constructor","RenderSystem.offsetX","RenderSystem.offsetY","RenderSystem.Run","RenderSystem.Draw","RenderSystem.RotateAroundCenter","RenderSystem.MoveToPosition","RenderSystem.OffsetViewport","RenderSystem.DrawRect","CollisionSystem","CollisionSystem.constructor","CollisionSystem.Run","CollisionSystem.Collide"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 817a67b487f3f9b27483\n **/","import {Renderer} from \"renderer\";\r\nimport {Controller} from \"controller\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {LocationSystem} from \"entitySystem/LocationSystem\";\r\nimport {RenderSystem} from \"entitySystem/RenderSystem\";\r\nimport {CollisionSystem} from \"entitySystem/CollisionSystem\";\r\n\r\nlet canvas: HTMLCanvasElement = document.getElementById(\"viewport\") as HTMLCanvasElement;\r\n\r\nlet controller: Controller = new Controller(canvas);\r\n\r\nlet orchestrator: Orchestrator = new Orchestrator(\r\n\t[],\r\n\t{\r\n\t\t\"location\": new LocationSystem()\r\n\t},\r\n\t{\r\n\t\t\"collision\": new CollisionSystem()\r\n\t},\r\n\t{\r\n\t\t\"render\": new RenderSystem(canvas.getContext(\"2d\"))\r\n\t});\r\n\r\nnew Renderer(canvas, controller, orchestrator).Start();\r\n\r\n// Ensure keyboard events when loaded in an iframe (fix for itch.io)\r\nwindow.onload = function(): void {\r\n\twindow.focus();\r\n};\r\nwindow.onclick = function(): void {\r\n\twindow.focus();\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.ts\n **/","import {Player} from \"player\";\r\nimport {Controller} from \"controller\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Scoreboard} from \"scoreboard\";\r\nimport {Background} from \"background\";\r\nimport {Viewport} from \"viewport\";\r\nimport {Sound} from \"sound\";\r\nimport {Menu} from \"menu\";\r\nimport {Volume} from \"volume\";\r\nimport {Platform} from \"platform\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Renderer {\r\n\t// Constants\r\n\tprivate static defaultGravity: number = 0.2;\r\n\tprivate static gameWidth: number = 480;\r\n\tprivate static timescale: number = 16;\r\n\r\n\t// Rendering references\r\n\tprivate canvas: HTMLCanvasElement;\r\n\tprivate context: CanvasRenderingContext2D;\r\n\r\n\t// State\r\n\tprivate isRunning: boolean = false;\r\n\tprivate player: Player;\r\n\tprivate platform: Platform;\r\n\tprivate scoreboard: Scoreboard;\r\n\tprivate background: Background;\r\n\tprivate menu: Menu;\r\n\tprivate viewport: Viewport;\r\n\tprivate lastTimestamp: number;\r\n\tprivate lastFps: number;\r\n\tprivate backgroundMusic: Sound;\r\n\tprivate deathSound: Sound;\r\n\tprivate volume: Volume;\r\n\tprivate controller: Controller;\r\n\r\n\tprivate orchestrator: Orchestrator;\r\n\r\n\tconstructor(canvas: HTMLCanvasElement, controller: Controller, orchestrator: Orchestrator) {\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.context = canvas.getContext(\"2d\");\r\n\t\tthis.controller = controller;\r\n\t\tthis.orchestrator = orchestrator;\r\n\r\n\t\tthis.volume = new Volume(\r\n\t\t\t{\r\n\t\t\t\tx: this.canvas.width,\r\n\t\t\t\ty: this.canvas.height\r\n\t\t\t},\r\n\t\t\tcontroller);\r\n\r\n\t\tthis.backgroundMusic = this.volume.createSound(\"snd/music.wav\", { isLooping: true });\r\n\t\tthis.backgroundMusic.play();\r\n\r\n\t\tthis.deathSound = this.volume.createSound(\"snd/death.wav\", {});\r\n\r\n\t\tlet playerPosition: MovingPoint = {\r\n\t\t\tdX: 2,\r\n\t\t\tdY: -2,\r\n\t\t\tx: 30,\r\n\t\t\ty: 110\r\n\t\t};\r\n\t\tlet playerDimensions: Point = {\r\n\t\t\tx: 30,\r\n\t\t\ty: 30\r\n\t\t};\r\n\t\tthis.player = new Player(\r\n\t\t\tplayerPosition,\r\n\t\t\tplayerDimensions,\r\n\t\t\t\"#FF0000\",\r\n\t\t\tcontroller,\r\n\t\t\tRenderer.defaultGravity,\r\n\t\t\tRenderer.gameWidth,\r\n\t\t\tthis.volume);\r\n\t\torchestrator.Add(this.player);\r\n\r\n\t\tthis.background = new Background(\r\n\t\t\t{ x: 0, y: 0 },\r\n\t\t\t{ x: this.canvas.width, y: this.canvas.height },\r\n\t\t\t\"#222222\",\r\n\t\t\tthis.player\r\n\t\t);\r\n\r\n\t\tlet platformPosition: MovingPoint = {\r\n\t\t\tdX: 2,\r\n\t\t\tdY: 2,\r\n\t\t\tx: 30,\r\n\t\t\ty: 690\r\n\t\t};\r\n\t\tlet platformDimensions: Point = {\r\n\t\t\tx: 90,\r\n\t\t\ty: 20\r\n\t\t};\r\n\t\tthis.platform = new Platform(\r\n\t\t\tplatformPosition,\r\n\t\t\tplatformDimensions,\r\n\t\t\t\"#FFFFFF\",\r\n\t\t\t-Renderer.defaultGravity,\r\n\t\t\tthis.volume,\r\n\t\t\tRenderer.gameWidth);\r\n\t\torchestrator.Add(this.platform);\r\n\r\n\t\tlet scoreboardPosition: MovingPoint = {\r\n\t\t\tdX: 0,\r\n\t\t\tdY: 0,\r\n\t\t\tx: 20,\r\n\t\t\ty: 370\r\n\t\t};\r\n\t\tlet scoreboardDimensions: Point = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t};\r\n\t\tthis.scoreboard = new Scoreboard(\r\n\t\t\tthis.player,\r\n\t\t\tscoreboardPosition,\r\n\t\t\tscoreboardDimensions,\r\n\t\t\t\"rgba(255,255,255, 0.1)\"\r\n\t\t);\r\n\t\torchestrator.Add(this.scoreboard);\r\n\r\n\t\tthis.menu = new Menu(\r\n\t\t\t{\r\n\t\t\t\tx: this.canvas.width,\r\n\t\t\t\ty: this.canvas.height\r\n\t\t\t},\r\n\t\t\tcontroller,\r\n\t\t\tthis.background,\r\n\t\t\t() => {\r\n\t\t\t\tthis.player.Reset();\r\n\t\t\t\tthis.platform.Reset();\r\n\t\t\t\tthis.viewport.Reset();\r\n\t\t\t\tthis.scoreboard.Reset();\r\n\t\t\t\tthis.background.Reset();\r\n\t\t\t\tthis.isRunning = true;\r\n\t\t\t},\r\n\t\t\tthis.volume\r\n\t\t);\r\n\r\n\t\tthis.viewport = new Viewport(\r\n\t\t\tthis.context,\r\n\t\t\t[this.background, this.scoreboard],\r\n\t\t\t[],\r\n\t\t\t[this.player, this.platform],\r\n\t\t\tthis.orchestrator\r\n\t\t);\r\n\r\n\t\tthis.platform.viewport = this.viewport;\r\n\r\n\t\tlet originalOnMove: (amountMoved: Point) => void = this.player.onMove;\r\n\t\tthis.player.onMove = (amountMoved: Point) => {\r\n\t\t\tthis.viewport.SlideUpTo(-this.player.locationComponent.yPosition + 50);\r\n\t\t\tthis.background.SlideUpTo(-this.player.locationComponent.yPosition);\r\n\r\n\t\t\tif (this.player.locationComponent.yPosition > -(this.viewport.offset - this.canvas.height)) {\r\n\t\t\t\tthis.isRunning = false;\r\n\t\t\t\tthis.deathSound.play();\r\n\t\t\t\tthis.menu.showMenu(this.scoreboard.totalPoints, this.player.fillColor);\r\n\t\t\t}\r\n\r\n\t\t\tif (originalOnMove) {\r\n\t\t\t\toriginalOnMove(amountMoved);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic Start(): void {\r\n\t\trequestAnimationFrame((time: number) => { this.Tick(time); });\r\n\t}\r\n\r\n\tprivate Tick(timestamp: number): void {\r\n\t\tlet deltaTime: number = this.lastTimestamp ? (timestamp - this.lastTimestamp) : 0;\r\n\t\tlet scaledTime: number = deltaTime / Renderer.timescale;\r\n\t\tthis.lastTimestamp = timestamp;\r\n\t\tthis.lastFps = Math.round(1000 / deltaTime);\r\n\r\n\t\tthis.Draw();\r\n\r\n\t\tthis.orchestrator.Tick(1);\r\n\r\n\t\tif (this.isRunning === true) {\r\n\t\t\tthis.player.Tick(scaledTime);\r\n\t\t\tthis.platform.Tick(scaledTime);\r\n\t\t\t// Collider.processCollisions([this.player, this.platform]);\r\n\t\t}\r\n\r\n\t\tthis.controller.clearClick();\r\n\r\n\t\trequestAnimationFrame((time: number) => { this.Tick(time); });\r\n\t}\r\n\r\n\tprivate Draw(): void {\r\n\t\tif (this.isRunning) {\r\n\t\t\tthis.viewport.Render(this.lastFps);\r\n\t\t} else {\r\n\t\t\tthis.menu.Render(this.context, this.orchestrator);\r\n\t\t}\r\n\r\n\t\tthis.volume.Render(this.context, this.orchestrator);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/renderer.ts\n **/","import {Controller} from \"controller\";\r\nimport {PhysicsBlock} from \"physicsBlock\";\r\nimport {MovingPoint, Point, Rectangle} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Particle} from \"particle\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Player extends PhysicsBlock {\r\n\tprivate static jumpSpeedIncrease: number = -8;\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\tprivate static jumpRotationSlowDown: number = 0.1;\r\n\tprivate static initialJumpRotationSpeed: number = 15;\r\n\tprivate static horizontalSpeedIncrease: number = 0.5;\r\n\tprivate static faceSwapThreshold: number = 3.5;\r\n\r\n\tprivate isJumping: boolean;\r\n\tprivate jumpRotationSpeed: number;\r\n\tprivate controller: Controller;\r\n\r\n\tprivate jump: Sound;\r\n\tprivate bounce: Sound;\r\n\tprivate faceUp: Sprite;\r\n\tprivate faceDown: Sprite;\r\n\tprivate faceHover: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tcontroller: Controller,\r\n\t\tgravity: number,\r\n\t\tworldWidth: number,\r\n\t\tvolume: Volume\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, gravity, volume, 7, worldWidth);\r\n\r\n\t\tthis.collisionComponent.onCollide.push(() => {\r\n\t\t\t// If we were jumping, thats over now\r\n\t\t\tthis.isJumping = false;\r\n\t\t\tthis.locationComponent.rotation = 0;\r\n\t\t\tthis.jumpRotationSpeed = 0;\r\n\t\t\tthis.bounce.play();\r\n\t\t});\r\n\r\n\t\tthis.controller = controller;\r\n\t\tthis.isJumping = false;\r\n\r\n\t\tthis.faceUp = new Sprite(\"img/faceHappy.png\", dimensions);\r\n\t\tthis.faceDown = new Sprite(\"img/faceWorried.png\", dimensions);\r\n\t\tthis.faceHover = new Sprite(\"img/faceChill.png\", dimensions);\r\n\r\n\t\tthis.jump = volume.createSound(\"snd/jump.wav\", {});\r\n\t\tthis.bounce = volume.createSound(\"snd/blip3.wav\", {});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tsuper.Tick(deltaTime);\r\n\r\n\t\t// Perform the jump\r\n\t\tif (!this.isJumping && this.controller.isKeyPressed([\"up\", \"space\", \"w\"])) {\r\n\t\t\tthis.jump.play();\r\n\t\t\tthis.locationComponent.ySpeed = Player.jumpSpeedIncrease * deltaTime;\r\n\t\t\tthis.isJumping = true;\r\n\t\t\tthis.jumpRotationSpeed = this.direction === \"right\" ? Player.initialJumpRotationSpeed : -Player.initialJumpRotationSpeed;\r\n\t\t}\r\n\r\n\t\t// Allow influence over horizontal direction\r\n\t\tif (this.controller.isKeyPressed([\"left\", \"a\"])) {\r\n\t\t\tthis.locationComponent.xSpeed -= (Player.horizontalSpeedIncrease * deltaTime);\r\n\t\t}\r\n\t\tif (this.controller.isKeyPressed([\"right\", \"d\"])) {\r\n\t\t\tthis.locationComponent.xSpeed += (Player.horizontalSpeedIncrease * deltaTime);\r\n\t\t}\r\n\r\n\t\t// Apply jump rotation\r\n\t\tthis.locationComponent.rotation += (this.jumpRotationSpeed * deltaTime);\r\n\t\tif (this.jumpRotationSpeed > 0) {\r\n\t\t\tthis.jumpRotationSpeed = Math.max(0, this.jumpRotationSpeed - Player.jumpRotationSlowDown);\r\n\t\t} else if (this.jumpRotationSpeed < 0) {\r\n\t\t\tthis.jumpRotationSpeed = Math.min(0, this.jumpRotationSpeed + Player.jumpRotationSlowDown);\r\n\t\t}\r\n\r\n\t\tthis.locationComponent.rotation += this.locationComponent.xSpeed / 2;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.translate(this.locationComponent.centerXPosition, this.locationComponent.centerYPosition);\r\n\t\trenderContext.rotate(this.locationComponent.rotation * Player.degrees);\r\n\t\trenderContext.translate(-this.locationComponent.centerXPosition, -this.locationComponent.centerYPosition);\r\n\r\n\t\tlet faceSprite: Sprite;\r\n\r\n\t\tif (this.locationComponent.ySpeed > Player.faceSwapThreshold) {\r\n\t\t\tfaceSprite = this.faceDown;\r\n\t\t} else if (this.locationComponent.ySpeed < -Player.faceSwapThreshold) {\r\n\t\t\tfaceSprite = this.faceUp;\r\n\t\t} else {\r\n\t\t\tfaceSprite = this.faceHover;\r\n\t\t}\r\n\r\n\t\tlet xHexidecimal: string = Math.max(Math.round(15 - Math.abs(this.locationComponent.xSpeed)), 0).toString(16);\r\n\t\tlet yHexidecimal: string = Math.max(Math.round(15 - Math.abs(this.locationComponent.ySpeed)), 0).toString(16);\r\n\r\n\t\tthis.fillColor = \"#\" + yHexidecimal + yHexidecimal + \"ff\" + xHexidecimal + xHexidecimal;\r\n\r\n\t\tlet newRenderables: Renderable[] = super.Render(renderContext, orchestrator);\r\n\r\n\t\tnewRenderables.forEach((renderable: Renderable) => {\r\n\t\t\t(renderable as Particle).rotation = this.locationComponent.rotation;\r\n\t\t});\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(this.locationComponent.centerXPosition, this.locationComponent.centerYPosition);\r\n\t\trenderContext.rotate(this.locationComponent.rotation * Player.degrees);\r\n\t\trenderContext.translate(-this.locationComponent.centerXPosition, -this.locationComponent.centerYPosition);\r\n\r\n\t\tlet skewedPosition: Rectangle = this.skewedPosition;\r\n\r\n\t\trenderContext.translate(skewedPosition.x, skewedPosition.y);\r\n\r\n\t\tfaceSprite.dimensions = {\r\n\t\t\tx: skewedPosition.width,\r\n\t\t\ty: skewedPosition.height\r\n\t\t};\r\n\r\n\t\tnewRenderables = newRenderables.concat(faceSprite.Render(renderContext, orchestrator));\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\treturn newRenderables;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tsuper.Reset();\r\n\r\n\t\tthis.isJumping = false;\r\n\t\tthis.locationComponent.rotation = 0;\r\n\t\tthis.jumpRotationSpeed = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/player.ts\n **/","import {Block} from \"block\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class PhysicsBlock extends Block {\r\n\r\n\tprivate internalGravity: number;\r\n\tprivate worldWidth: number;\r\n\r\n\tprivate rebound: Sound;\r\n\r\n\tpublic get gravity(): number {\r\n\t\treturn this.internalGravity;\r\n\t}\r\n\tpublic set gravity(newValue: number) {\r\n\t\tthis.internalGravity = newValue;\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tgravity: number,\r\n\t\tvolume: Volume,\r\n\t\txSpeedLimit: number,\r\n\t\tworldWidth?: number\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, xSpeedLimit);\r\n\r\n\t\tthis.internalGravity = gravity;\r\n\t\tthis.worldWidth = worldWidth;\r\n\r\n\t\tthis.rebound = volume.createSound(\"snd/blip.wav\", {});\r\n\r\n\t\tthis.collisionComponent.onCollide.push(() => {\r\n\t\t\tthis.skew += 10;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tsuper.Tick(deltaTime);\r\n\r\n\t\t// If off the right, bounce left\r\n\t\tif (this.locationComponent.right > this.worldWidth) {\r\n\t\t\tthis.rebound.play();\r\n\r\n\t\t\t// Clamp on screen, invert horizontal speed\r\n\t\t\tthis.skew += 3;\r\n\t\t\tthis.locationComponent.xPosition = this.worldWidth - this.locationComponent.width;\r\n\t\t\tthis.locationComponent.xSpeed = -Math.abs(this.locationComponent.xSpeed);\r\n\t\t}\r\n\r\n\t\t// If off the left, bounce right\r\n\t\tif (this.locationComponent.left < 0) {\r\n\t\t\tthis.rebound.play();\r\n\r\n\t\t\t// Clamp on screen, invert horizontal speed\r\n\t\t\tthis.locationComponent.xPosition = 0;\r\n\t\t\tthis.skew += 3;\r\n\t\t\tthis.locationComponent.xSpeed = Math.abs(this.locationComponent.xSpeed);\r\n\t\t}\r\n\r\n\t\t// Apply acceleration due to gravity\r\n\t\tthis.locationComponent.ySpeed += (this.internalGravity * deltaTime);\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\t\treturn super.Render(renderContext, orchestrator);\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tsuper.Reset();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/physicsBlock.ts\n **/","import {MovingPoint, Point, Rectangle} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Entity} from \"entitySystem/entity\";\r\nimport {LocationComponent} from \"entitySystem/locationComponent\";\r\nimport {RenderComponent} from \"entitySystem/renderComponent\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {CollisionComponent} from \"entitySystem/collisionComponent\";\r\n\r\nexport class Block implements Renderable, Entity {\r\n\t// Constants\r\n\tprivate static verticalSpeedLimit: number = 10;\r\n\tprivate static verticalSpeedLimitDelta: number = 0.01;\r\n\tprivate static skewScale: number = 0.07;\r\n\tprivate static skewReduction: number= 0.3;\r\n\r\n\tpublic isAlive: boolean = true;\r\n\r\n\tprotected skew: number;\r\n\r\n\t// Private members\r\n\tpublic locationComponent: LocationComponent;\r\n\tpublic collisionComponent: CollisionComponent;\r\n\r\n\tprivate internalColor: string;\r\n\tprivate onMoveCallback: (amountMoved: Point) => void;\r\n\tprivate initialWorldPosition: MovingPoint;\r\n\tprivate verticalSpeedLimit: number;\r\n\tprivate horizontalSpeedLimit: number;\r\n\r\n\tget fillColor(): string {\r\n\t\treturn this.internalColor;\r\n\t}\r\n\tset fillColor(newValue: string) {\r\n\t\tthis.internalColor = newValue;\r\n\t}\r\n\r\n\tget onMove(): (amountMoved: Point) => void {\r\n\t\treturn this.onMoveCallback;\r\n\t}\r\n\tset onMove(newValue: (amountMoved: Point) => void) {\r\n\t\tthis.onMoveCallback = newValue;\r\n\t}\r\n\r\n\tget skewedPosition(): Rectangle\r\n\t{\r\n\t\tlet skewAdjustment: number = this.skew === 0 ? 0 : Math.sin(this.skew);\r\n\t\tskewAdjustment = skewAdjustment * this.skew;\r\n\r\n\t\tlet widthAdjustment: number = (skewAdjustment * this.locationComponent.width * Block.skewScale);\r\n\t\tlet heightAdjustment: number = (skewAdjustment * this.locationComponent.height * Block.skewScale);\r\n\r\n\t\treturn {\r\n\t\t\theight: this.locationComponent.height + heightAdjustment,\r\n\t\t\twidth: this.locationComponent.width - widthAdjustment,\r\n\t\t\tx: this.locationComponent.xPosition + (widthAdjustment / 2),\r\n\t\t\ty: this.locationComponent.yPosition - (heightAdjustment / 2)\r\n\t\t};\r\n\t}\r\n\r\n\t// Direction properties\r\n\tget direction(): string {\r\n\t\treturn this.locationComponent.xSpeed >= 0 ? \"right\" : \"left\";\r\n\t}\r\n\r\n\tpublic constructor(worldPosition: MovingPoint, dimensions: Point, color: string, xSpeedLimit: number) {\r\n\r\n\t\tthis.locationComponent = new LocationComponent(\r\n\t\t\tworldPosition.x,\r\n\t\t\tworldPosition.y,\r\n\t\t\tdimensions.x,\r\n\t\t\tdimensions.y,\r\n\t\t\tworldPosition.dX,\r\n\t\t\tworldPosition.dY,\r\n\t\t\t0);\r\n\r\n\t\tthis.collisionComponent = new CollisionComponent(this.locationComponent);\r\n\r\n\t\tthis.internalColor = color;\r\n\t\tthis.horizontalSpeedLimit = xSpeedLimit;\r\n\r\n\t\tthis.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\r\n\t\tthis.initialWorldPosition = {\r\n\t\t\tdX: worldPosition.dX,\r\n\t\t\tdY: worldPosition.dY,\r\n\t\t\tx: worldPosition.x,\r\n\t\t\ty: worldPosition.y\r\n\t\t};\r\n\r\n\t\tthis.skew = 0;\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\t// Move \"forward\".\r\n\t\tthis.locationComponent.xPosition += (this.locationComponent.xSpeed * deltaTime);\r\n\t\tthis.locationComponent.yPosition += (this.locationComponent.ySpeed * deltaTime);\r\n\r\n\t\tif (this.onMoveCallback) {\r\n\t\t\t// The amount moved this tick is the same as the speed.\r\n\t\t\tthis.onMoveCallback({ x: this.locationComponent.xSpeed, y: this.locationComponent.ySpeed });\r\n\t\t}\r\n\r\n\t\tthis.skew = Math.max(0, this.skew - (Block.skewReduction * deltaTime));\r\n\r\n\t\tthis.verticalSpeedLimit += Block.verticalSpeedLimitDelta * deltaTime;\r\n\r\n\t\t// Clamp the speed to the speed limit.\r\n\t\tthis.locationComponent.ySpeed = Math.min(this.locationComponent.ySpeed, this.verticalSpeedLimit);\r\n\t\tthis.locationComponent.ySpeed = Math.max(this.locationComponent.ySpeed, -this.verticalSpeedLimit);\r\n\t\tthis.locationComponent.xSpeed = Math.min(this.locationComponent.xSpeed, this.horizontalSpeedLimit );\r\n\t\tthis.locationComponent.xSpeed = Math.max(this.locationComponent.xSpeed, -this.horizontalSpeedLimit );\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\r\n\t\trenderContext.beginPath();\r\n\r\n\t\tlet skewedPosition: Rectangle = this.skewedPosition;\r\n\r\n\t\trenderContext.rect(\r\n\t\t\tskewedPosition.x,\r\n\t\t\tskewedPosition.y,\r\n\t\t\tskewedPosition.width,\r\n\t\t\tskewedPosition.height);\r\n\r\n\t\trenderContext.fillStyle = this.fillColor;\r\n\t\trenderContext.fill();\r\n\r\n\t\trenderContext.closePath();\r\n\r\n\t\tlet particlePosition: LocationComponent = this.locationComponent.Duplicate();\r\n\t\tparticlePosition.xSpeed = 0;\r\n\t\tparticlePosition.ySpeed = 0;\r\n\r\n\t\torchestrator.Add({\r\n\t\t\tlocationComponent: particlePosition,\r\n\t\t\trenderComponent: new RenderComponent(\r\n\t\t\t\tthis.fillColor,\r\n\t\t\t\t0.2,\r\n\t\t\t\tparticlePosition)\r\n\t\t});\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.locationComponent.xPosition = this.initialWorldPosition.x;\r\n\t\tthis.locationComponent.yPosition = this.initialWorldPosition.y;\r\n\t\tthis.locationComponent.xSpeed = this.initialWorldPosition.dX;\r\n\t\tthis.locationComponent.ySpeed = this.initialWorldPosition.dY;\r\n\r\n\t\tthis.verticalSpeedLimit = Block.verticalSpeedLimit;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/block.ts\n **/","export class LocationComponent {\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\r\n\t// Data members.\r\n\tprivate _x: number;\r\n\tprivate _y: number;\r\n\tprivate _xSpeed: number;\r\n\tprivate _ySpeed: number;\r\n\tprivate _xSize: number;\r\n\tprivate _ySize: number;\r\n\tprivate _rotation: number;\r\n\r\n\t// Position properties.\r\n\tget xPosition(): number {\r\n\t\treturn this._x;\r\n\t}\r\n\tset xPosition(newValue: number) {\r\n\t\tthis._x = newValue;\r\n\t}\r\n\tget yPosition(): number {\r\n\t\treturn this._y;\r\n\t}\r\n\tset yPosition(newValue: number) {\r\n\t\tthis._y = newValue;\r\n\t}\r\n\r\n\t// Size properties.\r\n\tget width(): number {\r\n\t\treturn this._xSize;\r\n\t}\r\n\tget height(): number {\r\n\t\treturn this._ySize;\r\n\t}\r\n\r\n\t// Velocity properties.\r\n\tget xSpeed(): number {\r\n\t\treturn this._xSpeed;\r\n\t}\r\n\tset xSpeed(newValue: number) {\r\n\t\tthis._xSpeed = newValue;\r\n\t}\r\n\tget ySpeed(): number {\r\n\t\treturn this._ySpeed;\r\n\t}\r\n\tset ySpeed(newValue: number) {\r\n\t\tthis._ySpeed = newValue;\r\n\t}\r\n\r\n\t// Rotation properties.\r\n\tget rotation(): number {\r\n\t\treturn this._rotation;\r\n\t}\r\n\tset rotation(newValue: number) {\r\n\t\tthis._rotation = newValue;\r\n\t}\r\n\r\n\t// Helper properties.\r\n\tget left(): number {\r\n\t\treturn this._x;\r\n\t}\r\n\tget right(): number {\r\n\t\treturn this._x + this.width;\r\n\t}\r\n\tget top(): number {\r\n\t\treturn this._y;\r\n\t}\r\n\tget bottom(): number {\r\n\t\treturn this._y + this.height;\r\n\t}\r\n\tget centerXPosition(): number {\r\n\t\treturn this._x + (this.width / 2);\r\n\t}\r\n\tget centerYPosition(): number {\r\n\t\treturn this._y + (this.height / 2);\r\n\t}\r\n\tget rotationInDegrees(): number {\r\n\t\treturn this.rotation * LocationComponent.degrees;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\twidth: number,\r\n\t\theight: number,\r\n\t\txSpeed: number,\r\n\t\tySpeed: number,\r\n\t\trotation: number\r\n\t) {\r\n\t\tthis._x = x;\r\n\t\tthis._y = y;\r\n\t\tthis._xSize = width;\r\n\t\tthis._ySize = height;\r\n\t\tthis._xSpeed = xSpeed;\r\n\t\tthis._ySpeed = ySpeed;\r\n\t\tthis._rotation = rotation;\r\n\t}\r\n\r\n\tpublic Duplicate(): LocationComponent {\r\n\t\treturn new LocationComponent(\r\n\t\t\tthis._x,\r\n\t\t\tthis._y,\r\n\t\t\tthis._xSize,\r\n\t\t\tthis._ySize,\r\n\t\t\tthis._xSpeed,\r\n\t\t\tthis._ySpeed,\r\n\t\t\tthis._rotation\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/locationComponent.ts\n **/","import {LocationComponent} from \"entitySystem/LocationComponent\";\r\n\r\nexport class RenderComponent {\r\n\t// Data members.\r\n\tprivate _fillColor: string;\r\n\tprivate _opacity: number;\r\n\tprivate _position: LocationComponent;\r\n\r\n\tget fillColor(): string {\r\n\t\treturn this._fillColor;\r\n\t}\r\n\tset fillColor(newValue: string) {\r\n\t\tthis._fillColor = newValue;\r\n\t}\r\n\r\n\tget opacity(): number {\r\n\t\treturn this._opacity;\r\n\t}\r\n\tset opacity(newValue: number) {\r\n\t\tthis._opacity = newValue;\r\n\t}\r\n\r\n\tget position(): LocationComponent {\r\n\t\treturn this._position;\r\n\t}\r\n\tset position(newValue: LocationComponent) {\r\n\t\tthis._position = newValue;\r\n\t}\r\n\r\n\tconstructor(fillColor: string, opacity: number, position: LocationComponent) {\r\n\t\tthis._fillColor = fillColor;\r\n\t\tthis._opacity = opacity;\r\n\t\tthis._position = position;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/renderComponent.ts\n **/","import {LocationComponent} from \"entitySystem/LocationComponent\";\r\nimport {CallbackArray} from \"entitySystem/callbackArray\";\r\n\r\nexport class CollisionComponent {\r\n\t// Data members.\r\n\tprivate _position: LocationComponent;\r\n\tprivate _onCollide: CallbackArray = new CallbackArray();\r\n\r\n\tget position(): LocationComponent {\r\n\t\treturn this._position;\r\n\t}\r\n\tset position(newValue: LocationComponent) {\r\n\t\tthis._position = newValue;\r\n\t}\r\n\r\n\tget onCollide(): CallbackArray {\r\n\t\treturn this._onCollide;\r\n\t}\r\n\r\n\tconstructor(position: LocationComponent) {\r\n\t\tthis._position = position;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/collisionComponent.ts\n **/","export class CallbackArray extends Array {\r\n\tpublic trigger(): void {\r\n\t\tthis.forEach((individualCallback: Function) => {\r\n\t\t\tindividualCallback();\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/callbackArray.ts\n **/","import {Renderable} from \"renderable\";\r\nimport {Point} from \"point\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Sprite implements Renderable {\r\n\tpublic isAlive: boolean = true;\r\n\tprivate image: HTMLImageElement;\r\n\tprivate internalDimensions: Point;\r\n\r\n\tconstructor(imagePath: string, dimensions: Point) {\r\n\t\tthis.image = new Image();\r\n\t\tthis.image.addEventListener(\"load\", () => { this.loaded(); }, false);\r\n\t\tthis.image.src = imagePath;\r\n\r\n\t\tthis.dimensions = dimensions;\r\n\t}\r\n\r\n\tpublic set dimensions(dimensions: Point) {\r\n\t\tthis.internalDimensions = dimensions;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\t\trenderContext.drawImage(\r\n\t\t\tthis.image,\r\n\t\t\t// Source dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.image.width,\r\n\t\t\tthis.image.height,\r\n\t\t\t// Destination dimensions\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.internalDimensions.x,\r\n\t\t\tthis.internalDimensions.y);\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tprivate loaded(): void {\r\n\t\tconsole.log(\"Loaded: \" + this.image.src);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/sprite.ts\n **/","import {Block} from \"block\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Player} from \"player\";\r\n\r\nexport class Scoreboard extends Block {\r\n\tprivate static fontSizeInPx: number = 200;\r\n\tprivate static fontRotation: number = 0;\r\n\tprivate static bouncePoints: number = 1;\r\n\tprivate static degrees: number = Math.PI / 180;\r\n\r\n\tprivate player: Player;\r\n\tprivate score: number;\r\n\tprivate greatestHeightReached: number;\r\n\tprivate multiplier: number;\r\n\tprivate points: number;\r\n\r\n\tpublic constructor(player: Player, worldPosition: MovingPoint, dimensions: Point, color: string) {\r\n\t\tsuper(worldPosition, dimensions, color, 0);\r\n\r\n\t\tthis.player = player;\r\n\r\n\t\tthis.player.collisionComponent.onCollide.push(() => {\r\n\t\t\tthis.score = Math.round((this.score + Scoreboard.bouncePoints) * 10) / 10;\r\n\t\t});\r\n\r\n\t\tlet originalOnMove: (amountMoved: Point) => void = this.player.onMove;\r\n\t\tthis.player.onMove = (amountMoved: Point) => {\r\n\r\n\t\t\tlet currentHeight: number = -this.player.locationComponent.top;\r\n\t\t\tif (currentHeight > this.greatestHeightReached) {\r\n\t\t\t\tthis.greatestHeightReached = currentHeight;\r\n\t\t\t\tthis.multiplier = Math.round(this.greatestHeightReached / 10) / 100;\r\n\t\t\t\tthis.points = Math.round(this.score * this.multiplier * 10) / 10;\r\n\t\t\t}\r\n\r\n\t\t\tif (originalOnMove) {\r\n\t\t\t\toriginalOnMove(amountMoved);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.score = 0;\r\n\t\tthis.greatestHeightReached = 0;\r\n\t\tthis.multiplier = 0;\r\n\t\tthis.points = 0;\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D): Renderable[] {\r\n\t\trenderContext.beginPath();\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.fillStyle = this.fillColor;\r\n\t\trenderContext.font = \"\" + Scoreboard.fontSizeInPx + \"px Oswald\";\r\n\r\n\t\trenderContext.translate(this.locationComponent.centerXPosition, this.locationComponent.centerYPosition);\r\n\t\trenderContext.rotate(Scoreboard.fontRotation * Scoreboard.degrees);\r\n\t\trenderContext.translate(-this.locationComponent.centerXPosition, -this.locationComponent.centerYPosition);\r\n\r\n\t\trenderContext.fillText(\r\n\t\t\tthis.score.toString(),\r\n\t\t\tthis.locationComponent.xPosition,\r\n\t\t\tthis.locationComponent.yPosition + Scoreboard.fontSizeInPx);\r\n\r\n\t\trenderContext.font = \"\" + (Scoreboard.fontSizeInPx / 2) + \"px Oswald\";\r\n\t\trenderContext.fillText(\r\n\t\t\t\"x \" + this.multiplier.toString(),\r\n\t\t\tthis.locationComponent.xPosition,\r\n\t\t\tthis.locationComponent.yPosition + (1.5 * Scoreboard.fontSizeInPx));\r\n\r\n\t\trenderContext.globalAlpha = 0.5;\r\n\t\trenderContext.fillStyle = this.player.fillColor;\r\n\t\trenderContext.fillText(\r\n\t\t\t\"~ \" + this.points.toString(),\r\n\t\t\tthis.locationComponent.xPosition,\r\n\t\t\tthis.locationComponent.yPosition + (2 * Scoreboard.fontSizeInPx));\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\treturn [] as Renderable[];\r\n\t}\r\n\r\n\tpublic get totalPoints(): number {\r\n\t\treturn this.points;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.score = 0;\r\n\t\tthis.greatestHeightReached = 0;\r\n\t\tthis.multiplier = 0;\r\n\t\tthis.points = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scoreboard.ts\n **/","import {Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Player} from \"player\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Background implements Renderable {\r\n\tpublic isAlive: boolean = true;\r\n\tpublic showArrow: boolean = false;\r\n\r\n\tprivate renderPosition: Point;\r\n\tprivate renderDimensions: Point;\r\n\tprivate color: string;\r\n\tprivate offset: number = 0;\r\n\tprivate staticBackground: Sprite;\r\n\tprivate stars1: Sprite;\r\n\tprivate stars2: Sprite;\r\n\tprivate upArrow: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\trenderPosition: Point,\r\n\t\trenderDimensions: Point,\r\n\t\tcolor: string,\r\n\t\tplayer: Player\r\n\t) {\r\n\t\tthis.renderPosition = renderPosition;\r\n\t\tthis.renderDimensions = renderDimensions;\r\n\t\tthis.color = color;\r\n\r\n\t\tthis.staticBackground = new Sprite(\"img/staticBackground.png\", renderDimensions);\r\n\t\tthis.stars1 = new Sprite(\"img/stars1.png\", { x: renderDimensions.x, y: renderDimensions.y * 2 });\r\n\t\tthis.stars2 = new Sprite(\"img/stars2.png\", { x: renderDimensions.x, y: renderDimensions.y * 2 });\r\n\t\tthis.upArrow = new Sprite(\"img/upArrow.png\", { x: 120, y: 99 });\r\n\t}\r\n\r\n\tpublic SlideUpTo(y: number): void {\r\n\t\tif (y > this.offset) {\r\n\t\t\tthis.offset = y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\r\n\t\tlet result: Renderable[] = [];\r\n\r\n\t\tresult = result.concat(this.staticBackground.Render(renderContext, orchestrator));\r\n\r\n\t\tlet lowerYPosition1: number = this.offset % (this.renderDimensions.y * 2);\r\n\t\tlet upperYPosition1: number = lowerYPosition1 - (this.renderDimensions.y * 2);\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, lowerYPosition1);\r\n\t\tresult = result.concat(this.stars1.Render(renderContext, orchestrator));\r\n\t\trenderContext.restore();\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, upperYPosition1);\r\n\t\tresult = result.concat(this.stars1.Render(renderContext, orchestrator));\r\n\t\trenderContext.restore();\r\n\r\n\t\tlet lowerYPosition2: number = (this.offset / 2) % (this.renderDimensions.y * 2);\r\n\t\tlet upperYPosition2: number = lowerYPosition2 - (this.renderDimensions.y * 2);\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, lowerYPosition2);\r\n\t\tresult = result.concat(this.stars2.Render(renderContext, orchestrator));\r\n\t\trenderContext.restore();\r\n\r\n\t\trenderContext.save();\r\n\t\trenderContext.translate(0, upperYPosition2);\r\n\t\tresult = result.concat(this.stars2.Render(renderContext, orchestrator));\r\n\t\trenderContext.restore();\r\n\r\n\t\tif (this.showArrow && this.offset < (this.renderDimensions.y * 2)) {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.globalAlpha = 0.5;\r\n\t\t\trenderContext.translate(300, this.offset + 40);\r\n\t\t\tthis.upArrow.Render(renderContext, orchestrator);\r\n\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.showArrow = true;\r\n\t\tthis.offset = 0;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/background.ts\n **/","import {Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {RenderSystem} from \"entitySystem/renderSystem\";\r\n\r\nexport class Viewport {\r\n\tprivate renderContext: CanvasRenderingContext2D;\r\n\tprivate fixedRenderables: Renderable[];\r\n\tprivate backgroundRenderables: Renderable[];\r\n\tprivate foregroundRenderables: Renderable[];\r\n\tprivate initialBackgroundRenderables: Renderable[];\r\n\tprivate initialForegroundRenderables: Renderable[];\r\n\tprivate renderOffset: number;\r\n\tprivate orchestrator: Orchestrator;\r\n\r\n\tpublic get renderDimensions(): Point {\r\n\t\treturn {\r\n\t\t\tx: this.renderContext.canvas.width,\r\n\t\t\ty: this.renderContext.canvas.height\r\n\t\t};\r\n\t}\r\n\r\n\tpublic get offset(): number {\r\n\t\treturn this.renderOffset;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\trenderContext: CanvasRenderingContext2D,\r\n\t\tfixedRenderables: Renderable[],\r\n\t\tbackgroundRenderables: Renderable[],\r\n\t\tforegroundRenderables: Renderable[],\r\n\t\torchestrator: Orchestrator\r\n\t) {\r\n\t\tthis.renderContext = renderContext;\r\n\t\tthis.fixedRenderables = fixedRenderables;\r\n\t\tthis.backgroundRenderables = backgroundRenderables;\r\n\t\tthis.foregroundRenderables = foregroundRenderables;\r\n\t\tthis.initialBackgroundRenderables = [].concat(backgroundRenderables);\r\n\t\tthis.initialForegroundRenderables = [].concat(foregroundRenderables);\r\n\t\tthis.renderOffset = 0;\r\n\t\tthis.orchestrator = orchestrator;\r\n\t}\r\n\r\n\tpublic SlideUpTo(y: number): void {\r\n\t\tif (y > this.renderOffset) {\r\n\t\t\tthis.renderOffset = y;\r\n\t\t\t(this.orchestrator.GetSystem(\"render\") as RenderSystem).offsetY = y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Render(fps?: number): void {\r\n\t\tthis.renderContext.save();\r\n\r\n\t\tthis.renderContext.translate(0, this.renderOffset);\r\n\r\n\t\tthis.backgroundRenderables = this.RenderSubSet(this.backgroundRenderables);\r\n\r\n\t\tthis.renderContext.restore();\r\n\r\n\t\tthis.fixedRenderables = this.RenderSubSet(this.fixedRenderables);\r\n\r\n\t\tthis.renderContext.save();\r\n\r\n\t\tthis.renderContext.translate(0, this.renderOffset);\r\n\r\n\t\tthis.foregroundRenderables = this.RenderSubSet(this.foregroundRenderables);\r\n\r\n\t\tthis.renderContext.restore();\r\n\r\n\t\tif (fps) {\r\n\t\t\tthis.renderContext.fillStyle = \"#FFFFFF\";\r\n\t\t\tthis.renderContext.fillText(\"FPS: \" + fps.toString(), 0, 10);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.renderOffset = 0;\r\n\t\t(this.orchestrator.GetSystem(\"render\") as RenderSystem).offsetY = 0;\r\n\t\tthis.backgroundRenderables = [].concat(this.initialBackgroundRenderables);\r\n\t\tthis.foregroundRenderables = [].concat(this.initialForegroundRenderables);\r\n\t}\r\n\r\n\tprivate RenderSubSet(subSet: Renderable[]): Renderable[] {\r\n\t\tlet newRenderables: Renderable[] = subSet;\r\n\t\tfor (let i: number = 0; i < subSet.length; i++) {\r\n\t\t\tnewRenderables = subSet[i].Render(this.renderContext, this.orchestrator).concat(newRenderables);\r\n\t\t}\r\n\r\n\t\treturn newRenderables.filter((renderable: Renderable) => {\r\n\t\t\treturn renderable.isAlive;\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/viewport.ts\n **/","import {Renderable} from \"renderable\";\r\nimport {Controller} from \"controller\";\r\nimport {Background} from \"background\";\r\nimport {Sound} from \"sound\";\r\nimport {Volume} from \"volume\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Point} from \"point\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Menu implements Renderable {\r\n\tprivate static titleFontSizeInPx: number = 90;\r\n\tprivate static scoreFontSizeInPx: number = 50;\r\n\tprivate static playFontSizeInPx: number = 50;\r\n\tprivate static buttonWidth: number = 225;\r\n\tprivate static buttonHeight: number = 100;\r\n\tprivate static fadeInRate: number = 0.02;\r\n\r\n\tpublic isAlive: boolean = true;\r\n\r\n\tprivate renderDimensions: Point;\r\n\tprivate background: Background;\r\n\tprivate isMenuOpen: boolean;\r\n\tprivate playButtonPosition: Point;\r\n\tprivate isButtonHovered: boolean;\r\n\tprivate controller: Controller;\r\n\tprivate onStartGame: () => void;\r\n\tprivate opacity: number;\r\n\tprivate lastPoints: number;\r\n\tprivate scoreColor: string;\r\n\tprivate buttonHover: Sound;\r\n\tprivate buttonUnhover: Sound;\r\n\tprivate buttonClick: Sound;\r\n\tprivate controlPosition: Point;\r\n\tprivate controlDiagram: Sprite;\r\n\r\n\tpublic constructor(\r\n\t\trenderDimensions: Point,\r\n\t\tcontroller: Controller,\r\n\t\tbackground: Background,\r\n\t\tonStartGame: () => void,\r\n\t\tvolume: Volume\r\n\t) {\r\n\t\tthis.renderDimensions = renderDimensions;\r\n\t\tthis.background = background;\r\n\t\tthis.isMenuOpen = true;\r\n\t\tthis.isButtonHovered = false;\r\n\t\tthis.controller = controller;\r\n\t\tthis.onStartGame = onStartGame;\r\n\r\n\t\tthis.opacity = 0;\r\n\r\n\t\tthis.playButtonPosition = {\r\n\t\t\tx: (renderDimensions.x - Menu.buttonWidth) / 2,\r\n\t\t\ty: (renderDimensions.y - (Menu.buttonHeight * 2)) + 0.5 // 0.5 for stroke alignment\r\n\t\t};\r\n\r\n\t\tthis.buttonHover = volume.createSound(\"snd/button_on.wav\", {});\r\n\t\tthis.buttonUnhover = volume.createSound(\"snd/button_off.wav\", {});\r\n\t\tthis.buttonClick = volume.createSound(\"snd/button_click.wav\", {});\r\n\r\n\t\tthis.controlPosition = { x: 45, y: 300};\r\n\t\tthis.controlDiagram = new Sprite(\"img/controls.png\", { x: 390, y: 237 });\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\t\tlet mouseClick: Point = this.controller.getClickPosition();\r\n\t\tif ((mouseClick && this.isPointOnButton(mouseClick))\r\n\t\t\t|| this.controller.isKeyPressed(\"enter\")\r\n\t\t\t|| this.controller.isKeyPressed(\"e\")\r\n\t\t) {\r\n\t\t\tthis.buttonClick.play();\r\n\t\t\tthis.onStartGame();\r\n\t\t}\r\n\r\n\t\tlet buttonIsNowHovered: boolean = this.isPointOnButton(this.controller.getMousePosition());\r\n\r\n\t\tif (buttonIsNowHovered && !this.isButtonHovered) {\r\n\t\t\tthis.buttonHover.play();\r\n\t\t} else if (!buttonIsNowHovered && this.isButtonHovered) {\r\n\t\t\tthis.buttonUnhover.play();\r\n\t\t}\r\n\r\n\t\tthis.isButtonHovered = buttonIsNowHovered;\r\n\r\n\t\tthis.background.Render(renderContext, orchestrator);\r\n\r\n\t\tlet horizontalCenter: number = (this.renderDimensions.x / 2);\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.font = \"\" + Menu.titleFontSizeInPx + \"px Oswald\";\r\n\t\trenderContext.fillStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t\trenderContext.textAlign = \"center\";\r\n\t\trenderContext.fillText(\"Quadrilactic\", horizontalCenter, Menu.titleFontSizeInPx + 50);\r\n\r\n\t\tif (this.lastPoints) {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.font = \"\" + Menu.scoreFontSizeInPx + \"px Oswald\";\r\n\t\t\trenderContext.fillStyle = this.scoreColor;\r\n\t\t\trenderContext.globalAlpha = this.opacity;\r\n\t\t\trenderContext.textAlign = \"center\";\r\n\t\t\trenderContext.fillText(\"Score: \" + this.lastPoints, horizontalCenter, Menu.titleFontSizeInPx + Menu.scoreFontSizeInPx + 70);\r\n\r\n\t\t\trenderContext.restore();\r\n\t\t}\r\n\r\n\t\tif (this.isButtonHovered) {\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.playButtonPosition.x,\r\n\t\t\t\tthis.playButtonPosition.y,\r\n\t\t\t\tMenu.buttonWidth,\r\n\t\t\t\tMenu.buttonHeight);\r\n\t\t}\r\n\t\trenderContext.strokeStyle = \"rgba(255,255,255,\" + this.opacity + \")\";\r\n\t\trenderContext.lineWidth = 3;\r\n\t\trenderContext.strokeRect(\r\n\t\t\tthis.playButtonPosition.x,\r\n\t\t\tthis.playButtonPosition.y,\r\n\t\t\tMenu.buttonWidth,\r\n\t\t\tMenu.buttonHeight);\r\n\r\n\t\trenderContext.font = \"\" + Menu.playFontSizeInPx + \"px Oswald\";\r\n\t\trenderContext.fillStyle = (this.isButtonHovered ? \"rgba(0,0,0,\" : \"rgba(255,255,255,\") + this.opacity + \")\";\r\n\t\trenderContext.textAlign = \"center\";\r\n\t\trenderContext.fillText(\"Play\", horizontalCenter, (Menu.playFontSizeInPx * 1.45) + this.playButtonPosition.y);\r\n\r\n\t\t// Draw the controls\r\n\t\trenderContext.globalAlpha = this.opacity;\r\n\t\trenderContext.translate(this.controlPosition.x, this.controlPosition.y);\r\n\t\tthis.controlDiagram.Render(renderContext, orchestrator);\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\tthis.opacity = Math.min(1, this.opacity + Menu.fadeInRate);\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tpublic showMenu(totalPoints: number, scoreColor: string): void {\r\n\t\tthis.isMenuOpen = true;\r\n\t\tthis.opacity = 0;\r\n\t\tthis.lastPoints = totalPoints;\r\n\t\tthis.scoreColor = scoreColor;\r\n\t}\r\n\r\n\tprivate isPointOnButton(point: Point): boolean {\r\n\t\treturn point\r\n\t\t\t&& point.x > this.playButtonPosition.x\r\n\t\t\t&& point.x < this.playButtonPosition.x + Menu.buttonWidth\r\n\t\t\t&& point.y > this.playButtonPosition.y\r\n\t\t\t&& point.y < this.playButtonPosition.y + Menu.buttonHeight;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu.ts\n **/","import {Renderable} from \"renderable\";\r\nimport {Controller} from \"controller\";\r\nimport {Sound, SoundOptions} from \"sound\";\r\nimport {Point} from \"point\";\r\nimport {Sprite} from \"sprite\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Volume implements Renderable {\r\n\tprivate static opacityDecay: number =  0.02;\r\n\tprivate static fadedOpacity: number = 0.4;\r\n\tpublic isAlive: boolean = true;\r\n\tprivate soundButtonPosition: Point;\r\n\tprivate soundButtonDimensions: Point;\r\n\tprivate controller: Controller;\r\n\tprivate level: number;\r\n\tprivate volume0: Sprite;\r\n\tprivate volume1: Sprite;\r\n\tprivate volume2: Sprite;\r\n\tprivate volume3: Sprite;\r\n\tprivate volume4: Sprite;\r\n\tprivate opacity: number;\r\n\tprivate sounds: Sound[];\r\n\tprivate isVolumeKeyPressed: boolean;\r\n\tprivate volumeChanged: Sound;\r\n\r\n\tpublic constructor(renderDimensions: Point, controller: Controller) {\r\n\t\tthis.controller = controller;\r\n\r\n\t\tthis.soundButtonPosition = {\r\n\t\t\tx: renderDimensions.x - 40,\r\n\t\t\ty: 10\r\n\t\t};\r\n\r\n\t\tthis.soundButtonDimensions = {\r\n\t\t\tx: 30,\r\n\t\t\ty: 30\r\n\t\t};\r\n\r\n\t\tthis.opacity = Volume.fadedOpacity;\r\n\t\tthis.level = parseInt(localStorage.getItem(\"volumePosition\") || 2, 10);\r\n\r\n\t\tthis.volume0 = new Sprite(\"img/volume0.png\", this.soundButtonDimensions);\r\n\t\tthis.volume1 = new Sprite(\"img/volume1.png\", this.soundButtonDimensions);\r\n\t\tthis.volume2 = new Sprite(\"img/volume2.png\", this.soundButtonDimensions);\r\n\t\tthis.volume3 = new Sprite(\"img/volume3.png\", this.soundButtonDimensions);\r\n\t\tthis.volume4 = new Sprite(\"img/volume4.png\", this.soundButtonDimensions);\r\n\r\n\t\tthis.isVolumeKeyPressed = false;\r\n\r\n\t\tthis.sounds = [];\r\n\r\n\t\tthis.volumeChanged = this.createSound(\"snd/volume.wav\", {});\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\t\tlet mouseClick: Point = this.controller.getClickPosition();\r\n\t\tif (mouseClick && this.isPointOnButton(mouseClick)) {\r\n\t\t\tthis.changeVolume();\r\n\t\t}\r\n\r\n\t\tif (this.isPointOnButton(this.controller.getMousePosition())) {\r\n\t\t\tthis.opacity = 1;\r\n\t\t}\r\n\r\n\t\tif (this.controller.isKeyPressed([\"m\", \"v\"])) {\r\n\t\t\tif (!this.isVolumeKeyPressed) {\r\n\t\t\t\tthis.changeVolume();\r\n\t\t\t\tthis.isVolumeKeyPressed = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.isVolumeKeyPressed = false;\r\n\t\t}\r\n\r\n\t\tthis.opacity = Math.max(this.opacity - Volume.opacityDecay, Volume.fadedOpacity);\r\n\r\n\t\trenderContext.save();\r\n\r\n\t\trenderContext.globalAlpha = this.opacity;\r\n\r\n\t\trenderContext.translate(this.soundButtonPosition.x, this.soundButtonPosition.y);\r\n\r\n\t\tswitch (this.level) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.volume0.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.volume1.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.volume2.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.volume3.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.volume4.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.volume4.Render(renderContext, orchestrator);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\trenderContext.restore();\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\tpublic createSound(path: string, options: SoundOptions): Sound\t{\r\n\t\tlet newSound: Sound = new Sound(path, options);\r\n\r\n\t\tnewSound.volume = this.level / 5;\r\n\r\n\t\tthis.sounds.push(newSound);\r\n\r\n\t\treturn newSound;\r\n\t}\r\n\r\n\tprivate isPointOnButton(point: Point): boolean {\r\n\t\treturn point\r\n\t\t\t&& point.x > this.soundButtonPosition.x\r\n\t\t\t&& point.x < this.soundButtonPosition.x + this.soundButtonDimensions.x\r\n\t\t\t&& point.y > this.soundButtonPosition.y\r\n\t\t\t&& point.y < this.soundButtonPosition.y + this.soundButtonDimensions.y;\r\n\t}\r\n\r\n\tprivate changeVolume(): void {\r\n\t\tthis.opacity = 1;\r\n\r\n\t\tthis.level = Math.round(this.level >= 4 ? 0 : this.level + 1);\r\n\r\n\t\tlocalStorage.setItem(\"volumePosition\", this.level.toString());\r\n\r\n\t\tthis.sounds.forEach((sound: Sound) => {\r\n\t\t\tsound.volume = this.level / 5;\r\n\t\t});\r\n\r\n\t\tthis.volumeChanged.play();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/volume.ts\n **/","export interface SoundOptions {\r\n\tvolume?: number;\r\n\tisLooping?: boolean;\r\n}\r\n\r\nexport class Sound {\r\n\tprivate static defaultVolume: number = 0.3;\r\n\r\n\tprivate sound: HTMLAudioElement;\r\n\r\n\tconstructor(path: string, options: SoundOptions) {\r\n\t\tthis.sound = new Audio(path);\r\n\t\tthis.sound.volume = options.volume || Sound.defaultVolume;\r\n\t\tthis.sound.loop = options.isLooping === true;\r\n\t}\r\n\r\n\tpublic play(): void {\r\n\t\tthis.sound.play();\r\n\t}\r\n\r\n\tpublic set volume(newVolume: number) {\r\n\t\tthis.sound.volume = newVolume;\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/sound.ts\n **/","import {PhysicsBlock} from \"physicsBlock\";\r\nimport {MovingPoint, Point} from \"point\";\r\nimport {Renderable} from \"renderable\";\r\nimport {Viewport} from \"viewport\";\r\nimport {Volume} from \"volume\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class Platform extends PhysicsBlock {\r\n\tprivate static platformSpeedIncrease: number = 1000;\r\n\tprivate static minimumReboundSpeed: number = 10;\r\n\r\n\tpublic viewport: Viewport;\r\n\r\n\tprivate get bottomOfScreen(): number {\r\n\t\treturn this.viewport.renderDimensions.y - this.viewport.offset;\r\n\t}\r\n\r\n\tprivate get offscreenAmount(): number {\r\n\t\treturn Math.max(this.locationComponent.top - this.bottomOfScreen, 0);\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tworldPosition: MovingPoint,\r\n\t\tdimensions: Point,\r\n\t\tcolor: string,\r\n\t\tgravity: number,\r\n\t\tvolume: Volume,\r\n\t\tworldWidth: number\r\n\t) {\r\n\t\tsuper(worldPosition, dimensions, color, gravity, volume, 10, worldWidth);\r\n\r\n\t\tthis.collisionComponent.onCollide.push(() => {\r\n\t\t\tif (this.locationComponent.ySpeed < Platform.minimumReboundSpeed) {\r\n\t\t\t\tthis.locationComponent.ySpeed = Platform.minimumReboundSpeed;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tthis.locationComponent.xSpeed =\r\n\t\t\tthis.locationComponent.xSpeed * (\r\n\t\t\t\t(Platform.platformSpeedIncrease + deltaTime) / Platform.platformSpeedIncrease);\r\n\r\n\t\tsuper.Tick(deltaTime);\r\n\t}\r\n\r\n\tpublic Render(renderContext: CanvasRenderingContext2D, orchestrator: Orchestrator): Renderable[] {\r\n\t\tif (this.offscreenAmount <= 0) {\r\n\t\t\treturn super.Render(renderContext, orchestrator);\r\n\t\t} else {\r\n\t\t\trenderContext.save();\r\n\r\n\t\t\trenderContext.fillStyle = this.fillColor;\r\n\r\n\t\t\trenderContext.globalAlpha = 0.2;\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.locationComponent.left,\r\n\t\t\t\tthis.bottomOfScreen - this.locationComponent.height,\r\n\t\t\t\tthis.locationComponent.width,\r\n\t\t\t\tthis.locationComponent.height\r\n\t\t\t);\r\n\r\n\t\t\trenderContext.globalAlpha = 1;\r\n\t\t\trenderContext.fillRect(\r\n\t\t\t\tthis.locationComponent.left,\r\n\t\t\t\tthis.bottomOfScreen - this.locationComponent.height,\r\n\t\t\t\t((this.offscreenAmount / 10) % this.locationComponent.width),\r\n\t\t\t\tthis.locationComponent.height\r\n\t\t\t);\r\n\r\n\t\t\trenderContext.restore();\r\n\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform.ts\n **/","import {Point} from \"point\";\r\n\r\nexport class Controller {\r\n\tprivate static keyCodes: { [keyCode: number]: string } = {\r\n\t\t13: \"enter\",\r\n\t\t32: \"space\",\r\n\t\t37: \"left\",\r\n\t\t38: \"up\",\r\n\t\t39: \"right\",\r\n\t\t65: \"a\",\r\n\t\t68: \"d\",\r\n\t\t69: \"e\",\r\n\t\t77: \"m\",\r\n\t\t86: \"v\",\r\n\t\t87: \"w\"\r\n\t};\r\n\r\n\tprivate isKeyPressedState: { [keyName: string]: boolean } = {\r\n\t\t\"enter\": false,\r\n\t\t\"space\": false,\r\n\t\t\"left\": false,\r\n\t\t\"up\": false,\r\n\t\t\"right\": false,\r\n\t\t\"a\": false,\r\n\t\t\"d\": false,\r\n\t\t\"e\": false,\r\n\t\t\"m\": false,\r\n\t\t\"v\": false,\r\n\t\t\"w\": false\r\n\t};\r\n\r\n\tprivate mousePosition: Point;\r\n\r\n\tprivate clickLocation: Point;\r\n\r\n\tprivate canvas: HTMLCanvasElement;\r\n\r\n\tconstructor(canvas: HTMLCanvasElement) {\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\twindow.addEventListener(\"keyup\", (event: KeyboardEvent) => {\r\n\t\t\tthis.handleKeyUp(event);\r\n\t\t});\r\n\r\n\t\twindow.addEventListener(\"keydown\", (event: KeyboardEvent) => {\r\n\t\t\tthis.handleKeyDown(event);\r\n\r\n\t\t\t// Prevent known key codes executing their default action.\r\n\t\t\tif (Controller.keyCodes[event.keyCode]) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener(\"mousemove\", (event: MouseEvent) => {\r\n\t\t\tthis.handleMouseMove(event);\r\n\t\t});\r\n\r\n\t\tcanvas.addEventListener(\"mousedown\", (event: MouseEvent) => {\r\n\t\t\tthis.handleMouseDown(event);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic isKeyPressed(key: string | string[]): boolean {\r\n\t\tlet keys: string[] = [].concat(key);\r\n\t\treturn keys.some((value: string) => {\r\n\t\t\treturn this.isKeyPressedState[value];\r\n\t\t});\r\n\t}\r\n\r\n\tpublic getMousePosition(): Point {\r\n\t\treturn this.mousePosition;\r\n\t}\r\n\r\n\tpublic getClickPosition(): Point {\r\n\t\treturn this.clickLocation;\r\n\t}\r\n\r\n\tpublic clearClick(): void {\r\n\t\tthis.clickLocation = undefined;\r\n\t}\r\n\r\n\tprivate handleKeyUp(event: KeyboardEvent): void {\r\n\t\tlet key: string = Controller.keyCodes[event.keyCode];\r\n\t\tthis.isKeyPressedState[key] = false;\r\n\t}\r\n\r\n\tprivate handleKeyDown(event: KeyboardEvent): void {\r\n\t\tlet key: string = Controller.keyCodes[event.keyCode];\r\n\t\tthis.isKeyPressedState[key] = true;\r\n\t}\r\n\r\n\tprivate handleMouseMove(event: MouseEvent): void {\r\n\t\tlet canvasElementPosition: ClientRect = this.canvas.getBoundingClientRect();\r\n\t\tthis.mousePosition  = {\r\n\t\t\tx: event.clientX - canvasElementPosition.left,\r\n\t\t\ty: event.clientY - canvasElementPosition.top,\r\n\t\t};\r\n\t}\r\n\r\n\tprivate handleMouseDown(event: MouseEvent): void {\r\n\t\tlet canvasElementPosition: ClientRect = this.canvas.getBoundingClientRect();\r\n\t\tthis.clickLocation = {\r\n\t\t\tx: event.clientX - canvasElementPosition.left,\r\n\t\t\ty: event.clientY - canvasElementPosition.top,\r\n\t\t};\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controller.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\n\r\ninterface Systems {\r\n\t[name: string]: System;\r\n}\r\n\r\nexport class Orchestrator {\r\n\t// The list of entities currently in the system.\r\n\tprivate _entities: Entity[];\r\n\r\n\t// Storage of entities to add/remove at the end of the tick.\r\n\tprivate _entitiesToAdd: Entity[];\r\n\tprivate _entitiesToRemove: Entity[];\r\n\r\n\tprivate _preSystems: Systems;\r\n\tprivate _mainSystems: Systems;\r\n\tprivate _postSystems: Systems;\r\n\r\n\tpublic get entities(): Entity[] {\r\n\t\treturn this._entities;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tinitialEntities: Entity[],\r\n\t\tpreSystems: Systems = {},\r\n\t\tmainSystems: Systems = {},\r\n\t\tpostSystems: Systems = {}\r\n\t) {\r\n\t\tthis._entities = initialEntities;\r\n\r\n\t\tthis._preSystems = preSystems;\r\n\t\tthis._mainSystems = mainSystems;\r\n\t\tthis._postSystems = postSystems;\r\n\r\n\t\tthis._entitiesToAdd = [];\r\n\t\tthis._entitiesToRemove = [];\r\n\t}\r\n\r\n\tpublic Tick(deltaTime: number): void {\r\n\t\tif (this._entities.length > 500) {\r\n\t\t\tthrow new RangeError(\"Sanity check failed: Large number of entities\");\r\n\t\t}\r\n\r\n\t\tthis.RunSystems(this._preSystems, deltaTime);\r\n\t\tthis.RunSystems(this._mainSystems, deltaTime);\r\n\t\tthis.RunSystems(this._postSystems, deltaTime);\r\n\r\n\t\t// Add any new entities.\r\n\t\tthis._entities = this._entities.concat(this._entitiesToAdd);\r\n\r\n\t\t// Remove any dead entities.\r\n\t\tthis._entities = this._entities.filter(\r\n\t\t\t(entity: Entity) => {\r\n\t\t\t\treturn this._entitiesToRemove.indexOf(entity) < 0;\r\n\t\t\t},\r\n\t\t\tthis);\r\n\r\n\t\t// Reset the add/remove lists\r\n\t\tthis._entitiesToAdd = [];\r\n\t\tthis._entitiesToRemove = [];\r\n\t}\r\n\r\n\tpublic Add(entity: Entity): void {\r\n\t\tthis._entitiesToAdd.push(entity);\r\n\t}\r\n\r\n\tpublic Remove(entity: Entity): void {\r\n\t\tthis._entitiesToRemove.push(entity);\r\n\t}\r\n\r\n\tpublic GetSystem(name: string): System {\r\n\t\treturn this._mainSystems[name] || this._preSystems[name] || this._postSystems[name];\r\n\t}\r\n\r\n\tprivate RunSystems(systems: Systems, deltaTime: number): void {\r\n\t\tfor (let systemName in systems) {\r\n\t\t\tif (systems.hasOwnProperty(systemName)) {\r\n\t\t\t\tsystems[systemName].Run(this._entities, this, deltaTime);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/orchestrator.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class LocationSystem extends System {\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number ): void {\r\n\t\t\"noOp\".toString();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/locationSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport abstract class System {\r\n\r\n\tprotected static ApplyToIndividuals(\r\n\t\tentities: Entity[],\r\n\t\tpredicate: (entity: Entity) => boolean,\r\n\t\tlogic: (entity: Entity) => void\r\n\t): void {\r\n\t\tentities.filter((entity: Entity) => {\r\n\t\t\treturn predicate(entity);\r\n\t\t}).forEach((entity: Entity) => {\r\n\t\t\tlogic(entity);\r\n\t\t});\r\n\t}\r\n\r\n\tprotected static ApplyToPairs(\r\n\t\tentities: Entity[],\r\n\t\tpredicate: (entity: Entity) => boolean,\r\n\t\tlogic: (entityA: Entity, entityB: Entity) => void\r\n\t): void {\r\n\t\tlet filteredEntities: Entity[] = entities.filter((entity: Entity) => {\r\n\t\t\treturn predicate(entity);\r\n\t\t});\r\n\r\n\t\tfor (let i: number = 0; i < filteredEntities.length - 1; i++) {\r\n\t\t\t// Store the inner entity to save on lookups.\r\n\t\t\tlet entityA: Entity = filteredEntities[i];\r\n\r\n\t\t\tfor (let j: number = i + 1; j < filteredEntities.length; j++) {\r\n\t\t\t\tlogic(entityA, filteredEntities[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic abstract Run(\r\n\t\tentities: Entity[],\r\n\t\torchestrator: Orchestrator,\r\n\t\tdeltaTime: number\r\n\t): void;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/system.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\nimport {LocationComponent} from \"entitySystem/locationComponent\";\r\nimport {RenderComponent} from \"entitySystem/renderComponent\";\r\n\r\nexport class RenderSystem extends System {\r\n\tprivate _renderContext: CanvasRenderingContext2D;\r\n\tprivate _offsetX: number = 0;\r\n\tprivate _offsetY: number = 0;\r\n\r\n\tpublic get offsetX(): number {\r\n\t\treturn this._offsetX;\r\n\t}\r\n\tpublic set offsetX(newValue: number) {\r\n\t\tthis._offsetX = newValue;\r\n\t}\r\n\tpublic get offsetY(): number {\r\n\t\treturn this._offsetY;\r\n\t}\r\n\tpublic set offsetY(newValue: number) {\r\n\t\tthis._offsetY = newValue;\r\n\t}\r\n\r\n\tconstructor(renderContext: CanvasRenderingContext2D) {\r\n\t\tsuper();\r\n\r\n\t\tthis._renderContext = renderContext;\r\n\t}\r\n\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number ): void {\r\n\t\tSystem.ApplyToIndividuals(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.renderComponent;\r\n\t\t\t},\r\n\t\t\t(entity: Entity): void => {\r\n\t\t\t\tthis.Draw(entity, orchestrator, deltaTime);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate Draw(entity: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\t// TODO: Orchestrator shouldn't invoke if there isn't a relevant component.\r\n\t\tif (!entity.renderComponent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._renderContext.save();\r\n\r\n\t\tlet renderComponent: RenderComponent = entity.renderComponent;\r\n\r\n\t\tthis._renderContext.globalAlpha = renderComponent.opacity;\r\n\r\n\t\tthis.OffsetViewport();\r\n\r\n\t\tthis.RotateAroundCenter(renderComponent.position);\r\n\t\tthis.MoveToPosition(renderComponent.position);\r\n\r\n\t\tthis.DrawRect(renderComponent);\r\n\r\n\t\tthis._renderContext.restore();\r\n\r\n\t\t// Fade out.\r\n\t\trenderComponent.opacity -= 0.01;\r\n\t\tif (renderComponent.opacity <= 0) {\r\n\t\t\torchestrator.Remove(entity);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate RotateAroundCenter(position: LocationComponent): void {\r\n\t\t// Move the center of the entity to the origin\r\n\t\tthis._renderContext.translate(\r\n\t\t\tposition.centerXPosition,\r\n\t\t\tposition.centerYPosition);\r\n\r\n\t\t// Rotate around the origin\r\n\t\tthis._renderContext.rotate(position.rotationInDegrees);\r\n\r\n\t\t// Move back to the original position\r\n\t\tthis._renderContext.translate(\r\n\t\t\t-position.centerXPosition,\r\n\t\t\t-position.centerYPosition);\r\n\t}\r\n\r\n\tprivate MoveToPosition(position: LocationComponent): void {\r\n\t\tthis._renderContext.translate(\r\n\t\t\tposition.xPosition,\r\n\t\t\tposition.yPosition);\r\n\t}\r\n\r\n\tprivate OffsetViewport(): void {\r\n\t\tthis._renderContext.translate(\r\n\t\t\tthis._offsetX,\r\n\t\t\tthis._offsetY);\r\n\t}\r\n\r\n\tprivate DrawRect(renderComponent: RenderComponent): void {\r\n\t\t// Begin the shape.\r\n\t\tthis._renderContext.beginPath();\r\n\r\n\t\t// Create the rectangle.\r\n\t\tthis._renderContext.rect(\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\trenderComponent.position.width,\r\n\t\t\trenderComponent.position.height);\r\n\r\n\t\t// Fill it in.\r\n\t\tthis._renderContext.fillStyle = renderComponent.fillColor;\r\n\t\tthis._renderContext.fill();\r\n\r\n\t\t// End the shape.\r\n\t\tthis._renderContext.closePath();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/renderSystem.ts\n **/","import {Entity} from \"entitySystem/entity\";\r\nimport {System} from \"entitySystem/system\";\r\nimport {Orchestrator} from \"entitySystem/orchestrator\";\r\n\r\nexport class CollisionSystem extends System {\r\n\tpublic Run(entities: Entity[], orchestrator: Orchestrator, deltaTime: number): void {\r\n\t\tSystem.ApplyToPairs(\r\n\t\t\tentities,\r\n\t\t\t(entity: Entity): boolean => {\r\n\t\t\t\treturn !!entity.collisionComponent;\r\n\t\t\t},\r\n\t\t\t(entityA: Entity, entityB: Entity): void => {\r\n\t\t\t\tthis.Collide(entityA, entityB, orchestrator, deltaTime);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate Collide(entityA: Entity, entityB: Entity, orchestrator: Orchestrator, deltaTime: number): void {\r\n\r\n\t\tlet isVerticalOverlap: boolean =\r\n\t\t\t(entityA.locationComponent.top < entityB.locationComponent.bottom) &&\r\n\t\t\t(entityA.locationComponent.bottom > entityB.locationComponent.top);\r\n\r\n\t\tlet isHorizontalOverlap: boolean =\r\n\t\t\t(entityA.locationComponent.left < entityB.locationComponent.right) &&\r\n\t\t\t(entityA.locationComponent.right > entityB.locationComponent.left);\r\n\r\n\t\t// If theres no overlap then return.\r\n\t\tif (!isHorizontalOverlap || !isVerticalOverlap) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Always simulate a vertical bounce\r\n\t\t// If masses are the same speed can be swapped during an elastic collision\r\n\t\tlet entityAYSpeed: number = entityA.locationComponent.ySpeed;\r\n\t\tlet entityBYSpeed: number = entityB.locationComponent.ySpeed;\r\n\t\tentityA.locationComponent.ySpeed = entityBYSpeed;\r\n\t\tentityB.locationComponent.ySpeed = entityAYSpeed;\r\n\r\n\t\t// Only simulate a horizontal bounce if the x overlap has just started\r\n\t\tlet entityAPreviousLeft: number = entityA.locationComponent.xPosition - entityA.locationComponent.xSpeed;\r\n\t\tlet entityAPreviousRight: number = entityAPreviousLeft + entityA.locationComponent.width;\r\n\t\tlet entityBPreviousLeft: number = entityB.locationComponent.xPosition - entityA.locationComponent.xSpeed;\r\n\t\tlet entityBPreviousRight: number = entityBPreviousLeft + entityB.locationComponent.width;\r\n\r\n\t\tlet wasHorizontalOverlap: boolean =\r\n\t\t\t(entityAPreviousLeft < entityBPreviousRight)\r\n\t\t\t&& (entityAPreviousRight > entityBPreviousLeft);\r\n\r\n\t\tif (!wasHorizontalOverlap) {\r\n\t\t\tentityA.locationComponent.xSpeed = -entityA.locationComponent.xSpeed;\r\n\t\t\tentityB.locationComponent.xSpeed = -entityB.locationComponent.xSpeed;\r\n\t\t}\r\n\r\n\t\tentityA.collisionComponent.onCollide.trigger();\r\n\t\tentityB.collisionComponent.onCollide.trigger();\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entitySystem/collisionSystem.ts\n **/"],"sourceRoot":""}